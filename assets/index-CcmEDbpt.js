(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Qx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var w1={exports:{}},Xh={},E1={exports:{}},dn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _M;function QP(){if(_M)return dn;_M=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,T={};function E(W,se,Oe){this.props=W,this.context=se,this.refs=T,this.updater=Oe||_}E.prototype.isReactComponent={},E.prototype.setState=function(W,se){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,se,"setState")},E.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function S(){}S.prototype=E.prototype;function b(W,se,Oe){this.props=W,this.context=se,this.refs=T,this.updater=Oe||_}var C=b.prototype=new S;C.constructor=b,M(C,E.prototype),C.isPureReactComponent=!0;var I=Array.isArray,U=Object.prototype.hasOwnProperty,N={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function B(W,se,Oe){var ue,Ee={},De=null,Re=null;if(se!=null)for(ue in se.ref!==void 0&&(Re=se.ref),se.key!==void 0&&(De=""+se.key),se)U.call(se,ue)&&!F.hasOwnProperty(ue)&&(Ee[ue]=se[ue]);var We=arguments.length-2;if(We===1)Ee.children=Oe;else if(1<We){for(var Ke=Array(We),ct=0;ct<We;ct++)Ke[ct]=arguments[ct+2];Ee.children=Ke}if(W&&W.defaultProps)for(ue in We=W.defaultProps,We)Ee[ue]===void 0&&(Ee[ue]=We[ue]);return{$$typeof:n,type:W,key:De,ref:Re,props:Ee,_owner:N.current}}function O(W,se){return{$$typeof:n,type:W.type,key:se,ref:W.ref,props:W.props,_owner:W._owner}}function D(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function H(W){var se={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Oe){return se[Oe]})}var ne=/\/+/g;function ee(W,se){return typeof W=="object"&&W!==null&&W.key!=null?H(""+W.key):se.toString(36)}function pe(W,se,Oe,ue,Ee){var De=typeof W;(De==="undefined"||De==="boolean")&&(W=null);var Re=!1;if(W===null)Re=!0;else switch(De){case"string":case"number":Re=!0;break;case"object":switch(W.$$typeof){case n:case e:Re=!0}}if(Re)return Re=W,Ee=Ee(Re),W=ue===""?"."+ee(Re,0):ue,I(Ee)?(Oe="",W!=null&&(Oe=W.replace(ne,"$&/")+"/"),pe(Ee,se,Oe,"",function(ct){return ct})):Ee!=null&&(D(Ee)&&(Ee=O(Ee,Oe+(!Ee.key||Re&&Re.key===Ee.key?"":(""+Ee.key).replace(ne,"$&/")+"/")+W)),se.push(Ee)),1;if(Re=0,ue=ue===""?".":ue+":",I(W))for(var We=0;We<W.length;We++){De=W[We];var Ke=ue+ee(De,We);Re+=pe(De,se,Oe,Ke,Ee)}else if(Ke=y(W),typeof Ke=="function")for(W=Ke.call(W),We=0;!(De=W.next()).done;)De=De.value,Ke=ue+ee(De,We++),Re+=pe(De,se,Oe,Ke,Ee);else if(De==="object")throw se=String(W),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return Re}function Me(W,se,Oe){if(W==null)return W;var ue=[],Ee=0;return pe(W,ue,"","",function(De){return se.call(Oe,De,Ee++)}),ue}function he(W){if(W._status===-1){var se=W._result;se=se(),se.then(function(Oe){(W._status===0||W._status===-1)&&(W._status=1,W._result=Oe)},function(Oe){(W._status===0||W._status===-1)&&(W._status=2,W._result=Oe)}),W._status===-1&&(W._status=0,W._result=se)}if(W._status===1)return W._result.default;throw W._result}var me={current:null},G={transition:null},te={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:G,ReactCurrentOwner:N};function $(){throw Error("act(...) is not supported in production builds of React.")}return dn.Children={map:Me,forEach:function(W,se,Oe){Me(W,function(){se.apply(this,arguments)},Oe)},count:function(W){var se=0;return Me(W,function(){se++}),se},toArray:function(W){return Me(W,function(se){return se})||[]},only:function(W){if(!D(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},dn.Component=E,dn.Fragment=t,dn.Profiler=r,dn.PureComponent=b,dn.StrictMode=i,dn.Suspense=d,dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,dn.act=$,dn.cloneElement=function(W,se,Oe){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ue=M({},W.props),Ee=W.key,De=W.ref,Re=W._owner;if(se!=null){if(se.ref!==void 0&&(De=se.ref,Re=N.current),se.key!==void 0&&(Ee=""+se.key),W.type&&W.type.defaultProps)var We=W.type.defaultProps;for(Ke in se)U.call(se,Ke)&&!F.hasOwnProperty(Ke)&&(ue[Ke]=se[Ke]===void 0&&We!==void 0?We[Ke]:se[Ke])}var Ke=arguments.length-2;if(Ke===1)ue.children=Oe;else if(1<Ke){We=Array(Ke);for(var ct=0;ct<Ke;ct++)We[ct]=arguments[ct+2];ue.children=We}return{$$typeof:n,type:W.type,key:Ee,ref:De,props:ue,_owner:Re}},dn.createContext=function(W){return W={$$typeof:a,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},dn.createElement=B,dn.createFactory=function(W){var se=B.bind(null,W);return se.type=W,se},dn.createRef=function(){return{current:null}},dn.forwardRef=function(W){return{$$typeof:u,render:W}},dn.isValidElement=D,dn.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:he}},dn.memo=function(W,se){return{$$typeof:h,type:W,compare:se===void 0?null:se}},dn.startTransition=function(W){var se=G.transition;G.transition={};try{W()}finally{G.transition=se}},dn.unstable_act=$,dn.useCallback=function(W,se){return me.current.useCallback(W,se)},dn.useContext=function(W){return me.current.useContext(W)},dn.useDebugValue=function(){},dn.useDeferredValue=function(W){return me.current.useDeferredValue(W)},dn.useEffect=function(W,se){return me.current.useEffect(W,se)},dn.useId=function(){return me.current.useId()},dn.useImperativeHandle=function(W,se,Oe){return me.current.useImperativeHandle(W,se,Oe)},dn.useInsertionEffect=function(W,se){return me.current.useInsertionEffect(W,se)},dn.useLayoutEffect=function(W,se){return me.current.useLayoutEffect(W,se)},dn.useMemo=function(W,se){return me.current.useMemo(W,se)},dn.useReducer=function(W,se,Oe){return me.current.useReducer(W,se,Oe)},dn.useRef=function(W){return me.current.useRef(W)},dn.useState=function(W){return me.current.useState(W)},dn.useSyncExternalStore=function(W,se,Oe){return me.current.useSyncExternalStore(W,se,Oe)},dn.useTransition=function(){return me.current.useTransition()},dn.version="18.3.1",dn}var xM;function $y(){return xM||(xM=1,E1.exports=QP()),E1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SM;function JP(){if(SM)return Xh;SM=1;var n=$y(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(u,d,h){var m,g={},y=null,_=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(_=d.ref);for(m in d)i.call(d,m)&&!s.hasOwnProperty(m)&&(g[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:u,key:y,ref:_,props:g,_owner:r.current}}return Xh.Fragment=t,Xh.jsx=a,Xh.jsxs=a,Xh}var MM;function eR(){return MM||(MM=1,w1.exports=JP()),w1.exports}var je=eR(),Se=$y();const zs=Qx(Se);var bg={},T1={exports:{}},jr={},A1={exports:{}},C1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wM;function tR(){return wM||(wM=1,function(n){function e(G,te){var $=G.length;G.push(te);e:for(;0<$;){var W=$-1>>>1,se=G[W];if(0<r(se,te))G[W]=te,G[$]=se,$=W;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var te=G[0],$=G.pop();if($!==te){G[0]=$;e:for(var W=0,se=G.length,Oe=se>>>1;W<Oe;){var ue=2*(W+1)-1,Ee=G[ue],De=ue+1,Re=G[De];if(0>r(Ee,$))De<se&&0>r(Re,Ee)?(G[W]=Re,G[De]=$,W=De):(G[W]=Ee,G[ue]=$,W=ue);else if(De<se&&0>r(Re,$))G[W]=Re,G[De]=$,W=De;else break e}}return te}function r(G,te){var $=G.sortIndex-te.sortIndex;return $!==0?$:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var d=[],h=[],m=1,g=null,y=3,_=!1,M=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(G){for(var te=t(h);te!==null;){if(te.callback===null)i(h);else if(te.startTime<=G)i(h),te.sortIndex=te.expirationTime,e(d,te);else break;te=t(h)}}function I(G){if(T=!1,C(G),!M)if(t(d)!==null)M=!0,he(U);else{var te=t(h);te!==null&&me(I,te.startTime-G)}}function U(G,te){M=!1,T&&(T=!1,S(B),B=-1),_=!0;var $=y;try{for(C(te),g=t(d);g!==null&&(!(g.expirationTime>te)||G&&!H());){var W=g.callback;if(typeof W=="function"){g.callback=null,y=g.priorityLevel;var se=W(g.expirationTime<=te);te=n.unstable_now(),typeof se=="function"?g.callback=se:g===t(d)&&i(d),C(te)}else i(d);g=t(d)}if(g!==null)var Oe=!0;else{var ue=t(h);ue!==null&&me(I,ue.startTime-te),Oe=!1}return Oe}finally{g=null,y=$,_=!1}}var N=!1,F=null,B=-1,O=5,D=-1;function H(){return!(n.unstable_now()-D<O)}function ne(){if(F!==null){var G=n.unstable_now();D=G;var te=!0;try{te=F(!0,G)}finally{te?ee():(N=!1,F=null)}}else N=!1}var ee;if(typeof b=="function")ee=function(){b(ne)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Me=pe.port2;pe.port1.onmessage=ne,ee=function(){Me.postMessage(null)}}else ee=function(){E(ne,0)};function he(G){F=G,N||(N=!0,ee())}function me(G,te){B=E(function(){G(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){M||_||(M=!0,he(U))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(G){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var $=y;y=te;try{return G()}finally{y=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var $=y;y=G;try{return te()}finally{y=$}},n.unstable_scheduleCallback=function(G,te,$){var W=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?W+$:W):$=W,G){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=$+se,G={id:m++,callback:te,priorityLevel:G,startTime:$,expirationTime:se,sortIndex:-1},$>W?(G.sortIndex=$,e(h,G),t(d)===null&&G===t(h)&&(T?(S(B),B=-1):T=!0,me(I,$-W))):(G.sortIndex=se,e(d,G),M||_||(M=!0,he(U))),G},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(G){var te=y;return function(){var $=y;y=te;try{return G.apply(this,arguments)}finally{y=$}}}}(C1)),C1}var EM;function nR(){return EM||(EM=1,A1.exports=tR()),A1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TM;function iR(){if(TM)return jr;TM=1;var n=$y(),e=nR();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(r[o]=l,o=0;o<l.length;o++)i.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function y(o){return d.call(g,o)?!0:d.call(m,o)?!1:h.test(o)?g[o]=!0:(m[o]=!0,!1)}function _(o,l,p,x){if(p!==null&&p.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return x?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function M(o,l,p,x){if(l===null||typeof l>"u"||_(o,l,p,x))return!0;if(x)return!1;if(p!==null)switch(p.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(o,l,p,x,A,R,k){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=x,this.attributeNamespace=A,this.mustUseProperty=p,this.propertyName=o,this.type=l,this.sanitizeURL=R,this.removeEmptyString=k}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){E[o]=new T(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];E[l]=new T(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){E[o]=new T(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){E[o]=new T(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){E[o]=new T(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){E[o]=new T(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){E[o]=new T(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){E[o]=new T(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){E[o]=new T(o,5,!1,o.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function b(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(S,b);E[l]=new T(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(S,b);E[l]=new T(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(S,b);E[l]=new T(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){E[o]=new T(o,1,!1,o.toLowerCase(),null,!1,!1)}),E.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){E[o]=new T(o,1,!1,o.toLowerCase(),null,!0,!0)});function C(o,l,p,x){var A=E.hasOwnProperty(l)?E[l]:null;(A!==null?A.type!==0:x||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(M(l,p,A,x)&&(p=null),x||A===null?y(l)&&(p===null?o.removeAttribute(l):o.setAttribute(l,""+p)):A.mustUseProperty?o[A.propertyName]=p===null?A.type===3?!1:"":p:(l=A.attributeName,x=A.attributeNamespace,p===null?o.removeAttribute(l):(A=A.type,p=A===3||A===4&&p===!0?"":""+p,x?o.setAttributeNS(x,l,p):o.setAttribute(l,p))))}var I=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),N=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),H=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),G=Symbol.iterator;function te(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var $=Object.assign,W;function se(o){if(W===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);W=l&&l[1]||""}return`
`+W+o}var Oe=!1;function ue(o,l){if(!o||Oe)return"";Oe=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(_e){var x=_e}Reflect.construct(o,[],l)}else{try{l.call()}catch(_e){x=_e}o.call(l.prototype)}else{try{throw Error()}catch(_e){x=_e}o()}}catch(_e){if(_e&&x&&typeof _e.stack=="string"){for(var A=_e.stack.split(`
`),R=x.stack.split(`
`),k=A.length-1,Z=R.length-1;1<=k&&0<=Z&&A[k]!==R[Z];)Z--;for(;1<=k&&0<=Z;k--,Z--)if(A[k]!==R[Z]){if(k!==1||Z!==1)do if(k--,Z--,0>Z||A[k]!==R[Z]){var J=`
`+A[k].replace(" at new "," at ");return o.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",o.displayName)),J}while(1<=k&&0<=Z);break}}}finally{Oe=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?se(o):""}function Ee(o){switch(o.tag){case 5:return se(o.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return o=ue(o.type,!1),o;case 11:return o=ue(o.type.render,!1),o;case 1:return o=ue(o.type,!0),o;default:return""}}function De(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case F:return"Fragment";case N:return"Portal";case O:return"Profiler";case B:return"StrictMode";case ee:return"Suspense";case pe:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case H:return(o.displayName||"Context")+".Consumer";case D:return(o._context.displayName||"Context")+".Provider";case ne:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Me:return l=o.displayName||null,l!==null?l:De(o.type)||"Memo";case he:l=o._payload,o=o._init;try{return De(o(l))}catch{}}return null}function Re(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(l);case 8:return l===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function We(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ke(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ct(o){var l=Ke(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),x=""+o[l];if(!o.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var A=p.get,R=p.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return A.call(this)},set:function(k){x=""+k,R.call(this,k)}}),Object.defineProperty(o,l,{enumerable:p.enumerable}),{getValue:function(){return x},setValue:function(k){x=""+k},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Pt(o){o._valueTracker||(o._valueTracker=ct(o))}function be(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var p=l.getValue(),x="";return o&&(x=Ke(o)?o.checked?"true":"false":o.value),o=x,o!==p?(l.setValue(o),!0):!1}function Ne(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Y(o,l){var p=l.checked;return $({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function xt(o,l){var p=l.defaultValue==null?"":l.defaultValue,x=l.checked!=null?l.checked:l.defaultChecked;p=We(l.value!=null?l.value:p),o._wrapperState={initialChecked:x,initialValue:p,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Be(o,l){l=l.checked,l!=null&&C(o,"checked",l,!1)}function at(o,l){Be(o,l);var p=We(l.value),x=l.type;if(p!=null)x==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Rt(o,l.type,p):l.hasOwnProperty("defaultValue")&&Rt(o,l.type,We(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Xe(o,l,p){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var x=l.type;if(!(x!=="submit"&&x!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,p||l===o.value||(o.value=l),o.defaultValue=l}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function Rt(o,l,p){(l!=="number"||Ne(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var $e=Array.isArray;function j(o,l,p,x){if(o=o.options,l){l={};for(var A=0;A<p.length;A++)l["$"+p[A]]=!0;for(p=0;p<o.length;p++)A=l.hasOwnProperty("$"+o[p].value),o[p].selected!==A&&(o[p].selected=A),A&&x&&(o[p].defaultSelected=!0)}else{for(p=""+We(p),l=null,A=0;A<o.length;A++){if(o[A].value===p){o[A].selected=!0,x&&(o[A].defaultSelected=!0);return}l!==null||o[A].disabled||(l=o[A])}l!==null&&(l.selected=!0)}}function z(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return $({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function de(o,l){var p=l.value;if(p==null){if(p=l.children,l=l.defaultValue,p!=null){if(l!=null)throw Error(t(92));if($e(p)){if(1<p.length)throw Error(t(93));p=p[0]}l=p}l==null&&(l=""),p=l}o._wrapperState={initialValue:We(p)}}function Ae(o,l){var p=We(l.value),x=We(l.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),l.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),x!=null&&(o.defaultValue=""+x)}function Ue(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Ie(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Ie(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Qe,lt=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,p,x,A){MSApp.execUnsafeLocalFunction(function(){return o(l,p,x,A)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Qe=Qe||document.createElement("div"),Qe.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Qe.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Gt(o,l){if(l){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=l;return}}o.textContent=l}var ze={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mt=["Webkit","ms","Moz","O"];Object.keys(ze).forEach(function(o){mt.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),ze[l]=ze[o]})});function Lt(o,l,p){return l==null||typeof l=="boolean"||l===""?"":p||typeof l!="number"||l===0||ze.hasOwnProperty(o)&&ze[o]?(""+l).trim():l+"px"}function Ut(o,l){o=o.style;for(var p in l)if(l.hasOwnProperty(p)){var x=p.indexOf("--")===0,A=Lt(p,l[p],x);p==="float"&&(p="cssFloat"),x?o.setProperty(p,A):o[p]=A}}var dt=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q(o,l){if(l){if(dt[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Ce(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tt=null;function K(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var He=null,xe=null,Pe=null;function ot(o){if(o=$s(o)){if(typeof He!="function")throw Error(t(280));var l=o.stateNode;l&&(l=Cf(l),He(o.stateNode,o.type,l))}}function nt(o){xe?Pe?Pe.push(o):Pe=[o]:xe=o}function It(){if(xe){var o=xe,l=Pe;if(Pe=xe=null,ot(o),l)for(o=0;o<l.length;o++)ot(l[o])}}function hn(o,l){return o(l)}function Rn(){}var $t=!1;function Yn(o,l,p){if($t)return o(l,p);$t=!0;try{return hn(o,l,p)}finally{$t=!1,(xe!==null||Pe!==null)&&(Rn(),It())}}function Jn(o,l){var p=o.stateNode;if(p===null)return null;var x=Cf(p);if(x===null)return null;p=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(t(231,l,typeof p));return p}var il=!1;if(u)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){il=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{il=!1}function _s(o,l,p,x,A,R,k,Z,J){var _e=Array.prototype.slice.call(arguments,3);try{l.apply(p,_e)}catch(ke){this.onError(ke)}}var Jr=!1,ta=null,es=!1,bo=null,Bc={onError:function(o){Jr=!0,ta=o}};function rl(o,l,p,x,A,R,k,Z,J){Jr=!1,ta=null,_s.apply(Bc,arguments)}function Vc(o,l,p,x,A,R,k,Z,J){if(rl.apply(this,arguments),Jr){if(Jr){var _e=ta;Jr=!1,ta=null}else throw Error(t(198));es||(es=!0,bo=_e)}}function xs(o){var l=o,p=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,l.flags&4098&&(p=l.return),o=l.return;while(o)}return l.tag===3?p:null}function Hc(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Gc(o){if(xs(o)!==o)throw Error(t(188))}function Wc(o){var l=o.alternate;if(!l){if(l=xs(o),l===null)throw Error(t(188));return l!==o?null:o}for(var p=o,x=l;;){var A=p.return;if(A===null)break;var R=A.alternate;if(R===null){if(x=A.return,x!==null){p=x;continue}break}if(A.child===R.child){for(R=A.child;R;){if(R===p)return Gc(A),o;if(R===x)return Gc(A),l;R=R.sibling}throw Error(t(188))}if(p.return!==x.return)p=A,x=R;else{for(var k=!1,Z=A.child;Z;){if(Z===p){k=!0,p=A,x=R;break}if(Z===x){k=!0,x=A,p=R;break}Z=Z.sibling}if(!k){for(Z=R.child;Z;){if(Z===p){k=!0,p=R,x=A;break}if(Z===x){k=!0,x=R,p=A;break}Z=Z.sibling}if(!k)throw Error(t(189))}}if(p.alternate!==x)throw Error(t(190))}if(p.tag!==3)throw Error(t(188));return p.stateNode.current===p?o:l}function jc(o){return o=Wc(o),o!==null?Xc(o):null}function Xc(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Xc(o);if(l!==null)return l;o=o.sibling}return null}var Yc=e.unstable_scheduleCallback,V=e.unstable_cancelCallback,oe=e.unstable_shouldYield,ve=e.unstable_requestPaint,ce=e.unstable_now,le=e.unstable_getCurrentPriorityLevel,Ve=e.unstable_ImmediatePriority,it=e.unstable_UserBlockingPriority,ft=e.unstable_NormalPriority,gt=e.unstable_LowPriority,Dt=e.unstable_IdlePriority,bt=null,qe=null;function wt(o){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(bt,o,void 0,(o.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Qt,ln=Math.log,un=Math.LN2;function Qt(o){return o>>>=0,o===0?32:31-(ln(o)/un|0)|0}var Mt=64,pn=4194304;function tn(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function wi(o,l){var p=o.pendingLanes;if(p===0)return 0;var x=0,A=o.suspendedLanes,R=o.pingedLanes,k=p&268435455;if(k!==0){var Z=k&~A;Z!==0?x=tn(Z):(R&=k,R!==0&&(x=tn(R)))}else k=p&~A,k!==0?x=tn(k):R!==0&&(x=tn(R));if(x===0)return 0;if(l!==0&&l!==x&&!(l&A)&&(A=x&-x,R=l&-l,A>=R||A===16&&(R&4194240)!==0))return l;if(x&4&&(x|=p&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=x;0<l;)p=31-zt(l),A=1<<p,x|=o[p],l&=~A;return x}function Hs(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(o,l){for(var p=o.suspendedLanes,x=o.pingedLanes,A=o.expirationTimes,R=o.pendingLanes;0<R;){var k=31-zt(R),Z=1<<k,J=A[k];J===-1?(!(Z&p)||Z&x)&&(A[k]=Hs(Z,l)):J<=l&&(o.expiredLanes|=Z),R&=~Z}}function Ss(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function cn(){var o=Mt;return Mt<<=1,!(Mt&4194240)&&(Mt=64),o}function Ui(o){for(var l=[],p=0;31>p;p++)l.push(o);return l}function hi(o,l,p){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-zt(l),o[l]=p}function Ei(o,l){var p=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<p;){var A=31-zt(p),R=1<<A;l[A]=0,x[A]=-1,o[A]=-1,p&=~R}}function qn(o,l){var p=o.entangledLanes|=l;for(o=o.entanglements;p;){var x=31-zt(p),A=1<<x;A&l|o[x]&l&&(o[x]|=l),p&=~A}}var fn=0;function er(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var ou,Qd,Om,qc,Zc,na=!1,Kc=[],Ms=null,nn=null,Gs=null,ia=new Map,sl=new Map,Po=[],qv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oi(o,l){switch(o){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":ia.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(l.pointerId)}}function ra(o,l,p,x,A,R){return o===null||o.nativeEvent!==R?(o={blockedOn:l,domEventName:p,eventSystemFlags:x,nativeEvent:R,targetContainers:[A]},l!==null&&(l=$s(l),l!==null&&Qd(l)),o):(o.eventSystemFlags|=x,l=o.targetContainers,A!==null&&l.indexOf(A)===-1&&l.push(A),o)}function Zv(o,l,p,x,A){switch(l){case"focusin":return Ms=ra(Ms,o,l,p,x,A),!0;case"dragenter":return nn=ra(nn,o,l,p,x,A),!0;case"mouseover":return Gs=ra(Gs,o,l,p,x,A),!0;case"pointerover":var R=A.pointerId;return ia.set(R,ra(ia.get(R)||null,o,l,p,x,A)),!0;case"gotpointercapture":return R=A.pointerId,sl.set(R,ra(sl.get(R)||null,o,l,p,x,A)),!0}return!1}function $c(o){var l=Oo(o.target);if(l!==null){var p=xs(l);if(p!==null){if(l=p.tag,l===13){if(l=Hc(p),l!==null){o.blockedOn=l,Zc(o.priority,function(){Om(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Qc(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var p=Ur(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var x=new p.constructor(p.type,p);tt=x,p.target.dispatchEvent(x),tt=null}else return l=$s(p),l!==null&&Qd(l),o.blockedOn=p,!1;l.shift()}return!0}function au(o,l,p){Qc(o)&&p.delete(l)}function ws(){na=!1,Ms!==null&&Qc(Ms)&&(Ms=null),nn!==null&&Qc(nn)&&(nn=null),Gs!==null&&Qc(Gs)&&(Gs=null),ia.forEach(au),sl.forEach(au)}function lu(o,l){o.blockedOn===l&&(o.blockedOn=null,na||(na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ws)))}function uu(o){function l(A){return lu(A,o)}if(0<Kc.length){lu(Kc[0],o);for(var p=1;p<Kc.length;p++){var x=Kc[p];x.blockedOn===o&&(x.blockedOn=null)}}for(Ms!==null&&lu(Ms,o),nn!==null&&lu(nn,o),Gs!==null&&lu(Gs,o),ia.forEach(l),sl.forEach(l),p=0;p<Po.length;p++)x=Po[p],x.blockedOn===o&&(x.blockedOn=null);for(;0<Po.length&&(p=Po[0],p.blockedOn===null);)$c(p),p.blockedOn===null&&Po.shift()}var Gi=I.ReactCurrentBatchConfig,Nr=!0;function Jc(o,l,p,x){var A=fn,R=Gi.transition;Gi.transition=null;try{fn=1,ef(o,l,p,x)}finally{fn=A,Gi.transition=R}}function Jd(o,l,p,x){var A=fn,R=Gi.transition;Gi.transition=null;try{fn=4,ef(o,l,p,x)}finally{fn=A,Gi.transition=R}}function ef(o,l,p,x){if(Nr){var A=Ur(o,l,p,x);if(A===null)Sf(o,l,x,tf,p),oi(o,x);else if(Zv(A,o,l,p,x))x.stopPropagation();else if(oi(o,x),l&4&&-1<qv.indexOf(o)){for(;A!==null;){var R=$s(A);if(R!==null&&ou(R),R=Ur(o,l,p,x),R===null&&Sf(o,l,x,tf,p),R===A)break;A=R}A!==null&&x.stopPropagation()}else Sf(o,l,x,null,p)}}var tf=null;function Ur(o,l,p,x){if(tf=null,o=K(x),o=Oo(o),o!==null)if(l=xs(o),l===null)o=null;else if(p=l.tag,p===13){if(o=Hc(l),o!==null)return o;o=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return tf=o,null}function Fm(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(le()){case Ve:return 1;case it:return 4;case ft:case gt:return 16;case Dt:return 536870912;default:return 16}default:return 16}}var ts=null,eh=null,tr=null;function cu(){if(tr)return tr;var o,l=eh,p=l.length,x,A="value"in ts?ts.value:ts.textContent,R=A.length;for(o=0;o<p&&l[o]===A[o];o++);var k=p-o;for(x=1;x<=k&&l[p-x]===A[R-x];x++);return tr=A.slice(o,1<x?1-x:void 0)}function sa(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ws(){return!0}function nf(){return!1}function Wi(o){function l(p,x,A,R,k){this._reactName=p,this._targetInst=A,this.type=x,this.nativeEvent=R,this.target=k,this.currentTarget=null;for(var Z in o)o.hasOwnProperty(Z)&&(p=o[Z],this[Z]=p?p(R):R[Z]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Ws:nf,this.isPropagationStopped=nf,this}return $(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),l}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fu=Wi(oa),aa=$({},oa,{view:0,detail:0}),ol=Wi(aa),nr,Or,Fr,al=$({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Io,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Fr&&(Fr&&o.type==="mousemove"?(nr=o.screenX-Fr.screenX,Or=o.screenY-Fr.screenY):Or=nr=0,Fr=o),nr)},movementY:function(o){return"movementY"in o?o.movementY:Or}}),th=Wi(al),js=$({},al,{dataTransfer:0}),Ro=Wi(js),rf=$({},aa,{relatedTarget:0}),sf=Wi(rf),of=$({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),km=Wi(of),zm=$({},oa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),nh=Wi(zm),af=$({},oa,{data:0}),ih=Wi(af),Bm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=rh[o])?!!l[o]:!1}function Io(){return ll}var lf=$({},aa,{key:function(o){if(o.key){var l=Bm[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=sa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Vm[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Io,charCode:function(o){return o.type==="keypress"?sa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?sa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),uf=Wi(lf),kr=$({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=Wi(kr),la=$({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Io}),Xs=Wi(la),Ys=$({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),ua=Wi(Ys),Hm=$({},al,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),sh=Wi(Hm),oh=[9,13,27,32],ji=u&&"CompositionEvent"in window,Ti=null;u&&"documentMode"in document&&(Ti=document.documentMode);var Fn=u&&"TextEvent"in window&&!Ti,ul=u&&(!ji||Ti&&8<Ti&&11>=Ti),zr=" ",ah=!1;function lh(o,l){switch(o){case"keyup":return oh.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cf(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Lo=!1;function Gm(o,l){switch(o){case"compositionend":return cf(l);case"keypress":return l.which!==32?null:(ah=!0,zr);case"textInput":return o=l.data,o===zr&&ah?null:o;default:return null}}function du(o,l){if(Lo)return o==="compositionend"||!ji&&lh(o,l)?(o=cu(),tr=eh=ts=null,Lo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ul&&l.locale!=="ko"?null:l.data;default:return null}}var cl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ff(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!cl[o.type]:l==="textarea"}function fl(o,l,p,x){nt(x),l=Mf(l,"onChange"),0<l.length&&(p=new fu("onChange","change",null,p,x),o.push({event:p,listeners:l}))}var Do=null,dl=null;function Wm(o){gl(o,0)}function qs(o){var l=Zn(o);if(be(l))return o}function jm(o,l){if(o==="change")return l}var hl=!1;if(u){var ir;if(u){var ca="oninput"in document;if(!ca){var fa=document.createElement("div");fa.setAttribute("oninput","return;"),ca=typeof fa.oninput=="function"}ir=ca}else ir=!1;hl=ir&&(!document.documentMode||9<document.documentMode)}function ns(){Do&&(Do.detachEvent("onpropertychange",df),dl=Do=null)}function df(o){if(o.propertyName==="value"&&qs(dl)){var l=[];fl(l,dl,o,K(o)),Yn(Wm,l)}}function pl(o,l,p){o==="focusin"?(ns(),Do=l,dl=p,Do.attachEvent("onpropertychange",df)):o==="focusout"&&ns()}function Xm(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return qs(dl)}function uh(o,l){if(o==="click")return qs(l)}function zn(o,l){if(o==="input"||o==="change")return qs(l)}function hf(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var vr=typeof Object.is=="function"?Object.is:hf;function da(o,l){if(vr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var p=Object.keys(o),x=Object.keys(l);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var A=p[x];if(!d.call(l,A)||!vr(o[A],l[A]))return!1}return!0}function hu(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function _r(o,l){var p=hu(o);o=0;for(var x;p;){if(p.nodeType===3){if(x=o+p.textContent.length,o<=l&&x>=l)return{node:p,offset:l-o};o=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=hu(p)}}function ha(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?ha(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Bn(){for(var o=window,l=Ne();l instanceof o.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)o=l.contentWindow;else break;l=Ne(o.document)}return l}function pi(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function mi(o){var l=Bn(),p=o.focusedElem,x=o.selectionRange;if(l!==p&&p&&p.ownerDocument&&ha(p.ownerDocument.documentElement,p)){if(x!==null&&pi(p)){if(l=x.start,o=x.end,o===void 0&&(o=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(o,p.value.length);else if(o=(l=p.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var A=p.textContent.length,R=Math.min(x.start,A);x=x.end===void 0?R:Math.min(x.end,A),!o.extend&&R>x&&(A=x,x=R,R=A),A=_r(p,R);var k=_r(p,x);A&&k&&(o.rangeCount!==1||o.anchorNode!==A.node||o.anchorOffset!==A.offset||o.focusNode!==k.node||o.focusOffset!==k.offset)&&(l=l.createRange(),l.setStart(A.node,A.offset),o.removeAllRanges(),R>x?(o.addRange(l),o.extend(k.node,k.offset)):(l.setEnd(k.node,k.offset),o.addRange(l)))}}for(l=[],o=p;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)o=l[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var pf=u&&"documentMode"in document&&11>=document.documentMode,Es=null,pa=null,pu=null,gi=!1;function mf(o,l,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;gi||Es==null||Es!==Ne(x)||(x=Es,"selectionStart"in x&&pi(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),pu&&da(pu,x)||(pu=x,x=Mf(pa,"onSelect"),0<x.length&&(l=new fu("onSelect","select",null,l,p),o.push({event:l,listeners:x}),l.target=Es)))}function ml(o,l){var p={};return p[o.toLowerCase()]=l.toLowerCase(),p["Webkit"+o]="webkit"+l,p["Moz"+o]="moz"+l,p}var No={animationend:ml("Animation","AnimationEnd"),animationiteration:ml("Animation","AnimationIteration"),animationstart:ml("Animation","AnimationStart"),transitionend:ml("Transition","TransitionEnd")},is={},rs={};u&&(rs=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Ts(o){if(is[o])return is[o];if(!No[o])return o;var l=No[o],p;for(p in l)if(l.hasOwnProperty(p)&&p in rs)return is[o]=l[p];return o}var mu=Ts("animationend"),gu=Ts("animationiteration"),ch=Ts("animationstart"),fh=Ts("transitionend"),dh=new Map,hh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(o,l){dh.set(o,l),s(l,[o])}for(var gf=0;gf<hh.length;gf++){var yu=hh[gf],vu=yu.toLowerCase(),Ym=yu[0].toUpperCase()+yu.slice(1);Zs(vu,"on"+Ym)}Zs(mu,"onAnimationEnd"),Zs(gu,"onAnimationIteration"),Zs(ch,"onAnimationStart"),Zs("dblclick","onDoubleClick"),Zs("focusin","onFocus"),Zs("focusout","onBlur"),Zs(fh,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function vf(o,l,p){var x=o.type||"unknown-event";o.currentTarget=p,Vc(x,l,void 0,o),o.currentTarget=null}function gl(o,l){l=(l&4)!==0;for(var p=0;p<o.length;p++){var x=o[p],A=x.event;x=x.listeners;e:{var R=void 0;if(l)for(var k=x.length-1;0<=k;k--){var Z=x[k],J=Z.instance,_e=Z.currentTarget;if(Z=Z.listener,J!==R&&A.isPropagationStopped())break e;vf(A,Z,_e),R=J}else for(k=0;k<x.length;k++){if(Z=x[k],J=Z.instance,_e=Z.currentTarget,Z=Z.listener,J!==R&&A.isPropagationStopped())break e;vf(A,Z,_e),R=J}}}if(es)throw o=bo,es=!1,bo=null,o}function In(o,l){var p=l[ya];p===void 0&&(p=l[ya]=new Set);var x=o+"__bubble";p.has(x)||(xf(l,o,2,!1),p.add(x))}function _f(o,l,p){var x=0;l&&(x|=4),xf(p,o,x,l)}var _u="_reactListening"+Math.random().toString(36).slice(2);function yl(o){if(!o[_u]){o[_u]=!0,i.forEach(function(p){p!=="selectionchange"&&(yf.has(p)||_f(p,!1,o),_f(p,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[_u]||(l[_u]=!0,_f("selectionchange",!1,l))}}function xf(o,l,p,x){switch(Fm(l)){case 1:var A=Jc;break;case 4:A=Jd;break;default:A=ef}p=A.bind(null,l,p,o),A=void 0,!il||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(A=!0),x?A!==void 0?o.addEventListener(l,p,{capture:!0,passive:A}):o.addEventListener(l,p,!0):A!==void 0?o.addEventListener(l,p,{passive:A}):o.addEventListener(l,p,!1)}function Sf(o,l,p,x,A){var R=x;if(!(l&1)&&!(l&2)&&x!==null)e:for(;;){if(x===null)return;var k=x.tag;if(k===3||k===4){var Z=x.stateNode.containerInfo;if(Z===A||Z.nodeType===8&&Z.parentNode===A)break;if(k===4)for(k=x.return;k!==null;){var J=k.tag;if((J===3||J===4)&&(J=k.stateNode.containerInfo,J===A||J.nodeType===8&&J.parentNode===A))return;k=k.return}for(;Z!==null;){if(k=Oo(Z),k===null)return;if(J=k.tag,J===5||J===6){x=R=k;continue e}Z=Z.parentNode}}x=x.return}Yn(function(){var _e=R,ke=K(p),Ge=[];e:{var Fe=dh.get(o);if(Fe!==void 0){var ht=fu,St=o;switch(o){case"keypress":if(sa(p)===0)break e;case"keydown":case"keyup":ht=uf;break;case"focusin":St="focus",ht=sf;break;case"focusout":St="blur",ht=sf;break;case"beforeblur":case"afterblur":ht=sf;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Ro;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Xs;break;case mu:case gu:case ch:ht=km;break;case fh:ht=ua;break;case"scroll":ht=ol;break;case"wheel":ht=sh;break;case"copy":case"cut":case"paste":ht=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=yr}var Et=(l&4)!==0,li=!Et&&o==="scroll",fe=Et?Fe!==null?Fe+"Capture":null:Fe;Et=[];for(var ie=_e,ge;ie!==null;){ge=ie;var Ze=ge.stateNode;if(ge.tag===5&&Ze!==null&&(ge=Ze,fe!==null&&(Ze=Jn(ie,fe),Ze!=null&&Et.push(vl(ie,Ze,ge)))),li)break;ie=ie.return}0<Et.length&&(Fe=new ht(Fe,St,null,p,ke),Ge.push({event:Fe,listeners:Et}))}}if(!(l&7)){e:{if(Fe=o==="mouseover"||o==="pointerover",ht=o==="mouseout"||o==="pointerout",Fe&&p!==tt&&(St=p.relatedTarget||p.fromElement)&&(Oo(St)||St[xr]))break e;if((ht||Fe)&&(Fe=ke.window===ke?ke:(Fe=ke.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,ht?(St=p.relatedTarget||p.toElement,ht=_e,St=St?Oo(St):null,St!==null&&(li=xs(St),St!==li||St.tag!==5&&St.tag!==6)&&(St=null)):(ht=null,St=_e),ht!==St)){if(Et=th,Ze="onMouseLeave",fe="onMouseEnter",ie="mouse",(o==="pointerout"||o==="pointerover")&&(Et=yr,Ze="onPointerLeave",fe="onPointerEnter",ie="pointer"),li=ht==null?Fe:Zn(ht),ge=St==null?Fe:Zn(St),Fe=new Et(Ze,ie+"leave",ht,p,ke),Fe.target=li,Fe.relatedTarget=ge,Ze=null,Oo(ke)===_e&&(Et=new Et(fe,ie+"enter",St,p,ke),Et.target=ge,Et.relatedTarget=li,Ze=Et),li=Ze,ht&&St)t:{for(Et=ht,fe=St,ie=0,ge=Et;ge;ge=ma(ge))ie++;for(ge=0,Ze=fe;Ze;Ze=ma(Ze))ge++;for(;0<ie-ge;)Et=ma(Et),ie--;for(;0<ge-ie;)fe=ma(fe),ge--;for(;ie--;){if(Et===fe||fe!==null&&Et===fe.alternate)break t;Et=ma(Et),fe=ma(fe)}Et=null}else Et=null;ht!==null&&qm(Ge,Fe,ht,Et,!1),St!==null&&li!==null&&qm(Ge,li,St,Et,!0)}}e:{if(Fe=_e?Zn(_e):window,ht=Fe.nodeName&&Fe.nodeName.toLowerCase(),ht==="select"||ht==="input"&&Fe.type==="file")var Ct=jm;else if(ff(Fe))if(hl)Ct=zn;else{Ct=Xm;var Ot=pl}else(ht=Fe.nodeName)&&ht.toLowerCase()==="input"&&(Fe.type==="checkbox"||Fe.type==="radio")&&(Ct=uh);if(Ct&&(Ct=Ct(o,_e))){fl(Ge,Ct,p,ke);break e}Ot&&Ot(o,Fe,_e),o==="focusout"&&(Ot=Fe._wrapperState)&&Ot.controlled&&Fe.type==="number"&&Rt(Fe,"number",Fe.value)}switch(Ot=_e?Zn(_e):window,o){case"focusin":(ff(Ot)||Ot.contentEditable==="true")&&(Es=Ot,pa=_e,pu=null);break;case"focusout":pu=pa=Es=null;break;case"mousedown":gi=!0;break;case"contextmenu":case"mouseup":case"dragend":gi=!1,mf(Ge,p,ke);break;case"selectionchange":if(pf)break;case"keydown":case"keyup":mf(Ge,p,ke)}var Ft;if(ji)e:{switch(o){case"compositionstart":var Ht="onCompositionStart";break e;case"compositionend":Ht="onCompositionEnd";break e;case"compositionupdate":Ht="onCompositionUpdate";break e}Ht=void 0}else Lo?lh(o,p)&&(Ht="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(Ht="onCompositionStart");Ht&&(ul&&p.locale!=="ko"&&(Lo||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Lo&&(Ft=cu()):(ts=ke,eh="value"in ts?ts.value:ts.textContent,Lo=!0)),Ot=Mf(_e,Ht),0<Ot.length&&(Ht=new ih(Ht,o,null,p,ke),Ge.push({event:Ht,listeners:Ot}),Ft?Ht.data=Ft:(Ft=cf(p),Ft!==null&&(Ht.data=Ft)))),(Ft=Fn?Gm(o,p):du(o,p))&&(_e=Mf(_e,"onBeforeInput"),0<_e.length&&(ke=new ih("onBeforeInput","beforeinput",null,p,ke),Ge.push({event:ke,listeners:_e}),ke.data=Ft))}gl(Ge,l)})}function vl(o,l,p){return{instance:o,listener:l,currentTarget:p}}function Mf(o,l){for(var p=l+"Capture",x=[];o!==null;){var A=o,R=A.stateNode;A.tag===5&&R!==null&&(A=R,R=Jn(o,p),R!=null&&x.unshift(vl(o,R,A)),R=Jn(o,l),R!=null&&x.push(vl(o,R,A))),o=o.return}return x}function ma(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function qm(o,l,p,x,A){for(var R=l._reactName,k=[];p!==null&&p!==x;){var Z=p,J=Z.alternate,_e=Z.stateNode;if(J!==null&&J===x)break;Z.tag===5&&_e!==null&&(Z=_e,A?(J=Jn(p,R),J!=null&&k.unshift(vl(p,J,Z))):A||(J=Jn(p,R),J!=null&&k.push(vl(p,J,Z)))),p=p.return}k.length!==0&&o.push({event:l,listeners:k})}var Kv=/\r\n?/g,Zm=/\u0000|\uFFFD/g;function ph(o){return(typeof o=="string"?o:""+o).replace(Kv,`
`).replace(Zm,"")}function xu(o,l,p){if(l=ph(l),ph(o)!==l&&p)throw Error(t(425))}function Su(){}var _l=null,mh=null;function gh(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var yh=typeof setTimeout=="function"?setTimeout:void 0,vh=typeof clearTimeout=="function"?clearTimeout:void 0,wf=typeof Promise=="function"?Promise:void 0,$v=typeof queueMicrotask=="function"?queueMicrotask:typeof wf<"u"?function(o){return wf.resolve(null).then(o).catch(Km)}:yh;function Km(o){setTimeout(function(){throw o})}function Ef(o,l){var p=l,x=0;do{var A=p.nextSibling;if(o.removeChild(p),A&&A.nodeType===8)if(p=A.data,p==="/$"){if(x===0){o.removeChild(A),uu(l);return}x--}else p!=="$"&&p!=="$?"&&p!=="$!"||x++;p=A}while(p);uu(l)}function Ks(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function _h(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return o;l--}else p==="/$"&&l++}o=o.previousSibling}return null}var ga=Math.random().toString(36).slice(2),ai="__reactFiber$"+ga,xl="__reactProps$"+ga,xr="__reactContainer$"+ga,ya="__reactEvents$"+ga,Tf="__reactListeners$"+ga,Af="__reactHandles$"+ga;function Oo(o){var l=o[ai];if(l)return l;for(var p=o.parentNode;p;){if(l=p[xr]||p[ai]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(o=_h(o);o!==null;){if(p=o[ai])return p;o=_h(o)}return l}o=p,p=o.parentNode}return null}function $s(o){return o=o[ai]||o[xr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Zn(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Cf(o){return o[xl]||null}var xh=[],yi=-1;function Wn(o){return{current:o}}function Ln(o){0>yi||(o.current=xh[yi],xh[yi]=null,yi--)}function bn(o,l){yi++,xh[yi]=o.current,o.current=l}var Qs={},Ai=Wn(Qs),Xi=Wn(!1),Js=Qs;function va(o,l){var p=o.type.contextTypes;if(!p)return Qs;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===l)return x.__reactInternalMemoizedMaskedChildContext;var A={},R;for(R in p)A[R]=l[R];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=A),A}function Oi(o){return o=o.childContextTypes,o!=null}function Mu(){Ln(Xi),Ln(Ai)}function Sh(o,l,p){if(Ai.current!==Qs)throw Error(t(168));bn(Ai,l),bn(Xi,p)}function wu(o,l,p){var x=o.stateNode;if(l=l.childContextTypes,typeof x.getChildContext!="function")return p;x=x.getChildContext();for(var A in x)if(!(A in l))throw Error(t(108,Re(o)||"Unknown",A));return $({},p,x)}function _a(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Qs,Js=Ai.current,bn(Ai,o),bn(Xi,Xi.current),!0}function Mh(o,l,p){var x=o.stateNode;if(!x)throw Error(t(169));p?(o=wu(o,l,Js),x.__reactInternalMemoizedMergedChildContext=o,Ln(Xi),Ln(Ai),bn(Ai,o)):Ln(Xi),bn(Xi,p)}var ss=null,Eu=!1,bf=!1;function Tu(o){ss===null?ss=[o]:ss.push(o)}function $m(o){Eu=!0,Tu(o)}function As(){if(!bf&&ss!==null){bf=!0;var o=0,l=fn;try{var p=ss;for(fn=1;o<p.length;o++){var x=p[o];do x=x(!0);while(x!==null)}ss=null,Eu=!1}catch(A){throw ss!==null&&(ss=ss.slice(o+1)),Yc(Ve,As),A}finally{fn=l,bf=!1}}return null}var xa=[],rr=0,Pf=null,Rf=0,Yi=[],vi=0,Sa=null,Je=1,Br="";function eo(o,l){xa[rr++]=Rf,xa[rr++]=Pf,Pf=o,Rf=l}function wh(o,l,p){Yi[vi++]=Je,Yi[vi++]=Br,Yi[vi++]=Sa,Sa=o;var x=Je;o=Br;var A=32-zt(x)-1;x&=~(1<<A),p+=1;var R=32-zt(l)+A;if(30<R){var k=A-A%5;R=(x&(1<<k)-1).toString(32),x>>=k,A-=k,Je=1<<32-zt(l)+A|p<<A|x,Br=R+o}else Je=1<<R|p<<A|x,Br=o}function Eh(o){o.return!==null&&(eo(o,1),wh(o,1,0))}function to(o){for(;o===Pf;)Pf=xa[--rr],xa[rr]=null,Rf=xa[--rr],xa[rr]=null;for(;o===Sa;)Sa=Yi[--vi],Yi[vi]=null,Br=Yi[--vi],Yi[vi]=null,Je=Yi[--vi],Yi[vi]=null}var Ci=null,qi=null,Un=!1,Vr=null;function Th(o,l){var p=Is(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=o,l=o.deletions,l===null?(o.deletions=[p],o.flags|=16):l.push(p)}function Ah(o,l){switch(o.tag){case 5:var p=o.type;return l=l.nodeType!==1||p.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Ci=o,qi=Ks(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Ci=o,qi=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(p=Sa!==null?{id:Je,overflow:Br}:null,o.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},p=Is(18,null,null,0),p.stateNode=l,p.return=o,o.child=p,Ci=o,qi=null,!0):!1;default:return!1}}function If(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Lf(o){if(Un){var l=qi;if(l){var p=l;if(!Ah(o,l)){if(If(o))throw Error(t(418));l=Ks(p.nextSibling);var x=Ci;l&&Ah(o,l)?Th(x,p):(o.flags=o.flags&-4097|2,Un=!1,Ci=o)}}else{if(If(o))throw Error(t(418));o.flags=o.flags&-4097|2,Un=!1,Ci=o}}}function Df(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Ci=o}function Sl(o){if(o!==Ci)return!1;if(!Un)return Df(o),Un=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!gh(o.type,o.memoizedProps)),l&&(l=qi)){if(If(o))throw Ch(),Error(t(418));for(;l;)Th(o,l),l=Ks(l.nextSibling)}if(Df(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(l===0){qi=Ks(o.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++}o=o.nextSibling}qi=null}}else qi=Ci?Ks(o.stateNode.nextSibling):null;return!0}function Ch(){for(var o=qi;o;)o=Ks(o.nextSibling)}function Fo(){qi=Ci=null,Un=!1}function Ml(o){Vr===null?Vr=[o]:Vr.push(o)}var Qv=I.ReactCurrentBatchConfig;function Au(o,l,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(t(309));var x=p.stateNode}if(!x)throw Error(t(147,o));var A=x,R=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===R?l.ref:(l=function(k){var Z=A.refs;k===null?delete Z[R]:Z[R]=k},l._stringRef=R,l)}if(typeof o!="string")throw Error(t(284));if(!p._owner)throw Error(t(290,o))}return o}function Cu(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function bh(o){var l=o._init;return l(o._payload)}function Ph(o){function l(fe,ie){if(o){var ge=fe.deletions;ge===null?(fe.deletions=[ie],fe.flags|=16):ge.push(ie)}}function p(fe,ie){if(!o)return null;for(;ie!==null;)l(fe,ie),ie=ie.sibling;return null}function x(fe,ie){for(fe=new Map;ie!==null;)ie.key!==null?fe.set(ie.key,ie):fe.set(ie.index,ie),ie=ie.sibling;return fe}function A(fe,ie){return fe=Dl(fe,ie),fe.index=0,fe.sibling=null,fe}function R(fe,ie,ge){return fe.index=ge,o?(ge=fe.alternate,ge!==null?(ge=ge.index,ge<ie?(fe.flags|=2,ie):ge):(fe.flags|=2,ie)):(fe.flags|=1048576,ie)}function k(fe){return o&&fe.alternate===null&&(fe.flags|=2),fe}function Z(fe,ie,ge,Ze){return ie===null||ie.tag!==6?(ie=y1(ge,fe.mode,Ze),ie.return=fe,ie):(ie=A(ie,ge),ie.return=fe,ie)}function J(fe,ie,ge,Ze){var Ct=ge.type;return Ct===F?ke(fe,ie,ge.props.children,Ze,ge.key):ie!==null&&(ie.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===he&&bh(Ct)===ie.type)?(Ze=A(ie,ge.props),Ze.ref=Au(fe,ie,ge),Ze.return=fe,Ze):(Ze=xg(ge.type,ge.key,ge.props,null,fe.mode,Ze),Ze.ref=Au(fe,ie,ge),Ze.return=fe,Ze)}function _e(fe,ie,ge,Ze){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ge.containerInfo||ie.stateNode.implementation!==ge.implementation?(ie=v1(ge,fe.mode,Ze),ie.return=fe,ie):(ie=A(ie,ge.children||[]),ie.return=fe,ie)}function ke(fe,ie,ge,Ze,Ct){return ie===null||ie.tag!==7?(ie=Wu(ge,fe.mode,Ze,Ct),ie.return=fe,ie):(ie=A(ie,ge),ie.return=fe,ie)}function Ge(fe,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=y1(""+ie,fe.mode,ge),ie.return=fe,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case U:return ge=xg(ie.type,ie.key,ie.props,null,fe.mode,ge),ge.ref=Au(fe,null,ie),ge.return=fe,ge;case N:return ie=v1(ie,fe.mode,ge),ie.return=fe,ie;case he:var Ze=ie._init;return Ge(fe,Ze(ie._payload),ge)}if($e(ie)||te(ie))return ie=Wu(ie,fe.mode,ge,null),ie.return=fe,ie;Cu(fe,ie)}return null}function Fe(fe,ie,ge,Ze){var Ct=ie!==null?ie.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Ct!==null?null:Z(fe,ie,""+ge,Ze);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case U:return ge.key===Ct?J(fe,ie,ge,Ze):null;case N:return ge.key===Ct?_e(fe,ie,ge,Ze):null;case he:return Ct=ge._init,Fe(fe,ie,Ct(ge._payload),Ze)}if($e(ge)||te(ge))return Ct!==null?null:ke(fe,ie,ge,Ze,null);Cu(fe,ge)}return null}function ht(fe,ie,ge,Ze,Ct){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return fe=fe.get(ge)||null,Z(ie,fe,""+Ze,Ct);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case U:return fe=fe.get(Ze.key===null?ge:Ze.key)||null,J(ie,fe,Ze,Ct);case N:return fe=fe.get(Ze.key===null?ge:Ze.key)||null,_e(ie,fe,Ze,Ct);case he:var Ot=Ze._init;return ht(fe,ie,ge,Ot(Ze._payload),Ct)}if($e(Ze)||te(Ze))return fe=fe.get(ge)||null,ke(ie,fe,Ze,Ct,null);Cu(ie,Ze)}return null}function St(fe,ie,ge,Ze){for(var Ct=null,Ot=null,Ft=ie,Ht=ie=0,Bi=null;Ft!==null&&Ht<ge.length;Ht++){Ft.index>Ht?(Bi=Ft,Ft=null):Bi=Ft.sibling;var wn=Fe(fe,Ft,ge[Ht],Ze);if(wn===null){Ft===null&&(Ft=Bi);break}o&&Ft&&wn.alternate===null&&l(fe,Ft),ie=R(wn,ie,Ht),Ot===null?Ct=wn:Ot.sibling=wn,Ot=wn,Ft=Bi}if(Ht===ge.length)return p(fe,Ft),Un&&eo(fe,Ht),Ct;if(Ft===null){for(;Ht<ge.length;Ht++)Ft=Ge(fe,ge[Ht],Ze),Ft!==null&&(ie=R(Ft,ie,Ht),Ot===null?Ct=Ft:Ot.sibling=Ft,Ot=Ft);return Un&&eo(fe,Ht),Ct}for(Ft=x(fe,Ft);Ht<ge.length;Ht++)Bi=ht(Ft,fe,Ht,ge[Ht],Ze),Bi!==null&&(o&&Bi.alternate!==null&&Ft.delete(Bi.key===null?Ht:Bi.key),ie=R(Bi,ie,Ht),Ot===null?Ct=Bi:Ot.sibling=Bi,Ot=Bi);return o&&Ft.forEach(function(Nl){return l(fe,Nl)}),Un&&eo(fe,Ht),Ct}function Et(fe,ie,ge,Ze){var Ct=te(ge);if(typeof Ct!="function")throw Error(t(150));if(ge=Ct.call(ge),ge==null)throw Error(t(151));for(var Ot=Ct=null,Ft=ie,Ht=ie=0,Bi=null,wn=ge.next();Ft!==null&&!wn.done;Ht++,wn=ge.next()){Ft.index>Ht?(Bi=Ft,Ft=null):Bi=Ft.sibling;var Nl=Fe(fe,Ft,wn.value,Ze);if(Nl===null){Ft===null&&(Ft=Bi);break}o&&Ft&&Nl.alternate===null&&l(fe,Ft),ie=R(Nl,ie,Ht),Ot===null?Ct=Nl:Ot.sibling=Nl,Ot=Nl,Ft=Bi}if(wn.done)return p(fe,Ft),Un&&eo(fe,Ht),Ct;if(Ft===null){for(;!wn.done;Ht++,wn=ge.next())wn=Ge(fe,wn.value,Ze),wn!==null&&(ie=R(wn,ie,Ht),Ot===null?Ct=wn:Ot.sibling=wn,Ot=wn);return Un&&eo(fe,Ht),Ct}for(Ft=x(fe,Ft);!wn.done;Ht++,wn=ge.next())wn=ht(Ft,fe,Ht,wn.value,Ze),wn!==null&&(o&&wn.alternate!==null&&Ft.delete(wn.key===null?Ht:wn.key),ie=R(wn,ie,Ht),Ot===null?Ct=wn:Ot.sibling=wn,Ot=wn);return o&&Ft.forEach(function($P){return l(fe,$P)}),Un&&eo(fe,Ht),Ct}function li(fe,ie,ge,Ze){if(typeof ge=="object"&&ge!==null&&ge.type===F&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case U:e:{for(var Ct=ge.key,Ot=ie;Ot!==null;){if(Ot.key===Ct){if(Ct=ge.type,Ct===F){if(Ot.tag===7){p(fe,Ot.sibling),ie=A(Ot,ge.props.children),ie.return=fe,fe=ie;break e}}else if(Ot.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===he&&bh(Ct)===Ot.type){p(fe,Ot.sibling),ie=A(Ot,ge.props),ie.ref=Au(fe,Ot,ge),ie.return=fe,fe=ie;break e}p(fe,Ot);break}else l(fe,Ot);Ot=Ot.sibling}ge.type===F?(ie=Wu(ge.props.children,fe.mode,Ze,ge.key),ie.return=fe,fe=ie):(Ze=xg(ge.type,ge.key,ge.props,null,fe.mode,Ze),Ze.ref=Au(fe,ie,ge),Ze.return=fe,fe=Ze)}return k(fe);case N:e:{for(Ot=ge.key;ie!==null;){if(ie.key===Ot)if(ie.tag===4&&ie.stateNode.containerInfo===ge.containerInfo&&ie.stateNode.implementation===ge.implementation){p(fe,ie.sibling),ie=A(ie,ge.children||[]),ie.return=fe,fe=ie;break e}else{p(fe,ie);break}else l(fe,ie);ie=ie.sibling}ie=v1(ge,fe.mode,Ze),ie.return=fe,fe=ie}return k(fe);case he:return Ot=ge._init,li(fe,ie,Ot(ge._payload),Ze)}if($e(ge))return St(fe,ie,ge,Ze);if(te(ge))return Et(fe,ie,ge,Ze);Cu(fe,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,ie!==null&&ie.tag===6?(p(fe,ie.sibling),ie=A(ie,ge),ie.return=fe,fe=ie):(p(fe,ie),ie=y1(ge,fe.mode,Ze),ie.return=fe,fe=ie),k(fe)):p(fe,ie)}return li}var Ma=Ph(!0),bu=Ph(!1),wa=Wn(null),Ea=null,no=null,wl=null;function Ta(){wl=no=Ea=null}function Pu(o){var l=wa.current;Ln(wa),o._currentValue=l}function Ru(o,l,p){for(;o!==null;){var x=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),o===p)break;o=o.return}}function ko(o,l){Ea=o,wl=no=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&l&&(Jt=!0),o.firstContext=null)}function Sr(o){var l=o._currentValue;if(wl!==o)if(o={context:o,memoizedValue:l,next:null},no===null){if(Ea===null)throw Error(t(308));no=o,Ea.dependencies={lanes:0,firstContext:o}}else no=no.next=o;return l}var io=null;function Rh(o){io===null?io=[o]:io.push(o)}function Iu(o,l,p,x){var A=l.interleaved;return A===null?(p.next=p,Rh(l)):(p.next=A.next,A.next=p),l.interleaved=p,os(o,x)}function os(o,l){o.lanes|=l;var p=o.alternate;for(p!==null&&(p.lanes|=l),p=o,o=o.return;o!==null;)o.childLanes|=l,p=o.alternate,p!==null&&(p.childLanes|=l),p=o,o=o.return;return p.tag===3?p.stateNode:null}var En=!1;function Zt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kn(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Tn(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function kn(o,l,p){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,_n&2){var A=x.pending;return A===null?l.next=l:(l.next=A.next,A.next=l),x.pending=l,os(o,p)}return A=x.interleaved,A===null?(l.next=l,Rh(x)):(l.next=A.next,A.next=l),x.interleaved=l,os(o,p)}function Fi(o,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194240)!==0)){var x=l.lanes;x&=o.pendingLanes,p|=x,l.lanes=p,qn(o,p)}}function Aa(o,l){var p=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var A=null,R=null;if(p=p.firstBaseUpdate,p!==null){do{var k={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};R===null?A=R=k:R=R.next=k,p=p.next}while(p!==null);R===null?A=R=l:R=R.next=l}else A=R=l;p={baseState:x.baseState,firstBaseUpdate:A,lastBaseUpdate:R,shared:x.shared,effects:x.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=l:o.next=l,p.lastBaseUpdate=l}function jn(o,l,p,x){var A=o.updateQueue;En=!1;var R=A.firstBaseUpdate,k=A.lastBaseUpdate,Z=A.shared.pending;if(Z!==null){A.shared.pending=null;var J=Z,_e=J.next;J.next=null,k===null?R=_e:k.next=_e,k=J;var ke=o.alternate;ke!==null&&(ke=ke.updateQueue,Z=ke.lastBaseUpdate,Z!==k&&(Z===null?ke.firstBaseUpdate=_e:Z.next=_e,ke.lastBaseUpdate=J))}if(R!==null){var Ge=A.baseState;k=0,ke=_e=J=null,Z=R;do{var Fe=Z.lane,ht=Z.eventTime;if((x&Fe)===Fe){ke!==null&&(ke=ke.next={eventTime:ht,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var St=o,Et=Z;switch(Fe=l,ht=p,Et.tag){case 1:if(St=Et.payload,typeof St=="function"){Ge=St.call(ht,Ge,Fe);break e}Ge=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=Et.payload,Fe=typeof St=="function"?St.call(ht,Ge,Fe):St,Fe==null)break e;Ge=$({},Ge,Fe);break e;case 2:En=!0}}Z.callback!==null&&Z.lane!==0&&(o.flags|=64,Fe=A.effects,Fe===null?A.effects=[Z]:Fe.push(Z))}else ht={eventTime:ht,lane:Fe,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},ke===null?(_e=ke=ht,J=Ge):ke=ke.next=ht,k|=Fe;if(Z=Z.next,Z===null){if(Z=A.shared.pending,Z===null)break;Fe=Z,Z=Fe.next,Fe.next=null,A.lastBaseUpdate=Fe,A.shared.pending=null}}while(!0);if(ke===null&&(J=Ge),A.baseState=J,A.firstBaseUpdate=_e,A.lastBaseUpdate=ke,l=A.shared.interleaved,l!==null){A=l;do k|=A.lane,A=A.next;while(A!==l)}else R===null&&(A.shared.lanes=0);Bu|=k,o.lanes=k,o.memoizedState=Ge}}function El(o,l,p){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var x=o[l],A=x.callback;if(A!==null){if(x.callback=null,x=p,typeof A!="function")throw Error(t(191,A));A.call(x)}}}var Cs={},Mr=Wn(Cs),Ca=Wn(Cs),ro=Wn(Cs);function ei(o){if(o===Cs)throw Error(t(174));return o}function Lu(o,l){switch(bn(ro,l),bn(Ca,o),bn(Mr,Cs),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:yt(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=yt(l,o)}Ln(Mr),bn(Mr,l)}function zo(){Ln(Mr),Ln(Ca),Ln(ro)}function ba(o){ei(ro.current);var l=ei(Mr.current),p=yt(l,o.type);l!==p&&(bn(Ca,o),bn(Mr,p))}function Tl(o){Ca.current===o&&(Ln(Mr),Ln(Ca))}var On=Wn(0);function as(o){for(var l=o;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Al=[];function bs(){for(var o=0;o<Al.length;o++)Al[o]._workInProgressVersionPrimary=null;Al.length=0}var Pa=I.ReactCurrentDispatcher,Ra=I.ReactCurrentBatchConfig,so=0,Dn=null,Xn=null,yn=null,ls=!1,ki=!1,Bo=0,sr=0;function bi(){throw Error(t(321))}function Du(o,l){if(l===null)return!1;for(var p=0;p<l.length&&p<o.length;p++)if(!vr(o[p],l[p]))return!1;return!0}function Nu(o,l,p,x,A,R){if(so=R,Dn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Pa.current=o===null||o.memoizedState===null?rg:sg,o=p(x,A),ki){R=0;do{if(ki=!1,Bo=0,25<=R)throw Error(t(301));R+=1,yn=Xn=null,l.updateQueue=null,Pa.current=og,o=p(x,A)}while(ki)}if(Pa.current=Bf,l=Xn!==null&&Xn.next!==null,so=0,yn=Xn=Dn=null,ls=!1,l)throw Error(t(300));return o}function Ih(){var o=Bo!==0;return Bo=0,o}function Pi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Dn.memoizedState=yn=o:yn=yn.next=o,yn}function wr(){if(Xn===null){var o=Dn.alternate;o=o!==null?o.memoizedState:null}else o=Xn.next;var l=yn===null?Dn.memoizedState:yn.next;if(l!==null)yn=l,Xn=o;else{if(o===null)throw Error(t(310));Xn=o,o={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},yn===null?Dn.memoizedState=yn=o:yn=yn.next=o}return yn}function Cl(o,l){return typeof l=="function"?l(o):l}function Uu(o){var l=wr(),p=l.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=o;var x=Xn,A=x.baseQueue,R=p.pending;if(R!==null){if(A!==null){var k=A.next;A.next=R.next,R.next=k}x.baseQueue=A=R,p.pending=null}if(A!==null){R=A.next,x=x.baseState;var Z=k=null,J=null,_e=R;do{var ke=_e.lane;if((so&ke)===ke)J!==null&&(J=J.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),x=_e.hasEagerState?_e.eagerState:o(x,_e.action);else{var Ge={lane:ke,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};J===null?(Z=J=Ge,k=x):J=J.next=Ge,Dn.lanes|=ke,Bu|=ke}_e=_e.next}while(_e!==null&&_e!==R);J===null?k=x:J.next=Z,vr(x,l.memoizedState)||(Jt=!0),l.memoizedState=x,l.baseState=k,l.baseQueue=J,p.lastRenderedState=x}if(o=p.interleaved,o!==null){A=o;do R=A.lane,Dn.lanes|=R,Bu|=R,A=A.next;while(A!==o)}else A===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function oo(o){var l=wr(),p=l.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=o;var x=p.dispatch,A=p.pending,R=l.memoizedState;if(A!==null){p.pending=null;var k=A=A.next;do R=o(R,k.action),k=k.next;while(k!==A);vr(R,l.memoizedState)||(Jt=!0),l.memoizedState=R,l.baseQueue===null&&(l.baseState=R),p.lastRenderedState=R}return[R,x]}function Lh(){}function Dh(o,l){var p=Dn,x=wr(),A=l(),R=!vr(x.memoizedState,A);if(R&&(x.memoizedState=A,Jt=!0),x=x.queue,Oh(Qm.bind(null,p,x,o),[o]),x.getSnapshot!==l||R||yn!==null&&yn.memoizedState.tag&1){if(p.flags|=2048,us(9,Ou.bind(null,p,x,A,l),void 0,null),zi===null)throw Error(t(349));so&30||Nf(p,l,A)}return A}function Nf(o,l,p){o.flags|=16384,o={getSnapshot:l,value:p},l=Dn.updateQueue,l===null?(l={lastEffect:null,stores:null},Dn.updateQueue=l,l.stores=[o]):(p=l.stores,p===null?l.stores=[o]:p.push(o))}function Ou(o,l,p,x){l.value=p,l.getSnapshot=x,Jm(l)&&Nh(o)}function Qm(o,l,p){return p(function(){Jm(l)&&Nh(o)})}function Jm(o){var l=o.getSnapshot;o=o.value;try{var p=l();return!vr(o,p)}catch{return!0}}function Nh(o){var l=os(o,1);l!==null&&fo(l,o,1,-1)}function Uh(o){var l=Pi();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:o},l.queue=o,o=o.dispatch=Ia.bind(null,Dn,o),[l.memoizedState,o]}function us(o,l,p,x){return o={tag:o,create:l,destroy:p,deps:x,next:null},l=Dn.updateQueue,l===null?(l={lastEffect:null,stores:null},Dn.updateQueue=l,l.lastEffect=o.next=o):(p=l.lastEffect,p===null?l.lastEffect=o.next=o:(x=p.next,p.next=o,o.next=x,l.lastEffect=o)),o}function eg(){return wr().memoizedState}function Ps(o,l,p,x){var A=Pi();Dn.flags|=o,A.memoizedState=us(1|l,p,void 0,x===void 0?null:x)}function Fu(o,l,p,x){var A=wr();x=x===void 0?null:x;var R=void 0;if(Xn!==null){var k=Xn.memoizedState;if(R=k.destroy,x!==null&&Du(x,k.deps)){A.memoizedState=us(l,p,R,x);return}}Dn.flags|=o,A.memoizedState=us(1|l,p,R,x)}function Zi(o,l){return Ps(8390656,8,o,l)}function Oh(o,l){return Fu(2048,8,o,l)}function Fh(o,l){return Fu(4,2,o,l)}function tg(o,l){return Fu(4,4,o,l)}function ng(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function kh(o,l,p){return p=p!=null?p.concat([o]):null,Fu(4,4,ng.bind(null,l,o),p)}function Uf(){}function ig(o,l){var p=wr();l=l===void 0?null:l;var x=p.memoizedState;return x!==null&&l!==null&&Du(l,x[1])?x[0]:(p.memoizedState=[o,l],o)}function Er(o,l){var p=wr();l=l===void 0?null:l;var x=p.memoizedState;return x!==null&&l!==null&&Du(l,x[1])?x[0]:(o=o(),p.memoizedState=[o,l],o)}function Of(o,l,p){return so&21?(vr(p,l)||(p=cn(),Dn.lanes|=p,Bu|=p,o.baseState=!0),l):(o.baseState&&(o.baseState=!1,Jt=!0),o.memoizedState=p)}function Jv(o,l){var p=fn;fn=p!==0&&4>p?p:4,o(!0);var x=Ra.transition;Ra.transition={};try{o(!1),l()}finally{fn=p,Ra.transition=x}}function ao(){return wr().memoizedState}function Ff(o,l,p){var x=Il(o);if(p={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null},ku(o))kf(l,p);else if(p=Iu(o,l,p,x),p!==null){var A=Ar();fo(p,o,x,A),zf(p,l,x)}}function Ia(o,l,p){var x=Il(o),A={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null};if(ku(o))kf(l,A);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=l.lastRenderedReducer,R!==null))try{var k=l.lastRenderedState,Z=R(k,p);if(A.hasEagerState=!0,A.eagerState=Z,vr(Z,k)){var J=l.interleaved;J===null?(A.next=A,Rh(l)):(A.next=J.next,J.next=A),l.interleaved=A;return}}catch{}finally{}p=Iu(o,l,A,x),p!==null&&(A=Ar(),fo(p,o,x,A),zf(p,l,x))}}function ku(o){var l=o.alternate;return o===Dn||l!==null&&l===Dn}function kf(o,l){ki=ls=!0;var p=o.pending;p===null?l.next=l:(l.next=p.next,p.next=l),o.pending=l}function zf(o,l,p){if(p&4194240){var x=l.lanes;x&=o.pendingLanes,p|=x,l.lanes=p,qn(o,p)}}var Bf={readContext:Sr,useCallback:bi,useContext:bi,useEffect:bi,useImperativeHandle:bi,useInsertionEffect:bi,useLayoutEffect:bi,useMemo:bi,useReducer:bi,useRef:bi,useState:bi,useDebugValue:bi,useDeferredValue:bi,useTransition:bi,useMutableSource:bi,useSyncExternalStore:bi,useId:bi,unstable_isNewReconciler:!1},rg={readContext:Sr,useCallback:function(o,l){return Pi().memoizedState=[o,l===void 0?null:l],o},useContext:Sr,useEffect:Zi,useImperativeHandle:function(o,l,p){return p=p!=null?p.concat([o]):null,Ps(4194308,4,ng.bind(null,l,o),p)},useLayoutEffect:function(o,l){return Ps(4194308,4,o,l)},useInsertionEffect:function(o,l){return Ps(4,2,o,l)},useMemo:function(o,l){var p=Pi();return l=l===void 0?null:l,o=o(),p.memoizedState=[o,l],o},useReducer:function(o,l,p){var x=Pi();return l=p!==void 0?p(l):l,x.memoizedState=x.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},x.queue=o,o=o.dispatch=Ff.bind(null,Dn,o),[x.memoizedState,o]},useRef:function(o){var l=Pi();return o={current:o},l.memoizedState=o},useState:Uh,useDebugValue:Uf,useDeferredValue:function(o){return Pi().memoizedState=o},useTransition:function(){var o=Uh(!1),l=o[0];return o=Jv.bind(null,o[1]),Pi().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,p){var x=Dn,A=Pi();if(Un){if(p===void 0)throw Error(t(407));p=p()}else{if(p=l(),zi===null)throw Error(t(349));so&30||Nf(x,l,p)}A.memoizedState=p;var R={value:p,getSnapshot:l};return A.queue=R,Zi(Qm.bind(null,x,R,o),[o]),x.flags|=2048,us(9,Ou.bind(null,x,R,p,l),void 0,null),p},useId:function(){var o=Pi(),l=zi.identifierPrefix;if(Un){var p=Br,x=Je;p=(x&~(1<<32-zt(x)-1)).toString(32)+p,l=":"+l+"R"+p,p=Bo++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=sr++,l=":"+l+"r"+p.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},sg={readContext:Sr,useCallback:ig,useContext:Sr,useEffect:Oh,useImperativeHandle:kh,useInsertionEffect:Fh,useLayoutEffect:tg,useMemo:Er,useReducer:Uu,useRef:eg,useState:function(){return Uu(Cl)},useDebugValue:Uf,useDeferredValue:function(o){var l=wr();return Of(l,Xn.memoizedState,o)},useTransition:function(){var o=Uu(Cl)[0],l=wr().memoizedState;return[o,l]},useMutableSource:Lh,useSyncExternalStore:Dh,useId:ao,unstable_isNewReconciler:!1},og={readContext:Sr,useCallback:ig,useContext:Sr,useEffect:Oh,useImperativeHandle:kh,useInsertionEffect:Fh,useLayoutEffect:tg,useMemo:Er,useReducer:oo,useRef:eg,useState:function(){return oo(Cl)},useDebugValue:Uf,useDeferredValue:function(o){var l=wr();return Xn===null?l.memoizedState=o:Of(l,Xn.memoizedState,o)},useTransition:function(){var o=oo(Cl)[0],l=wr().memoizedState;return[o,l]},useMutableSource:Lh,useSyncExternalStore:Dh,useId:ao,unstable_isNewReconciler:!1};function Hr(o,l){if(o&&o.defaultProps){l=$({},l),o=o.defaultProps;for(var p in o)l[p]===void 0&&(l[p]=o[p]);return l}return l}function zu(o,l,p,x){l=o.memoizedState,p=p(x,l),p=p==null?l:$({},l,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var Vf={isMounted:function(o){return(o=o._reactInternals)?xs(o)===o:!1},enqueueSetState:function(o,l,p){o=o._reactInternals;var x=Ar(),A=Il(o),R=Tn(x,A);R.payload=l,p!=null&&(R.callback=p),l=kn(o,R,A),l!==null&&(fo(l,o,A,x),Fi(l,o,A))},enqueueReplaceState:function(o,l,p){o=o._reactInternals;var x=Ar(),A=Il(o),R=Tn(x,A);R.tag=1,R.payload=l,p!=null&&(R.callback=p),l=kn(o,R,A),l!==null&&(fo(l,o,A,x),Fi(l,o,A))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var p=Ar(),x=Il(o),A=Tn(p,x);A.tag=2,l!=null&&(A.callback=l),l=kn(o,A,x),l!==null&&(fo(l,o,x,p),Fi(l,o,x))}};function ag(o,l,p,x,A,R,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,R,k):l.prototype&&l.prototype.isPureReactComponent?!da(p,x)||!da(A,R):!0}function c(o,l,p){var x=!1,A=Qs,R=l.contextType;return typeof R=="object"&&R!==null?R=Sr(R):(A=Oi(l)?Js:Ai.current,x=l.contextTypes,R=(x=x!=null)?va(o,A):Qs),l=new l(p,R),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Vf,o.stateNode=l,l._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=A,o.__reactInternalMemoizedMaskedChildContext=R),l}function f(o,l,p,x){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,x),l.state!==o&&Vf.enqueueReplaceState(l,l.state,null)}function v(o,l,p,x){var A=o.stateNode;A.props=p,A.state=o.memoizedState,A.refs={},Zt(o);var R=l.contextType;typeof R=="object"&&R!==null?A.context=Sr(R):(R=Oi(l)?Js:Ai.current,A.context=va(o,R)),A.state=o.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(zu(o,l,R,p),A.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(l=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),l!==A.state&&Vf.enqueueReplaceState(A,A.state,null),jn(o,p,A,x),A.state=o.memoizedState),typeof A.componentDidMount=="function"&&(o.flags|=4194308)}function w(o,l){try{var p="",x=l;do p+=Ee(x),x=x.return;while(x);var A=p}catch(R){A=`
Error generating stack: `+R.message+`
`+R.stack}return{value:o,source:l,stack:A,digest:null}}function P(o,l,p){return{value:o,source:null,stack:p??null,digest:l??null}}function L(o,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var q=typeof WeakMap=="function"?WeakMap:Map;function re(o,l,p){p=Tn(-1,p),p.tag=3,p.payload={element:null};var x=l.value;return p.callback=function(){pg||(pg=!0,u1=x),L(o,l)},p}function Te(o,l,p){p=Tn(-1,p),p.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var A=l.value;p.payload=function(){return x(A)},p.callback=function(){L(o,l)}}var R=o.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(p.callback=function(){L(o,l),typeof x!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var k=l.stack;this.componentDidCatch(l.value,{componentStack:k!==null?k:""})}),p}function Ye(o,l,p){var x=o.pingCache;if(x===null){x=o.pingCache=new q;var A=new Set;x.set(l,A)}else A=x.get(l),A===void 0&&(A=new Set,x.set(l,A));A.has(p)||(A.add(p),o=VP.bind(null,o,l,p),l.then(o,o))}function vt(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function Wt(o,l,p,x,A){return o.mode&1?(o.flags|=65536,o.lanes=A,o):(o===l?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(l=Tn(-1,1),l.tag=2,kn(p,l,1))),p.lanes|=1),o)}var Nt=I.ReactCurrentOwner,Jt=!1;function ut(o,l,p,x){l.child=o===null?bu(l,null,p,x):Ma(l,o.child,p,x)}function Ri(o,l,p,x,A){p=p.render;var R=l.ref;return ko(l,A),x=Nu(o,l,p,x,R,A),p=Ih(),o!==null&&!Jt?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~A,La(o,l,A)):(Un&&p&&Eh(l),l.flags|=1,ut(o,l,x,A),l.child)}function Tr(o,l,p,x,A){if(o===null){var R=p.type;return typeof R=="function"&&!g1(R)&&R.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(l.tag=15,l.type=R,ye(o,l,R,x,A)):(o=xg(p.type,null,x,l,l.mode,A),o.ref=l.ref,o.return=l,l.child=o)}if(R=o.child,!(o.lanes&A)){var k=R.memoizedProps;if(p=p.compare,p=p!==null?p:da,p(k,x)&&o.ref===l.ref)return La(o,l,A)}return l.flags|=1,o=Dl(R,x),o.ref=l.ref,o.return=l,l.child=o}function ye(o,l,p,x,A){if(o!==null){var R=o.memoizedProps;if(da(R,x)&&o.ref===l.ref)if(Jt=!1,l.pendingProps=x=R,(o.lanes&A)!==0)o.flags&131072&&(Jt=!0);else return l.lanes=o.lanes,La(o,l,A)}return rt(o,l,p,x,A)}function ae(o,l,p){var x=l.pendingProps,A=x.children,R=o!==null?o.memoizedState:null;if(x.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},bn(Gf,cs),cs|=p;else{if(!(p&1073741824))return o=R!==null?R.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,bn(Gf,cs),cs|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=R!==null?R.baseLanes:p,bn(Gf,cs),cs|=x}else R!==null?(x=R.baseLanes|p,l.memoizedState=null):x=p,bn(Gf,cs),cs|=x;return ut(o,l,A,p),l.child}function we(o,l){var p=l.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function rt(o,l,p,x,A){var R=Oi(p)?Js:Ai.current;return R=va(l,R),ko(l,A),p=Nu(o,l,p,x,R,A),x=Ih(),o!==null&&!Jt?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~A,La(o,l,A)):(Un&&x&&Eh(l),l.flags|=1,ut(o,l,p,A),l.child)}function Tt(o,l,p,x,A){if(Oi(p)){var R=!0;_a(l)}else R=!1;if(ko(l,A),l.stateNode===null)ug(o,l),c(l,p,x),v(l,p,x,A),x=!0;else if(o===null){var k=l.stateNode,Z=l.memoizedProps;k.props=Z;var J=k.context,_e=p.contextType;typeof _e=="object"&&_e!==null?_e=Sr(_e):(_e=Oi(p)?Js:Ai.current,_e=va(l,_e));var ke=p.getDerivedStateFromProps,Ge=typeof ke=="function"||typeof k.getSnapshotBeforeUpdate=="function";Ge||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Z!==x||J!==_e)&&f(l,k,x,_e),En=!1;var Fe=l.memoizedState;k.state=Fe,jn(l,x,k,A),J=l.memoizedState,Z!==x||Fe!==J||Xi.current||En?(typeof ke=="function"&&(zu(l,p,ke,x),J=l.memoizedState),(Z=En||ag(l,p,Z,x,Fe,J,_e))?(Ge||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(l.flags|=4194308)):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=J),k.props=x,k.state=J,k.context=_e,x=Z):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{k=l.stateNode,Kn(o,l),Z=l.memoizedProps,_e=l.type===l.elementType?Z:Hr(l.type,Z),k.props=_e,Ge=l.pendingProps,Fe=k.context,J=p.contextType,typeof J=="object"&&J!==null?J=Sr(J):(J=Oi(p)?Js:Ai.current,J=va(l,J));var ht=p.getDerivedStateFromProps;(ke=typeof ht=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Z!==Ge||Fe!==J)&&f(l,k,x,J),En=!1,Fe=l.memoizedState,k.state=Fe,jn(l,x,k,A);var St=l.memoizedState;Z!==Ge||Fe!==St||Xi.current||En?(typeof ht=="function"&&(zu(l,p,ht,x),St=l.memoizedState),(_e=En||ag(l,p,_e,x,Fe,St,J)||!1)?(ke||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(x,St,J),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(x,St,J)),typeof k.componentDidUpdate=="function"&&(l.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof k.componentDidUpdate!="function"||Z===o.memoizedProps&&Fe===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Z===o.memoizedProps&&Fe===o.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=St),k.props=x,k.state=St,k.context=J,x=_e):(typeof k.componentDidUpdate!="function"||Z===o.memoizedProps&&Fe===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Z===o.memoizedProps&&Fe===o.memoizedState||(l.flags|=1024),x=!1)}return Xt(o,l,p,x,R,A)}function Xt(o,l,p,x,A,R){we(o,l);var k=(l.flags&128)!==0;if(!x&&!k)return A&&Mh(l,p,!1),La(o,l,R);x=l.stateNode,Nt.current=l;var Z=k&&typeof p.getDerivedStateFromError!="function"?null:x.render();return l.flags|=1,o!==null&&k?(l.child=Ma(l,o.child,null,R),l.child=Ma(l,null,Z,R)):ut(o,l,Z,R),l.memoizedState=x.state,A&&Mh(l,p,!0),l.child}function jt(o){var l=o.stateNode;l.pendingContext?Sh(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Sh(o,l.context,!1),Lu(o,l.containerInfo)}function gn(o,l,p,x,A){return Fo(),Ml(A),l.flags|=256,ut(o,l,p,x),l.child}var ti={dehydrated:null,treeContext:null,retryLane:0};function mn(o){return{baseLanes:o,cachePool:null,transitions:null}}function lo(o,l,p){var x=l.pendingProps,A=On.current,R=!1,k=(l.flags&128)!==0,Z;if((Z=k)||(Z=o!==null&&o.memoizedState===null?!1:(A&2)!==0),Z?(R=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(A|=1),bn(On,A&1),o===null)return Lf(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(l.mode&1?o.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(k=x.children,o=x.fallback,R?(x=l.mode,R=l.child,k={mode:"hidden",children:k},!(x&1)&&R!==null?(R.childLanes=0,R.pendingProps=k):R=Sg(k,x,0,null),o=Wu(o,x,p,null),R.return=l,o.return=l,R.sibling=o,l.child=R,l.child.memoizedState=mn(p),l.memoizedState=ti,o):zh(l,k));if(A=o.memoizedState,A!==null&&(Z=A.dehydrated,Z!==null))return PP(o,l,k,x,Z,A,p);if(R){R=x.fallback,k=l.mode,A=o.child,Z=A.sibling;var J={mode:"hidden",children:x.children};return!(k&1)&&l.child!==A?(x=l.child,x.childLanes=0,x.pendingProps=J,l.deletions=null):(x=Dl(A,J),x.subtreeFlags=A.subtreeFlags&14680064),Z!==null?R=Dl(Z,R):(R=Wu(R,k,p,null),R.flags|=2),R.return=l,x.return=l,x.sibling=R,l.child=x,x=R,R=l.child,k=o.child.memoizedState,k=k===null?mn(p):{baseLanes:k.baseLanes|p,cachePool:null,transitions:k.transitions},R.memoizedState=k,R.childLanes=o.childLanes&~p,l.memoizedState=ti,x}return R=o.child,o=R.sibling,x=Dl(R,{mode:"visible",children:x.children}),!(l.mode&1)&&(x.lanes=p),x.return=l,x.sibling=null,o!==null&&(p=l.deletions,p===null?(l.deletions=[o],l.flags|=16):p.push(o)),l.child=x,l.memoizedState=null,x}function zh(o,l){return l=Sg({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function lg(o,l,p,x){return x!==null&&Ml(x),Ma(l,o.child,null,p),o=zh(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function PP(o,l,p,x,A,R,k){if(p)return l.flags&256?(l.flags&=-257,x=P(Error(t(422))),lg(o,l,k,x)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(R=x.fallback,A=l.mode,x=Sg({mode:"visible",children:x.children},A,0,null),R=Wu(R,A,k,null),R.flags|=2,x.return=l,R.return=l,x.sibling=R,l.child=x,l.mode&1&&Ma(l,o.child,null,k),l.child.memoizedState=mn(k),l.memoizedState=ti,R);if(!(l.mode&1))return lg(o,l,k,null);if(A.data==="$!"){if(x=A.nextSibling&&A.nextSibling.dataset,x)var Z=x.dgst;return x=Z,R=Error(t(419)),x=P(R,x,void 0),lg(o,l,k,x)}if(Z=(k&o.childLanes)!==0,Jt||Z){if(x=zi,x!==null){switch(k&-k){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(x.suspendedLanes|k)?0:A,A!==0&&A!==R.retryLane&&(R.retryLane=A,os(o,A),fo(x,o,A,-1))}return m1(),x=P(Error(t(421))),lg(o,l,k,x)}return A.data==="$?"?(l.flags|=128,l.child=o.child,l=HP.bind(null,o),A._reactRetry=l,null):(o=R.treeContext,qi=Ks(A.nextSibling),Ci=l,Un=!0,Vr=null,o!==null&&(Yi[vi++]=Je,Yi[vi++]=Br,Yi[vi++]=Sa,Je=o.id,Br=o.overflow,Sa=l),l=zh(l,x.children),l.flags|=4096,l)}function H2(o,l,p){o.lanes|=l;var x=o.alternate;x!==null&&(x.lanes|=l),Ru(o.return,l,p)}function e1(o,l,p,x,A){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:A}:(R.isBackwards=l,R.rendering=null,R.renderingStartTime=0,R.last=x,R.tail=p,R.tailMode=A)}function G2(o,l,p){var x=l.pendingProps,A=x.revealOrder,R=x.tail;if(ut(o,l,x.children,p),x=On.current,x&2)x=x&1|2,l.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&H2(o,p,l);else if(o.tag===19)H2(o,p,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(bn(On,x),!(l.mode&1))l.memoizedState=null;else switch(A){case"forwards":for(p=l.child,A=null;p!==null;)o=p.alternate,o!==null&&as(o)===null&&(A=p),p=p.sibling;p=A,p===null?(A=l.child,l.child=null):(A=p.sibling,p.sibling=null),e1(l,!1,A,p,R);break;case"backwards":for(p=null,A=l.child,l.child=null;A!==null;){if(o=A.alternate,o!==null&&as(o)===null){l.child=A;break}o=A.sibling,A.sibling=p,p=A,A=o}e1(l,!0,p,null,R);break;case"together":e1(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ug(o,l){!(l.mode&1)&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function La(o,l,p){if(o!==null&&(l.dependencies=o.dependencies),Bu|=l.lanes,!(p&l.childLanes))return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,p=Dl(o,o.pendingProps),l.child=p,p.return=l;o.sibling!==null;)o=o.sibling,p=p.sibling=Dl(o,o.pendingProps),p.return=l;p.sibling=null}return l.child}function RP(o,l,p){switch(l.tag){case 3:jt(l),Fo();break;case 5:ba(l);break;case 1:Oi(l.type)&&_a(l);break;case 4:Lu(l,l.stateNode.containerInfo);break;case 10:var x=l.type._context,A=l.memoizedProps.value;bn(wa,x._currentValue),x._currentValue=A;break;case 13:if(x=l.memoizedState,x!==null)return x.dehydrated!==null?(bn(On,On.current&1),l.flags|=128,null):p&l.child.childLanes?lo(o,l,p):(bn(On,On.current&1),o=La(o,l,p),o!==null?o.sibling:null);bn(On,On.current&1);break;case 19:if(x=(p&l.childLanes)!==0,o.flags&128){if(x)return G2(o,l,p);l.flags|=128}if(A=l.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),bn(On,On.current),x)break;return null;case 22:case 23:return l.lanes=0,ae(o,l,p)}return La(o,l,p)}var W2,t1,j2,X2;W2=function(o,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},t1=function(){},j2=function(o,l,p,x){var A=o.memoizedProps;if(A!==x){o=l.stateNode,ei(Mr.current);var R=null;switch(p){case"input":A=Y(o,A),x=Y(o,x),R=[];break;case"select":A=$({},A,{value:void 0}),x=$({},x,{value:void 0}),R=[];break;case"textarea":A=z(o,A),x=z(o,x),R=[];break;default:typeof A.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Su)}Q(p,x);var k;p=null;for(_e in A)if(!x.hasOwnProperty(_e)&&A.hasOwnProperty(_e)&&A[_e]!=null)if(_e==="style"){var Z=A[_e];for(k in Z)Z.hasOwnProperty(k)&&(p||(p={}),p[k]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(r.hasOwnProperty(_e)?R||(R=[]):(R=R||[]).push(_e,null));for(_e in x){var J=x[_e];if(Z=A!=null?A[_e]:void 0,x.hasOwnProperty(_e)&&J!==Z&&(J!=null||Z!=null))if(_e==="style")if(Z){for(k in Z)!Z.hasOwnProperty(k)||J&&J.hasOwnProperty(k)||(p||(p={}),p[k]="");for(k in J)J.hasOwnProperty(k)&&Z[k]!==J[k]&&(p||(p={}),p[k]=J[k])}else p||(R||(R=[]),R.push(_e,p)),p=J;else _e==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,Z=Z?Z.__html:void 0,J!=null&&Z!==J&&(R=R||[]).push(_e,J)):_e==="children"?typeof J!="string"&&typeof J!="number"||(R=R||[]).push(_e,""+J):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(r.hasOwnProperty(_e)?(J!=null&&_e==="onScroll"&&In("scroll",o),R||Z===J||(R=[])):(R=R||[]).push(_e,J))}p&&(R=R||[]).push("style",p);var _e=R;(l.updateQueue=_e)&&(l.flags|=4)}},X2=function(o,l,p,x){p!==x&&(l.flags|=4)};function Bh(o,l){if(!Un)switch(o.tailMode){case"hidden":l=o.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function or(o){var l=o.alternate!==null&&o.alternate.child===o.child,p=0,x=0;if(l)for(var A=o.child;A!==null;)p|=A.lanes|A.childLanes,x|=A.subtreeFlags&14680064,x|=A.flags&14680064,A.return=o,A=A.sibling;else for(A=o.child;A!==null;)p|=A.lanes|A.childLanes,x|=A.subtreeFlags,x|=A.flags,A.return=o,A=A.sibling;return o.subtreeFlags|=x,o.childLanes=p,l}function IP(o,l,p){var x=l.pendingProps;switch(to(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(l),null;case 1:return Oi(l.type)&&Mu(),or(l),null;case 3:return x=l.stateNode,zo(),Ln(Xi),Ln(Ai),bs(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Sl(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Vr!==null&&(d1(Vr),Vr=null))),t1(o,l),or(l),null;case 5:Tl(l);var A=ei(ro.current);if(p=l.type,o!==null&&l.stateNode!=null)j2(o,l,p,x,A),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!x){if(l.stateNode===null)throw Error(t(166));return or(l),null}if(o=ei(Mr.current),Sl(l)){x=l.stateNode,p=l.type;var R=l.memoizedProps;switch(x[ai]=l,x[xl]=R,o=(l.mode&1)!==0,p){case"dialog":In("cancel",x),In("close",x);break;case"iframe":case"object":case"embed":In("load",x);break;case"video":case"audio":for(A=0;A<Uo.length;A++)In(Uo[A],x);break;case"source":In("error",x);break;case"img":case"image":case"link":In("error",x),In("load",x);break;case"details":In("toggle",x);break;case"input":xt(x,R),In("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!R.multiple},In("invalid",x);break;case"textarea":de(x,R),In("invalid",x)}Q(p,R),A=null;for(var k in R)if(R.hasOwnProperty(k)){var Z=R[k];k==="children"?typeof Z=="string"?x.textContent!==Z&&(R.suppressHydrationWarning!==!0&&xu(x.textContent,Z,o),A=["children",Z]):typeof Z=="number"&&x.textContent!==""+Z&&(R.suppressHydrationWarning!==!0&&xu(x.textContent,Z,o),A=["children",""+Z]):r.hasOwnProperty(k)&&Z!=null&&k==="onScroll"&&In("scroll",x)}switch(p){case"input":Pt(x),Xe(x,R,!0);break;case"textarea":Pt(x),Ue(x);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(x.onclick=Su)}x=A,l.updateQueue=x,x!==null&&(l.flags|=4)}else{k=A.nodeType===9?A:A.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ie(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=k.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=k.createElement(p,{is:x.is}):(o=k.createElement(p),p==="select"&&(k=o,x.multiple?k.multiple=!0:x.size&&(k.size=x.size))):o=k.createElementNS(o,p),o[ai]=l,o[xl]=x,W2(o,l,!1,!1),l.stateNode=o;e:{switch(k=Ce(p,x),p){case"dialog":In("cancel",o),In("close",o),A=x;break;case"iframe":case"object":case"embed":In("load",o),A=x;break;case"video":case"audio":for(A=0;A<Uo.length;A++)In(Uo[A],o);A=x;break;case"source":In("error",o),A=x;break;case"img":case"image":case"link":In("error",o),In("load",o),A=x;break;case"details":In("toggle",o),A=x;break;case"input":xt(o,x),A=Y(o,x),In("invalid",o);break;case"option":A=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},A=$({},x,{value:void 0}),In("invalid",o);break;case"textarea":de(o,x),A=z(o,x),In("invalid",o);break;default:A=x}Q(p,A),Z=A;for(R in Z)if(Z.hasOwnProperty(R)){var J=Z[R];R==="style"?Ut(o,J):R==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&lt(o,J)):R==="children"?typeof J=="string"?(p!=="textarea"||J!=="")&&Gt(o,J):typeof J=="number"&&Gt(o,""+J):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(r.hasOwnProperty(R)?J!=null&&R==="onScroll"&&In("scroll",o):J!=null&&C(o,R,J,k))}switch(p){case"input":Pt(o),Xe(o,x,!1);break;case"textarea":Pt(o),Ue(o);break;case"option":x.value!=null&&o.setAttribute("value",""+We(x.value));break;case"select":o.multiple=!!x.multiple,R=x.value,R!=null?j(o,!!x.multiple,R,!1):x.defaultValue!=null&&j(o,!!x.multiple,x.defaultValue,!0);break;default:typeof A.onClick=="function"&&(o.onclick=Su)}switch(p){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return or(l),null;case 6:if(o&&l.stateNode!=null)X2(o,l,o.memoizedProps,x);else{if(typeof x!="string"&&l.stateNode===null)throw Error(t(166));if(p=ei(ro.current),ei(Mr.current),Sl(l)){if(x=l.stateNode,p=l.memoizedProps,x[ai]=l,(R=x.nodeValue!==p)&&(o=Ci,o!==null))switch(o.tag){case 3:xu(x.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&xu(x.nodeValue,p,(o.mode&1)!==0)}R&&(l.flags|=4)}else x=(p.nodeType===9?p:p.ownerDocument).createTextNode(x),x[ai]=l,l.stateNode=x}return or(l),null;case 13:if(Ln(On),x=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Un&&qi!==null&&l.mode&1&&!(l.flags&128))Ch(),Fo(),l.flags|=98560,R=!1;else if(R=Sl(l),x!==null&&x.dehydrated!==null){if(o===null){if(!R)throw Error(t(318));if(R=l.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(t(317));R[ai]=l}else Fo(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;or(l),R=!1}else Vr!==null&&(d1(Vr),Vr=null),R=!0;if(!R)return l.flags&65536?l:null}return l.flags&128?(l.lanes=p,l):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(l.child.flags|=8192,l.mode&1&&(o===null||On.current&1?Ii===0&&(Ii=3):m1())),l.updateQueue!==null&&(l.flags|=4),or(l),null);case 4:return zo(),t1(o,l),o===null&&yl(l.stateNode.containerInfo),or(l),null;case 10:return Pu(l.type._context),or(l),null;case 17:return Oi(l.type)&&Mu(),or(l),null;case 19:if(Ln(On),R=l.memoizedState,R===null)return or(l),null;if(x=(l.flags&128)!==0,k=R.rendering,k===null)if(x)Bh(R,!1);else{if(Ii!==0||o!==null&&o.flags&128)for(o=l.child;o!==null;){if(k=as(o),k!==null){for(l.flags|=128,Bh(R,!1),x=k.updateQueue,x!==null&&(l.updateQueue=x,l.flags|=4),l.subtreeFlags=0,x=p,p=l.child;p!==null;)R=p,o=x,R.flags&=14680066,k=R.alternate,k===null?(R.childLanes=0,R.lanes=o,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=k.childLanes,R.lanes=k.lanes,R.child=k.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=k.memoizedProps,R.memoizedState=k.memoizedState,R.updateQueue=k.updateQueue,R.type=k.type,o=k.dependencies,R.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return bn(On,On.current&1|2),l.child}o=o.sibling}R.tail!==null&&ce()>Wf&&(l.flags|=128,x=!0,Bh(R,!1),l.lanes=4194304)}else{if(!x)if(o=as(k),o!==null){if(l.flags|=128,x=!0,p=o.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),Bh(R,!0),R.tail===null&&R.tailMode==="hidden"&&!k.alternate&&!Un)return or(l),null}else 2*ce()-R.renderingStartTime>Wf&&p!==1073741824&&(l.flags|=128,x=!0,Bh(R,!1),l.lanes=4194304);R.isBackwards?(k.sibling=l.child,l.child=k):(p=R.last,p!==null?p.sibling=k:l.child=k,R.last=k)}return R.tail!==null?(l=R.tail,R.rendering=l,R.tail=l.sibling,R.renderingStartTime=ce(),l.sibling=null,p=On.current,bn(On,x?p&1|2:p&1),l):(or(l),null);case 22:case 23:return p1(),x=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(l.flags|=8192),x&&l.mode&1?cs&1073741824&&(or(l),l.subtreeFlags&6&&(l.flags|=8192)):or(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function LP(o,l){switch(to(l),l.tag){case 1:return Oi(l.type)&&Mu(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return zo(),Ln(Xi),Ln(Ai),bs(),o=l.flags,o&65536&&!(o&128)?(l.flags=o&-65537|128,l):null;case 5:return Tl(l),null;case 13:if(Ln(On),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));Fo()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Ln(On),null;case 4:return zo(),null;case 10:return Pu(l.type._context),null;case 22:case 23:return p1(),null;case 24:return null;default:return null}}var cg=!1,ar=!1,DP=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Hf(o,l){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(x){ni(o,l,x)}else p.current=null}function n1(o,l,p){try{p()}catch(x){ni(o,l,x)}}var Y2=!1;function NP(o,l){if(_l=Nr,o=Bn(),pi(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var A=x.anchorOffset,R=x.focusNode;x=x.focusOffset;try{p.nodeType,R.nodeType}catch{p=null;break e}var k=0,Z=-1,J=-1,_e=0,ke=0,Ge=o,Fe=null;t:for(;;){for(var ht;Ge!==p||A!==0&&Ge.nodeType!==3||(Z=k+A),Ge!==R||x!==0&&Ge.nodeType!==3||(J=k+x),Ge.nodeType===3&&(k+=Ge.nodeValue.length),(ht=Ge.firstChild)!==null;)Fe=Ge,Ge=ht;for(;;){if(Ge===o)break t;if(Fe===p&&++_e===A&&(Z=k),Fe===R&&++ke===x&&(J=k),(ht=Ge.nextSibling)!==null)break;Ge=Fe,Fe=Ge.parentNode}Ge=ht}p=Z===-1||J===-1?null:{start:Z,end:J}}else p=null}p=p||{start:0,end:0}}else p=null;for(mh={focusedElem:o,selectionRange:p},Nr=!1,_t=l;_t!==null;)if(l=_t,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,_t=o;else for(;_t!==null;){l=_t;try{var St=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(St!==null){var Et=St.memoizedProps,li=St.memoizedState,fe=l.stateNode,ie=fe.getSnapshotBeforeUpdate(l.elementType===l.type?Et:Hr(l.type,Et),li);fe.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var ge=l.stateNode.containerInfo;ge.nodeType===1?ge.textContent="":ge.nodeType===9&&ge.documentElement&&ge.removeChild(ge.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ze){ni(l,l.return,Ze)}if(o=l.sibling,o!==null){o.return=l.return,_t=o;break}_t=l.return}return St=Y2,Y2=!1,St}function Vh(o,l,p){var x=l.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var A=x=x.next;do{if((A.tag&o)===o){var R=A.destroy;A.destroy=void 0,R!==void 0&&n1(l,p,R)}A=A.next}while(A!==x)}}function fg(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&o)===o){var x=p.create;p.destroy=x()}p=p.next}while(p!==l)}}function i1(o){var l=o.ref;if(l!==null){var p=o.stateNode;switch(o.tag){case 5:o=p;break;default:o=p}typeof l=="function"?l(o):l.current=o}}function q2(o){var l=o.alternate;l!==null&&(o.alternate=null,q2(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[ai],delete l[xl],delete l[ya],delete l[Tf],delete l[Af])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Z2(o){return o.tag===5||o.tag===3||o.tag===4}function K2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Z2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function r1(o,l,p){var x=o.tag;if(x===5||x===6)o=o.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(o,l):p.insertBefore(o,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(o,p)):(l=p,l.appendChild(o)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=Su));else if(x!==4&&(o=o.child,o!==null))for(r1(o,l,p),o=o.sibling;o!==null;)r1(o,l,p),o=o.sibling}function s1(o,l,p){var x=o.tag;if(x===5||x===6)o=o.stateNode,l?p.insertBefore(o,l):p.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(s1(o,l,p),o=o.sibling;o!==null;)s1(o,l,p),o=o.sibling}var Ki=null,uo=!1;function bl(o,l,p){for(p=p.child;p!==null;)$2(o,l,p),p=p.sibling}function $2(o,l,p){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(bt,p)}catch{}switch(p.tag){case 5:ar||Hf(p,l);case 6:var x=Ki,A=uo;Ki=null,bl(o,l,p),Ki=x,uo=A,Ki!==null&&(uo?(o=Ki,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):Ki.removeChild(p.stateNode));break;case 18:Ki!==null&&(uo?(o=Ki,p=p.stateNode,o.nodeType===8?Ef(o.parentNode,p):o.nodeType===1&&Ef(o,p),uu(o)):Ef(Ki,p.stateNode));break;case 4:x=Ki,A=uo,Ki=p.stateNode.containerInfo,uo=!0,bl(o,l,p),Ki=x,uo=A;break;case 0:case 11:case 14:case 15:if(!ar&&(x=p.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){A=x=x.next;do{var R=A,k=R.destroy;R=R.tag,k!==void 0&&(R&2||R&4)&&n1(p,l,k),A=A.next}while(A!==x)}bl(o,l,p);break;case 1:if(!ar&&(Hf(p,l),x=p.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=p.memoizedProps,x.state=p.memoizedState,x.componentWillUnmount()}catch(Z){ni(p,l,Z)}bl(o,l,p);break;case 21:bl(o,l,p);break;case 22:p.mode&1?(ar=(x=ar)||p.memoizedState!==null,bl(o,l,p),ar=x):bl(o,l,p);break;default:bl(o,l,p)}}function Q2(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new DP),l.forEach(function(x){var A=GP.bind(null,o,x);p.has(x)||(p.add(x),x.then(A,A))})}}function co(o,l){var p=l.deletions;if(p!==null)for(var x=0;x<p.length;x++){var A=p[x];try{var R=o,k=l,Z=k;e:for(;Z!==null;){switch(Z.tag){case 5:Ki=Z.stateNode,uo=!1;break e;case 3:Ki=Z.stateNode.containerInfo,uo=!0;break e;case 4:Ki=Z.stateNode.containerInfo,uo=!0;break e}Z=Z.return}if(Ki===null)throw Error(t(160));$2(R,k,A),Ki=null,uo=!1;var J=A.alternate;J!==null&&(J.return=null),A.return=null}catch(_e){ni(A,l,_e)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)J2(l,o),l=l.sibling}function J2(o,l){var p=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(co(l,o),Vo(o),x&4){try{Vh(3,o,o.return),fg(3,o)}catch(Et){ni(o,o.return,Et)}try{Vh(5,o,o.return)}catch(Et){ni(o,o.return,Et)}}break;case 1:co(l,o),Vo(o),x&512&&p!==null&&Hf(p,p.return);break;case 5:if(co(l,o),Vo(o),x&512&&p!==null&&Hf(p,p.return),o.flags&32){var A=o.stateNode;try{Gt(A,"")}catch(Et){ni(o,o.return,Et)}}if(x&4&&(A=o.stateNode,A!=null)){var R=o.memoizedProps,k=p!==null?p.memoizedProps:R,Z=o.type,J=o.updateQueue;if(o.updateQueue=null,J!==null)try{Z==="input"&&R.type==="radio"&&R.name!=null&&Be(A,R),Ce(Z,k);var _e=Ce(Z,R);for(k=0;k<J.length;k+=2){var ke=J[k],Ge=J[k+1];ke==="style"?Ut(A,Ge):ke==="dangerouslySetInnerHTML"?lt(A,Ge):ke==="children"?Gt(A,Ge):C(A,ke,Ge,_e)}switch(Z){case"input":at(A,R);break;case"textarea":Ae(A,R);break;case"select":var Fe=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!R.multiple;var ht=R.value;ht!=null?j(A,!!R.multiple,ht,!1):Fe!==!!R.multiple&&(R.defaultValue!=null?j(A,!!R.multiple,R.defaultValue,!0):j(A,!!R.multiple,R.multiple?[]:"",!1))}A[xl]=R}catch(Et){ni(o,o.return,Et)}}break;case 6:if(co(l,o),Vo(o),x&4){if(o.stateNode===null)throw Error(t(162));A=o.stateNode,R=o.memoizedProps;try{A.nodeValue=R}catch(Et){ni(o,o.return,Et)}}break;case 3:if(co(l,o),Vo(o),x&4&&p!==null&&p.memoizedState.isDehydrated)try{uu(l.containerInfo)}catch(Et){ni(o,o.return,Et)}break;case 4:co(l,o),Vo(o);break;case 13:co(l,o),Vo(o),A=o.child,A.flags&8192&&(R=A.memoizedState!==null,A.stateNode.isHidden=R,!R||A.alternate!==null&&A.alternate.memoizedState!==null||(l1=ce())),x&4&&Q2(o);break;case 22:if(ke=p!==null&&p.memoizedState!==null,o.mode&1?(ar=(_e=ar)||ke,co(l,o),ar=_e):co(l,o),Vo(o),x&8192){if(_e=o.memoizedState!==null,(o.stateNode.isHidden=_e)&&!ke&&o.mode&1)for(_t=o,ke=o.child;ke!==null;){for(Ge=_t=ke;_t!==null;){switch(Fe=_t,ht=Fe.child,Fe.tag){case 0:case 11:case 14:case 15:Vh(4,Fe,Fe.return);break;case 1:Hf(Fe,Fe.return);var St=Fe.stateNode;if(typeof St.componentWillUnmount=="function"){x=Fe,p=Fe.return;try{l=x,St.props=l.memoizedProps,St.state=l.memoizedState,St.componentWillUnmount()}catch(Et){ni(x,p,Et)}}break;case 5:Hf(Fe,Fe.return);break;case 22:if(Fe.memoizedState!==null){nM(Ge);continue}}ht!==null?(ht.return=Fe,_t=ht):nM(Ge)}ke=ke.sibling}e:for(ke=null,Ge=o;;){if(Ge.tag===5){if(ke===null){ke=Ge;try{A=Ge.stateNode,_e?(R=A.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(Z=Ge.stateNode,J=Ge.memoizedProps.style,k=J!=null&&J.hasOwnProperty("display")?J.display:null,Z.style.display=Lt("display",k))}catch(Et){ni(o,o.return,Et)}}}else if(Ge.tag===6){if(ke===null)try{Ge.stateNode.nodeValue=_e?"":Ge.memoizedProps}catch(Et){ni(o,o.return,Et)}}else if((Ge.tag!==22&&Ge.tag!==23||Ge.memoizedState===null||Ge===o)&&Ge.child!==null){Ge.child.return=Ge,Ge=Ge.child;continue}if(Ge===o)break e;for(;Ge.sibling===null;){if(Ge.return===null||Ge.return===o)break e;ke===Ge&&(ke=null),Ge=Ge.return}ke===Ge&&(ke=null),Ge.sibling.return=Ge.return,Ge=Ge.sibling}}break;case 19:co(l,o),Vo(o),x&4&&Q2(o);break;case 21:break;default:co(l,o),Vo(o)}}function Vo(o){var l=o.flags;if(l&2){try{e:{for(var p=o.return;p!==null;){if(Z2(p)){var x=p;break e}p=p.return}throw Error(t(160))}switch(x.tag){case 5:var A=x.stateNode;x.flags&32&&(Gt(A,""),x.flags&=-33);var R=K2(o);s1(o,R,A);break;case 3:case 4:var k=x.stateNode.containerInfo,Z=K2(o);r1(o,Z,k);break;default:throw Error(t(161))}}catch(J){ni(o,o.return,J)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function UP(o,l,p){_t=o,eM(o)}function eM(o,l,p){for(var x=(o.mode&1)!==0;_t!==null;){var A=_t,R=A.child;if(A.tag===22&&x){var k=A.memoizedState!==null||cg;if(!k){var Z=A.alternate,J=Z!==null&&Z.memoizedState!==null||ar;Z=cg;var _e=ar;if(cg=k,(ar=J)&&!_e)for(_t=A;_t!==null;)k=_t,J=k.child,k.tag===22&&k.memoizedState!==null?iM(A):J!==null?(J.return=k,_t=J):iM(A);for(;R!==null;)_t=R,eM(R),R=R.sibling;_t=A,cg=Z,ar=_e}tM(o)}else A.subtreeFlags&8772&&R!==null?(R.return=A,_t=R):tM(o)}}function tM(o){for(;_t!==null;){var l=_t;if(l.flags&8772){var p=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:ar||fg(5,l);break;case 1:var x=l.stateNode;if(l.flags&4&&!ar)if(p===null)x.componentDidMount();else{var A=l.elementType===l.type?p.memoizedProps:Hr(l.type,p.memoizedProps);x.componentDidUpdate(A,p.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var R=l.updateQueue;R!==null&&El(l,R,x);break;case 3:var k=l.updateQueue;if(k!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=l.child.stateNode;break;case 1:p=l.child.stateNode}El(l,k,p)}break;case 5:var Z=l.stateNode;if(p===null&&l.flags&4){p=Z;var J=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&p.focus();break;case"img":J.src&&(p.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var _e=l.alternate;if(_e!==null){var ke=_e.memoizedState;if(ke!==null){var Ge=ke.dehydrated;Ge!==null&&uu(Ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ar||l.flags&512&&i1(l)}catch(Fe){ni(l,l.return,Fe)}}if(l===o){_t=null;break}if(p=l.sibling,p!==null){p.return=l.return,_t=p;break}_t=l.return}}function nM(o){for(;_t!==null;){var l=_t;if(l===o){_t=null;break}var p=l.sibling;if(p!==null){p.return=l.return,_t=p;break}_t=l.return}}function iM(o){for(;_t!==null;){var l=_t;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{fg(4,l)}catch(J){ni(l,p,J)}break;case 1:var x=l.stateNode;if(typeof x.componentDidMount=="function"){var A=l.return;try{x.componentDidMount()}catch(J){ni(l,A,J)}}var R=l.return;try{i1(l)}catch(J){ni(l,R,J)}break;case 5:var k=l.return;try{i1(l)}catch(J){ni(l,k,J)}}}catch(J){ni(l,l.return,J)}if(l===o){_t=null;break}var Z=l.sibling;if(Z!==null){Z.return=l.return,_t=Z;break}_t=l.return}}var OP=Math.ceil,dg=I.ReactCurrentDispatcher,o1=I.ReactCurrentOwner,Rs=I.ReactCurrentBatchConfig,_n=0,zi=null,_i=null,$i=0,cs=0,Gf=Wn(0),Ii=0,Hh=null,Bu=0,hg=0,a1=0,Gh=null,Gr=null,l1=0,Wf=1/0,Da=null,pg=!1,u1=null,Pl=null,mg=!1,Rl=null,gg=0,Wh=0,c1=null,yg=-1,vg=0;function Ar(){return _n&6?ce():yg!==-1?yg:yg=ce()}function Il(o){return o.mode&1?_n&2&&$i!==0?$i&-$i:Qv.transition!==null?(vg===0&&(vg=cn()),vg):(o=fn,o!==0||(o=window.event,o=o===void 0?16:Fm(o.type)),o):1}function fo(o,l,p,x){if(50<Wh)throw Wh=0,c1=null,Error(t(185));hi(o,p,x),(!(_n&2)||o!==zi)&&(o===zi&&(!(_n&2)&&(hg|=p),Ii===4&&Ll(o,$i)),Wr(o,x),p===1&&_n===0&&!(l.mode&1)&&(Wf=ce()+500,Eu&&As()))}function Wr(o,l){var p=o.callbackNode;di(o,l);var x=wi(o,o===zi?$i:0);if(x===0)p!==null&&V(p),o.callbackNode=null,o.callbackPriority=0;else if(l=x&-x,o.callbackPriority!==l){if(p!=null&&V(p),l===1)o.tag===0?$m(sM.bind(null,o)):Tu(sM.bind(null,o)),$v(function(){!(_n&6)&&As()}),p=null;else{switch(er(x)){case 1:p=Ve;break;case 4:p=it;break;case 16:p=ft;break;case 536870912:p=Dt;break;default:p=ft}p=hM(p,rM.bind(null,o))}o.callbackPriority=l,o.callbackNode=p}}function rM(o,l){if(yg=-1,vg=0,_n&6)throw Error(t(327));var p=o.callbackNode;if(jf()&&o.callbackNode!==p)return null;var x=wi(o,o===zi?$i:0);if(x===0)return null;if(x&30||x&o.expiredLanes||l)l=_g(o,x);else{l=x;var A=_n;_n|=2;var R=aM();(zi!==o||$i!==l)&&(Da=null,Wf=ce()+500,Hu(o,l));do try{zP();break}catch(Z){oM(o,Z)}while(!0);Ta(),dg.current=R,_n=A,_i!==null?l=0:(zi=null,$i=0,l=Ii)}if(l!==0){if(l===2&&(A=Ss(o),A!==0&&(x=A,l=f1(o,A))),l===1)throw p=Hh,Hu(o,0),Ll(o,x),Wr(o,ce()),p;if(l===6)Ll(o,x);else{if(A=o.current.alternate,!(x&30)&&!FP(A)&&(l=_g(o,x),l===2&&(R=Ss(o),R!==0&&(x=R,l=f1(o,R))),l===1))throw p=Hh,Hu(o,0),Ll(o,x),Wr(o,ce()),p;switch(o.finishedWork=A,o.finishedLanes=x,l){case 0:case 1:throw Error(t(345));case 2:Gu(o,Gr,Da);break;case 3:if(Ll(o,x),(x&130023424)===x&&(l=l1+500-ce(),10<l)){if(wi(o,0)!==0)break;if(A=o.suspendedLanes,(A&x)!==x){Ar(),o.pingedLanes|=o.suspendedLanes&A;break}o.timeoutHandle=yh(Gu.bind(null,o,Gr,Da),l);break}Gu(o,Gr,Da);break;case 4:if(Ll(o,x),(x&4194240)===x)break;for(l=o.eventTimes,A=-1;0<x;){var k=31-zt(x);R=1<<k,k=l[k],k>A&&(A=k),x&=~R}if(x=A,x=ce()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*OP(x/1960))-x,10<x){o.timeoutHandle=yh(Gu.bind(null,o,Gr,Da),x);break}Gu(o,Gr,Da);break;case 5:Gu(o,Gr,Da);break;default:throw Error(t(329))}}}return Wr(o,ce()),o.callbackNode===p?rM.bind(null,o):null}function f1(o,l){var p=Gh;return o.current.memoizedState.isDehydrated&&(Hu(o,l).flags|=256),o=_g(o,l),o!==2&&(l=Gr,Gr=p,l!==null&&d1(l)),o}function d1(o){Gr===null?Gr=o:Gr.push.apply(Gr,o)}function FP(o){for(var l=o;;){if(l.flags&16384){var p=l.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var x=0;x<p.length;x++){var A=p[x],R=A.getSnapshot;A=A.value;try{if(!vr(R(),A))return!1}catch{return!1}}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ll(o,l){for(l&=~a1,l&=~hg,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var p=31-zt(l),x=1<<p;o[p]=-1,l&=~x}}function sM(o){if(_n&6)throw Error(t(327));jf();var l=wi(o,0);if(!(l&1))return Wr(o,ce()),null;var p=_g(o,l);if(o.tag!==0&&p===2){var x=Ss(o);x!==0&&(l=x,p=f1(o,x))}if(p===1)throw p=Hh,Hu(o,0),Ll(o,l),Wr(o,ce()),p;if(p===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Gu(o,Gr,Da),Wr(o,ce()),null}function h1(o,l){var p=_n;_n|=1;try{return o(l)}finally{_n=p,_n===0&&(Wf=ce()+500,Eu&&As())}}function Vu(o){Rl!==null&&Rl.tag===0&&!(_n&6)&&jf();var l=_n;_n|=1;var p=Rs.transition,x=fn;try{if(Rs.transition=null,fn=1,o)return o()}finally{fn=x,Rs.transition=p,_n=l,!(_n&6)&&As()}}function p1(){cs=Gf.current,Ln(Gf)}function Hu(o,l){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,vh(p)),_i!==null)for(p=_i.return;p!==null;){var x=p;switch(to(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Mu();break;case 3:zo(),Ln(Xi),Ln(Ai),bs();break;case 5:Tl(x);break;case 4:zo();break;case 13:Ln(On);break;case 19:Ln(On);break;case 10:Pu(x.type._context);break;case 22:case 23:p1()}p=p.return}if(zi=o,_i=o=Dl(o.current,null),$i=cs=l,Ii=0,Hh=null,a1=hg=Bu=0,Gr=Gh=null,io!==null){for(l=0;l<io.length;l++)if(p=io[l],x=p.interleaved,x!==null){p.interleaved=null;var A=x.next,R=p.pending;if(R!==null){var k=R.next;R.next=A,x.next=k}p.pending=x}io=null}return o}function oM(o,l){do{var p=_i;try{if(Ta(),Pa.current=Bf,ls){for(var x=Dn.memoizedState;x!==null;){var A=x.queue;A!==null&&(A.pending=null),x=x.next}ls=!1}if(so=0,yn=Xn=Dn=null,ki=!1,Bo=0,o1.current=null,p===null||p.return===null){Ii=1,Hh=l,_i=null;break}e:{var R=o,k=p.return,Z=p,J=l;if(l=$i,Z.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var _e=J,ke=Z,Ge=ke.tag;if(!(ke.mode&1)&&(Ge===0||Ge===11||Ge===15)){var Fe=ke.alternate;Fe?(ke.updateQueue=Fe.updateQueue,ke.memoizedState=Fe.memoizedState,ke.lanes=Fe.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var ht=vt(k);if(ht!==null){ht.flags&=-257,Wt(ht,k,Z,R,l),ht.mode&1&&Ye(R,_e,l),l=ht,J=_e;var St=l.updateQueue;if(St===null){var Et=new Set;Et.add(J),l.updateQueue=Et}else St.add(J);break e}else{if(!(l&1)){Ye(R,_e,l),m1();break e}J=Error(t(426))}}else if(Un&&Z.mode&1){var li=vt(k);if(li!==null){!(li.flags&65536)&&(li.flags|=256),Wt(li,k,Z,R,l),Ml(w(J,Z));break e}}R=J=w(J,Z),Ii!==4&&(Ii=2),Gh===null?Gh=[R]:Gh.push(R),R=k;do{switch(R.tag){case 3:R.flags|=65536,l&=-l,R.lanes|=l;var fe=re(R,J,l);Aa(R,fe);break e;case 1:Z=J;var ie=R.type,ge=R.stateNode;if(!(R.flags&128)&&(typeof ie.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(Pl===null||!Pl.has(ge)))){R.flags|=65536,l&=-l,R.lanes|=l;var Ze=Te(R,Z,l);Aa(R,Ze);break e}}R=R.return}while(R!==null)}uM(p)}catch(Ct){l=Ct,_i===p&&p!==null&&(_i=p=p.return);continue}break}while(!0)}function aM(){var o=dg.current;return dg.current=Bf,o===null?Bf:o}function m1(){(Ii===0||Ii===3||Ii===2)&&(Ii=4),zi===null||!(Bu&268435455)&&!(hg&268435455)||Ll(zi,$i)}function _g(o,l){var p=_n;_n|=2;var x=aM();(zi!==o||$i!==l)&&(Da=null,Hu(o,l));do try{kP();break}catch(A){oM(o,A)}while(!0);if(Ta(),_n=p,dg.current=x,_i!==null)throw Error(t(261));return zi=null,$i=0,Ii}function kP(){for(;_i!==null;)lM(_i)}function zP(){for(;_i!==null&&!oe();)lM(_i)}function lM(o){var l=dM(o.alternate,o,cs);o.memoizedProps=o.pendingProps,l===null?uM(o):_i=l,o1.current=null}function uM(o){var l=o;do{var p=l.alternate;if(o=l.return,l.flags&32768){if(p=LP(p,l),p!==null){p.flags&=32767,_i=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Ii=6,_i=null;return}}else if(p=IP(p,l,cs),p!==null){_i=p;return}if(l=l.sibling,l!==null){_i=l;return}_i=l=o}while(l!==null);Ii===0&&(Ii=5)}function Gu(o,l,p){var x=fn,A=Rs.transition;try{Rs.transition=null,fn=1,BP(o,l,p,x)}finally{Rs.transition=A,fn=x}return null}function BP(o,l,p,x){do jf();while(Rl!==null);if(_n&6)throw Error(t(327));p=o.finishedWork;var A=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var R=p.lanes|p.childLanes;if(Ei(o,R),o===zi&&(_i=zi=null,$i=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||mg||(mg=!0,hM(ft,function(){return jf(),null})),R=(p.flags&15990)!==0,p.subtreeFlags&15990||R){R=Rs.transition,Rs.transition=null;var k=fn;fn=1;var Z=_n;_n|=4,o1.current=null,NP(o,p),J2(p,o),mi(mh),Nr=!!_l,mh=_l=null,o.current=p,UP(p),ve(),_n=Z,fn=k,Rs.transition=R}else o.current=p;if(mg&&(mg=!1,Rl=o,gg=A),R=o.pendingLanes,R===0&&(Pl=null),wt(p.stateNode),Wr(o,ce()),l!==null)for(x=o.onRecoverableError,p=0;p<l.length;p++)A=l[p],x(A.value,{componentStack:A.stack,digest:A.digest});if(pg)throw pg=!1,o=u1,u1=null,o;return gg&1&&o.tag!==0&&jf(),R=o.pendingLanes,R&1?o===c1?Wh++:(Wh=0,c1=o):Wh=0,As(),null}function jf(){if(Rl!==null){var o=er(gg),l=Rs.transition,p=fn;try{if(Rs.transition=null,fn=16>o?16:o,Rl===null)var x=!1;else{if(o=Rl,Rl=null,gg=0,_n&6)throw Error(t(331));var A=_n;for(_n|=4,_t=o.current;_t!==null;){var R=_t,k=R.child;if(_t.flags&16){var Z=R.deletions;if(Z!==null){for(var J=0;J<Z.length;J++){var _e=Z[J];for(_t=_e;_t!==null;){var ke=_t;switch(ke.tag){case 0:case 11:case 15:Vh(8,ke,R)}var Ge=ke.child;if(Ge!==null)Ge.return=ke,_t=Ge;else for(;_t!==null;){ke=_t;var Fe=ke.sibling,ht=ke.return;if(q2(ke),ke===_e){_t=null;break}if(Fe!==null){Fe.return=ht,_t=Fe;break}_t=ht}}}var St=R.alternate;if(St!==null){var Et=St.child;if(Et!==null){St.child=null;do{var li=Et.sibling;Et.sibling=null,Et=li}while(Et!==null)}}_t=R}}if(R.subtreeFlags&2064&&k!==null)k.return=R,_t=k;else e:for(;_t!==null;){if(R=_t,R.flags&2048)switch(R.tag){case 0:case 11:case 15:Vh(9,R,R.return)}var fe=R.sibling;if(fe!==null){fe.return=R.return,_t=fe;break e}_t=R.return}}var ie=o.current;for(_t=ie;_t!==null;){k=_t;var ge=k.child;if(k.subtreeFlags&2064&&ge!==null)ge.return=k,_t=ge;else e:for(k=ie;_t!==null;){if(Z=_t,Z.flags&2048)try{switch(Z.tag){case 0:case 11:case 15:fg(9,Z)}}catch(Ct){ni(Z,Z.return,Ct)}if(Z===k){_t=null;break e}var Ze=Z.sibling;if(Ze!==null){Ze.return=Z.return,_t=Ze;break e}_t=Z.return}}if(_n=A,As(),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(bt,o)}catch{}x=!0}return x}finally{fn=p,Rs.transition=l}}return!1}function cM(o,l,p){l=w(p,l),l=re(o,l,1),o=kn(o,l,1),l=Ar(),o!==null&&(hi(o,1,l),Wr(o,l))}function ni(o,l,p){if(o.tag===3)cM(o,o,p);else for(;l!==null;){if(l.tag===3){cM(l,o,p);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Pl===null||!Pl.has(x))){o=w(p,o),o=Te(l,o,1),l=kn(l,o,1),o=Ar(),l!==null&&(hi(l,1,o),Wr(l,o));break}}l=l.return}}function VP(o,l,p){var x=o.pingCache;x!==null&&x.delete(l),l=Ar(),o.pingedLanes|=o.suspendedLanes&p,zi===o&&($i&p)===p&&(Ii===4||Ii===3&&($i&130023424)===$i&&500>ce()-l1?Hu(o,0):a1|=p),Wr(o,l)}function fM(o,l){l===0&&(o.mode&1?(l=pn,pn<<=1,!(pn&130023424)&&(pn=4194304)):l=1);var p=Ar();o=os(o,l),o!==null&&(hi(o,l,p),Wr(o,p))}function HP(o){var l=o.memoizedState,p=0;l!==null&&(p=l.retryLane),fM(o,p)}function GP(o,l){var p=0;switch(o.tag){case 13:var x=o.stateNode,A=o.memoizedState;A!==null&&(p=A.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(t(314))}x!==null&&x.delete(l),fM(o,p)}var dM;dM=function(o,l,p){if(o!==null)if(o.memoizedProps!==l.pendingProps||Xi.current)Jt=!0;else{if(!(o.lanes&p)&&!(l.flags&128))return Jt=!1,RP(o,l,p);Jt=!!(o.flags&131072)}else Jt=!1,Un&&l.flags&1048576&&wh(l,Rf,l.index);switch(l.lanes=0,l.tag){case 2:var x=l.type;ug(o,l),o=l.pendingProps;var A=va(l,Ai.current);ko(l,p),A=Nu(null,l,x,o,A,p);var R=Ih();return l.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Oi(x)?(R=!0,_a(l)):R=!1,l.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Zt(l),A.updater=Vf,l.stateNode=A,A._reactInternals=l,v(l,x,o,p),l=Xt(null,l,x,!0,R,p)):(l.tag=0,Un&&R&&Eh(l),ut(null,l,A,p),l=l.child),l;case 16:x=l.elementType;e:{switch(ug(o,l),o=l.pendingProps,A=x._init,x=A(x._payload),l.type=x,A=l.tag=jP(x),o=Hr(x,o),A){case 0:l=rt(null,l,x,o,p);break e;case 1:l=Tt(null,l,x,o,p);break e;case 11:l=Ri(null,l,x,o,p);break e;case 14:l=Tr(null,l,x,Hr(x.type,o),p);break e}throw Error(t(306,x,""))}return l;case 0:return x=l.type,A=l.pendingProps,A=l.elementType===x?A:Hr(x,A),rt(o,l,x,A,p);case 1:return x=l.type,A=l.pendingProps,A=l.elementType===x?A:Hr(x,A),Tt(o,l,x,A,p);case 3:e:{if(jt(l),o===null)throw Error(t(387));x=l.pendingProps,R=l.memoizedState,A=R.element,Kn(o,l),jn(l,x,null,p);var k=l.memoizedState;if(x=k.element,R.isDehydrated)if(R={element:x,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},l.updateQueue.baseState=R,l.memoizedState=R,l.flags&256){A=w(Error(t(423)),l),l=gn(o,l,x,p,A);break e}else if(x!==A){A=w(Error(t(424)),l),l=gn(o,l,x,p,A);break e}else for(qi=Ks(l.stateNode.containerInfo.firstChild),Ci=l,Un=!0,Vr=null,p=bu(l,null,x,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Fo(),x===A){l=La(o,l,p);break e}ut(o,l,x,p)}l=l.child}return l;case 5:return ba(l),o===null&&Lf(l),x=l.type,A=l.pendingProps,R=o!==null?o.memoizedProps:null,k=A.children,gh(x,A)?k=null:R!==null&&gh(x,R)&&(l.flags|=32),we(o,l),ut(o,l,k,p),l.child;case 6:return o===null&&Lf(l),null;case 13:return lo(o,l,p);case 4:return Lu(l,l.stateNode.containerInfo),x=l.pendingProps,o===null?l.child=Ma(l,null,x,p):ut(o,l,x,p),l.child;case 11:return x=l.type,A=l.pendingProps,A=l.elementType===x?A:Hr(x,A),Ri(o,l,x,A,p);case 7:return ut(o,l,l.pendingProps,p),l.child;case 8:return ut(o,l,l.pendingProps.children,p),l.child;case 12:return ut(o,l,l.pendingProps.children,p),l.child;case 10:e:{if(x=l.type._context,A=l.pendingProps,R=l.memoizedProps,k=A.value,bn(wa,x._currentValue),x._currentValue=k,R!==null)if(vr(R.value,k)){if(R.children===A.children&&!Xi.current){l=La(o,l,p);break e}}else for(R=l.child,R!==null&&(R.return=l);R!==null;){var Z=R.dependencies;if(Z!==null){k=R.child;for(var J=Z.firstContext;J!==null;){if(J.context===x){if(R.tag===1){J=Tn(-1,p&-p),J.tag=2;var _e=R.updateQueue;if(_e!==null){_e=_e.shared;var ke=_e.pending;ke===null?J.next=J:(J.next=ke.next,ke.next=J),_e.pending=J}}R.lanes|=p,J=R.alternate,J!==null&&(J.lanes|=p),Ru(R.return,p,l),Z.lanes|=p;break}J=J.next}}else if(R.tag===10)k=R.type===l.type?null:R.child;else if(R.tag===18){if(k=R.return,k===null)throw Error(t(341));k.lanes|=p,Z=k.alternate,Z!==null&&(Z.lanes|=p),Ru(k,p,l),k=R.sibling}else k=R.child;if(k!==null)k.return=R;else for(k=R;k!==null;){if(k===l){k=null;break}if(R=k.sibling,R!==null){R.return=k.return,k=R;break}k=k.return}R=k}ut(o,l,A.children,p),l=l.child}return l;case 9:return A=l.type,x=l.pendingProps.children,ko(l,p),A=Sr(A),x=x(A),l.flags|=1,ut(o,l,x,p),l.child;case 14:return x=l.type,A=Hr(x,l.pendingProps),A=Hr(x.type,A),Tr(o,l,x,A,p);case 15:return ye(o,l,l.type,l.pendingProps,p);case 17:return x=l.type,A=l.pendingProps,A=l.elementType===x?A:Hr(x,A),ug(o,l),l.tag=1,Oi(x)?(o=!0,_a(l)):o=!1,ko(l,p),c(l,x,A),v(l,x,A,p),Xt(null,l,x,!0,o,p);case 19:return G2(o,l,p);case 22:return ae(o,l,p)}throw Error(t(156,l.tag))};function hM(o,l){return Yc(o,l)}function WP(o,l,p,x){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(o,l,p,x){return new WP(o,l,p,x)}function g1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function jP(o){if(typeof o=="function")return g1(o)?1:0;if(o!=null){if(o=o.$$typeof,o===ne)return 11;if(o===Me)return 14}return 2}function Dl(o,l){var p=o.alternate;return p===null?(p=Is(o.tag,l,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=l,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,l=o.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function xg(o,l,p,x,A,R){var k=2;if(x=o,typeof o=="function")g1(o)&&(k=1);else if(typeof o=="string")k=5;else e:switch(o){case F:return Wu(p.children,A,R,l);case B:k=8,A|=8;break;case O:return o=Is(12,p,l,A|2),o.elementType=O,o.lanes=R,o;case ee:return o=Is(13,p,l,A),o.elementType=ee,o.lanes=R,o;case pe:return o=Is(19,p,l,A),o.elementType=pe,o.lanes=R,o;case me:return Sg(p,A,R,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case D:k=10;break e;case H:k=9;break e;case ne:k=11;break e;case Me:k=14;break e;case he:k=16,x=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=Is(k,p,l,A),l.elementType=o,l.type=x,l.lanes=R,l}function Wu(o,l,p,x){return o=Is(7,o,x,l),o.lanes=p,o}function Sg(o,l,p,x){return o=Is(22,o,x,l),o.elementType=me,o.lanes=p,o.stateNode={isHidden:!1},o}function y1(o,l,p){return o=Is(6,o,null,l),o.lanes=p,o}function v1(o,l,p){return l=Is(4,o.children!==null?o.children:[],o.key,l),l.lanes=p,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function XP(o,l,p,x,A){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=x,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function _1(o,l,p,x,A,R,k,Z,J){return o=new XP(o,l,p,Z,J),l===1?(l=1,R===!0&&(l|=8)):l=0,R=Is(3,null,null,l),o.current=R,R.stateNode=o,R.memoizedState={element:x,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zt(R),o}function YP(o,l,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:x==null?null:""+x,children:o,containerInfo:l,implementation:p}}function pM(o){if(!o)return Qs;o=o._reactInternals;e:{if(xs(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Oi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var p=o.type;if(Oi(p))return wu(o,p,l)}return l}function mM(o,l,p,x,A,R,k,Z,J){return o=_1(p,x,!0,o,A,R,k,Z,J),o.context=pM(null),p=o.current,x=Ar(),A=Il(p),R=Tn(x,A),R.callback=l??null,kn(p,R,A),o.current.lanes=A,hi(o,A,x),Wr(o,x),o}function Mg(o,l,p,x){var A=l.current,R=Ar(),k=Il(A);return p=pM(p),l.context===null?l.context=p:l.pendingContext=p,l=Tn(R,k),l.payload={element:o},x=x===void 0?null:x,x!==null&&(l.callback=x),o=kn(A,l,k),o!==null&&(fo(o,A,k,R),Fi(o,A,k)),k}function wg(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function gM(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<l?p:l}}function x1(o,l){gM(o,l),(o=o.alternate)&&gM(o,l)}var yM=typeof reportError=="function"?reportError:function(o){console.error(o)};function S1(o){this._internalRoot=o}Eg.prototype.render=S1.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));Mg(o,l,null,null)},Eg.prototype.unmount=S1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Vu(function(){Mg(null,o,null,null)}),l[xr]=null}};function Eg(o){this._internalRoot=o}Eg.prototype.unstable_scheduleHydration=function(o){if(o){var l=qc();o={blockedOn:null,target:o,priority:l};for(var p=0;p<Po.length&&l!==0&&l<Po[p].priority;p++);Po.splice(p,0,o),p===0&&$c(o)}};function M1(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Tg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function vM(){}function qP(o,l,p,x,A){if(A){if(typeof x=="function"){var R=x;x=function(){var _e=wg(k);R.call(_e)}}var k=mM(l,x,o,0,null,!1,!1,"",vM);return o._reactRootContainer=k,o[xr]=k.current,yl(o.nodeType===8?o.parentNode:o),Vu(),k}for(;A=o.lastChild;)o.removeChild(A);if(typeof x=="function"){var Z=x;x=function(){var _e=wg(J);Z.call(_e)}}var J=_1(o,0,!1,null,null,!1,!1,"",vM);return o._reactRootContainer=J,o[xr]=J.current,yl(o.nodeType===8?o.parentNode:o),Vu(function(){Mg(l,J,p,x)}),J}function Ag(o,l,p,x,A){var R=p._reactRootContainer;if(R){var k=R;if(typeof A=="function"){var Z=A;A=function(){var J=wg(k);Z.call(J)}}Mg(l,k,o,A)}else k=qP(p,l,o,A,x);return wg(k)}ou=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var p=tn(l.pendingLanes);p!==0&&(qn(l,p|1),Wr(l,ce()),!(_n&6)&&(Wf=ce()+500,As()))}break;case 13:Vu(function(){var x=os(o,1);if(x!==null){var A=Ar();fo(x,o,1,A)}}),x1(o,1)}},Qd=function(o){if(o.tag===13){var l=os(o,134217728);if(l!==null){var p=Ar();fo(l,o,134217728,p)}x1(o,134217728)}},Om=function(o){if(o.tag===13){var l=Il(o),p=os(o,l);if(p!==null){var x=Ar();fo(p,o,l,x)}x1(o,l)}},qc=function(){return fn},Zc=function(o,l){var p=fn;try{return fn=o,l()}finally{fn=p}},He=function(o,l,p){switch(l){case"input":if(at(o,p),l=p.name,p.type==="radio"&&l!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<p.length;l++){var x=p[l];if(x!==o&&x.form===o.form){var A=Cf(x);if(!A)throw Error(t(90));be(x),at(x,A)}}}break;case"textarea":Ae(o,p);break;case"select":l=p.value,l!=null&&j(o,!!p.multiple,l,!1)}},hn=h1,Rn=Vu;var ZP={usingClientEntryPoint:!1,Events:[$s,Zn,Cf,nt,It,h1]},jh={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KP={bundleType:jh.bundleType,version:jh.version,rendererPackageName:jh.rendererPackageName,rendererConfig:jh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=jc(o),o===null?null:o.stateNode},findFiberByHostInstance:jh.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cg.isDisabled&&Cg.supportsFiber)try{bt=Cg.inject(KP),qe=Cg}catch{}}return jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZP,jr.createPortal=function(o,l){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M1(l))throw Error(t(200));return YP(o,l,null,p)},jr.createRoot=function(o,l){if(!M1(o))throw Error(t(299));var p=!1,x="",A=yM;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(A=l.onRecoverableError)),l=_1(o,1,!1,null,null,p,!1,x,A),o[xr]=l.current,yl(o.nodeType===8?o.parentNode:o),new S1(l)},jr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=jc(l),o=o===null?null:o.stateNode,o},jr.flushSync=function(o){return Vu(o)},jr.hydrate=function(o,l,p){if(!Tg(l))throw Error(t(200));return Ag(null,o,l,!0,p)},jr.hydrateRoot=function(o,l,p){if(!M1(o))throw Error(t(405));var x=p!=null&&p.hydratedSources||null,A=!1,R="",k=yM;if(p!=null&&(p.unstable_strictMode===!0&&(A=!0),p.identifierPrefix!==void 0&&(R=p.identifierPrefix),p.onRecoverableError!==void 0&&(k=p.onRecoverableError)),l=mM(l,null,o,1,p??null,A,!1,R,k),o[xr]=l.current,yl(o),x)for(o=0;o<x.length;o++)p=x[o],A=p._getVersion,A=A(p._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[p,A]:l.mutableSourceEagerHydrationData.push(p,A);return new Eg(l)},jr.render=function(o,l,p){if(!Tg(l))throw Error(t(200));return Ag(null,o,l,!1,p)},jr.unmountComponentAtNode=function(o){if(!Tg(o))throw Error(t(40));return o._reactRootContainer?(Vu(function(){Ag(null,null,o,!1,function(){o._reactRootContainer=null,o[xr]=null})}),!0):!1},jr.unstable_batchedUpdates=h1,jr.unstable_renderSubtreeIntoContainer=function(o,l,p,x){if(!Tg(p))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Ag(o,l,p,!1,x)},jr.version="18.3.1-next-f1338f8080-20240426",jr}var AM;function rR(){if(AM)return T1.exports;AM=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),T1.exports=iR(),T1.exports}var CM;function sR(){if(CM)return bg;CM=1;var n=rR();return bg.createRoot=n.createRoot,bg.hydrateRoot=n.hydrateRoot,bg}var oR=sR(),Kr=function(){return Kr=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Kr.apply(this,arguments)};function G0(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}var Vn="-ms-",_p="-moz-",An="-webkit-",LT="comm",Qy="rule",Jx="decl",aR="@import",DT="@keyframes",lR="@layer",NT=Math.abs,eS=String.fromCharCode,J_=Object.assign;function uR(n,e){return Hi(n,0)^45?(((e<<2^Hi(n,0))<<2^Hi(n,1))<<2^Hi(n,2))<<2^Hi(n,3):0}function UT(n){return n.trim()}function Va(n,e){return(n=e.exec(n))?n[0]:n}function on(n,e,t){return n.replace(e,t)}function I0(n,e,t){return n.indexOf(e,t)}function Hi(n,e){return n.charCodeAt(e)|0}function Rd(n,e,t){return n.slice(e,t)}function Go(n){return n.length}function OT(n){return n.length}function fp(n,e){return e.push(n),n}function cR(n,e){return n.map(e).join("")}function bM(n,e){return n.filter(function(t){return!Va(t,e)})}var Jy=1,Id=1,FT=0,Bs=0,Si=0,Wd="";function ev(n,e,t,i,r,s,a,u){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:Jy,column:Id,length:a,return:"",siblings:u}}function Wl(n,e){return J_(ev("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function Xf(n){for(;n.root;)n=Wl(n.root,{children:[n]});fp(n,n.siblings)}function fR(){return Si}function dR(){return Si=Bs>0?Hi(Wd,--Bs):0,Id--,Si===10&&(Id=1,Jy--),Si}function Mo(){return Si=Bs<FT?Hi(Wd,Bs++):0,Id++,Si===10&&(Id=1,Jy++),Si}function xc(){return Hi(Wd,Bs)}function L0(){return Bs}function tv(n,e){return Rd(Wd,n,e)}function ex(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hR(n){return Jy=Id=1,FT=Go(Wd=n),Bs=0,[]}function pR(n){return Wd="",n}function b1(n){return UT(tv(Bs-1,tx(n===91?n+2:n===40?n+1:n)))}function mR(n){for(;(Si=xc())&&Si<33;)Mo();return ex(n)>2||ex(Si)>3?"":" "}function gR(n,e){for(;--e&&Mo()&&!(Si<48||Si>102||Si>57&&Si<65||Si>70&&Si<97););return tv(n,L0()+(e<6&&xc()==32&&Mo()==32))}function tx(n){for(;Mo();)switch(Si){case n:return Bs;case 34:case 39:n!==34&&n!==39&&tx(Si);break;case 40:n===41&&tx(n);break;case 92:Mo();break}return Bs}function yR(n,e){for(;Mo()&&n+Si!==57;)if(n+Si===84&&xc()===47)break;return"/*"+tv(e,Bs-1)+"*"+eS(n===47?n:Mo())}function vR(n){for(;!ex(xc());)Mo();return tv(n,Bs)}function _R(n){return pR(D0("",null,null,null,[""],n=hR(n),0,[0],n))}function D0(n,e,t,i,r,s,a,u,d){for(var h=0,m=0,g=a,y=0,_=0,M=0,T=1,E=1,S=1,b=0,C="",I=r,U=s,N=i,F=C;E;)switch(M=b,b=Mo()){case 40:if(M!=108&&Hi(F,g-1)==58){I0(F+=on(b1(b),"&","&\f"),"&\f",NT(h?u[h-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:F+=b1(b);break;case 9:case 10:case 13:case 32:F+=mR(M);break;case 92:F+=gR(L0()-1,7);continue;case 47:switch(xc()){case 42:case 47:fp(xR(yR(Mo(),L0()),e,t,d),d);break;default:F+="/"}break;case 123*T:u[h++]=Go(F)*S;case 125*T:case 59:case 0:switch(b){case 0:case 125:E=0;case 59+m:S==-1&&(F=on(F,/\f/g,"")),_>0&&Go(F)-g&&fp(_>32?RM(F+";",i,t,g-1,d):RM(on(F," ","")+";",i,t,g-2,d),d);break;case 59:F+=";";default:if(fp(N=PM(F,e,t,h,m,r,u,C,I=[],U=[],g,s),s),b===123)if(m===0)D0(F,e,N,N,I,s,g,u,U);else switch(y===99&&Hi(F,3)===110?100:y){case 100:case 108:case 109:case 115:D0(n,N,N,i&&fp(PM(n,N,N,0,0,r,u,C,r,I=[],g,U),U),r,U,g,u,i?I:U);break;default:D0(F,N,N,N,[""],U,0,u,U)}}h=m=_=0,T=S=1,C=F="",g=a;break;case 58:g=1+Go(F),_=M;default:if(T<1){if(b==123)--T;else if(b==125&&T++==0&&dR()==125)continue}switch(F+=eS(b),b*T){case 38:S=m>0?1:(F+="\f",-1);break;case 44:u[h++]=(Go(F)-1)*S,S=1;break;case 64:xc()===45&&(F+=b1(Mo())),y=xc(),m=g=Go(C=F+=vR(L0())),b++;break;case 45:M===45&&Go(F)==2&&(T=0)}}return s}function PM(n,e,t,i,r,s,a,u,d,h,m,g){for(var y=r-1,_=r===0?s:[""],M=OT(_),T=0,E=0,S=0;T<i;++T)for(var b=0,C=Rd(n,y+1,y=NT(E=a[T])),I=n;b<M;++b)(I=UT(E>0?_[b]+" "+C:on(C,/&\f/g,_[b])))&&(d[S++]=I);return ev(n,e,t,r===0?Qy:u,d,h,m,g)}function xR(n,e,t,i){return ev(n,e,t,LT,eS(fR()),Rd(n,2,-2),0,i)}function RM(n,e,t,i,r){return ev(n,e,t,Jx,Rd(n,0,i),Rd(n,i+1,-1),i,r)}function kT(n,e,t){switch(uR(n,e)){case 5103:return An+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return An+n+n;case 4789:return _p+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return An+n+_p+n+Vn+n+n;case 5936:switch(Hi(n,e+11)){case 114:return An+n+Vn+on(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return An+n+Vn+on(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return An+n+Vn+on(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return An+n+Vn+n+n;case 6165:return An+n+Vn+"flex-"+n+n;case 5187:return An+n+on(n,/(\w+).+(:[^]+)/,An+"box-$1$2"+Vn+"flex-$1$2")+n;case 5443:return An+n+Vn+"flex-item-"+on(n,/flex-|-self/g,"")+(Va(n,/flex-|baseline/)?"":Vn+"grid-row-"+on(n,/flex-|-self/g,""))+n;case 4675:return An+n+Vn+"flex-line-pack"+on(n,/align-content|flex-|-self/g,"")+n;case 5548:return An+n+Vn+on(n,"shrink","negative")+n;case 5292:return An+n+Vn+on(n,"basis","preferred-size")+n;case 6060:return An+"box-"+on(n,"-grow","")+An+n+Vn+on(n,"grow","positive")+n;case 4554:return An+on(n,/([^-])(transform)/g,"$1"+An+"$2")+n;case 6187:return on(on(on(n,/(zoom-|grab)/,An+"$1"),/(image-set)/,An+"$1"),n,"")+n;case 5495:case 3959:return on(n,/(image-set\([^]*)/,An+"$1$`$1");case 4968:return on(on(n,/(.+:)(flex-)?(.*)/,An+"box-pack:$3"+Vn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+An+n+n;case 4200:if(!Va(n,/flex-|baseline/))return Vn+"grid-column-align"+Rd(n,e)+n;break;case 2592:case 3360:return Vn+on(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(i,r){return e=r,Va(i.props,/grid-\w+-end/)})?~I0(n+(t=t[e].value),"span",0)?n:Vn+on(n,"-start","")+n+Vn+"grid-row-span:"+(~I0(t,"span",0)?Va(t,/\d+/):+Va(t,/\d+/)-+Va(n,/\d+/))+";":Vn+on(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(i){return Va(i.props,/grid-\w+-start/)})?n:Vn+on(on(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return on(n,/(.+)-inline(.+)/,An+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Go(n)-1-e>6)switch(Hi(n,e+1)){case 109:if(Hi(n,e+4)!==45)break;case 102:return on(n,/(.+:)(.+)-([^]+)/,"$1"+An+"$2-$3$1"+_p+(Hi(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~I0(n,"stretch",0)?kT(on(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return on(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,r,s,a,u,d,h){return Vn+r+":"+s+h+(a?Vn+r+"-span:"+(u?d:+d-+s)+h:"")+n});case 4949:if(Hi(n,e+6)===121)return on(n,":",":"+An)+n;break;case 6444:switch(Hi(n,Hi(n,14)===45?18:11)){case 120:return on(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+An+(Hi(n,14)===45?"inline-":"")+"box$3$1"+An+"$2$3$1"+Vn+"$2box$3")+n;case 100:return on(n,":",":"+Vn)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return on(n,"scroll-","scroll-snap-")+n}return n}function W0(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function SR(n,e,t,i){switch(n.type){case lR:if(n.children.length)break;case aR:case Jx:return n.return=n.return||n.value;case LT:return"";case DT:return n.return=n.value+"{"+W0(n.children,i)+"}";case Qy:if(!Go(n.value=n.props.join(",")))return""}return Go(t=W0(n.children,i))?n.return=n.value+"{"+t+"}":""}function MR(n){var e=OT(n);return function(t,i,r,s){for(var a="",u=0;u<e;u++)a+=n[u](t,i,r,s)||"";return a}}function wR(n){return function(e){e.root||(e=e.return)&&n(e)}}function ER(n,e,t,i){if(n.length>-1&&!n.return)switch(n.type){case Jx:n.return=kT(n.value,n.length,t);return;case DT:return W0([Wl(n,{value:on(n.value,"@","@"+An)})],i);case Qy:if(n.length)return cR(t=n.props,function(r){switch(Va(r,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Xf(Wl(n,{props:[on(r,/:(read-\w+)/,":"+_p+"$1")]})),Xf(Wl(n,{props:[r]})),J_(n,{props:bM(t,i)});break;case"::placeholder":Xf(Wl(n,{props:[on(r,/:(plac\w+)/,":"+An+"input-$1")]})),Xf(Wl(n,{props:[on(r,/:(plac\w+)/,":"+_p+"$1")]})),Xf(Wl(n,{props:[on(r,/:(plac\w+)/,Vn+"input-$1")]})),Xf(Wl(n,{props:[r]})),J_(n,{props:bM(t,i)});break}return""})}}var TR={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hs={},Ld=typeof process<"u"&&hs!==void 0&&(hs.REACT_APP_SC_ATTR||hs.SC_ATTR)||"data-styled",zT="active",BT="data-styled-version",nv="6.1.14",tS=`/*!sc*/
`,j0=typeof window<"u"&&"HTMLElement"in window,AR=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&hs!==void 0&&hs.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&hs.REACT_APP_SC_DISABLE_SPEEDY!==""?hs.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&hs.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&hs!==void 0&&hs.SC_DISABLE_SPEEDY!==void 0&&hs.SC_DISABLE_SPEEDY!==""&&hs.SC_DISABLE_SPEEDY!=="false"&&hs.SC_DISABLE_SPEEDY),iv=Object.freeze([]),Dd=Object.freeze({});function CR(n,e,t){return t===void 0&&(t=Dd),n.theme!==t.theme&&n.theme||e||t.theme}var VT=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),bR=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,PR=/(^-|-$)/g;function IM(n){return n.replace(bR,"-").replace(PR,"")}var RR=/(a)(d)/gi,Pg=52,LM=function(n){return String.fromCharCode(n+(n>25?39:97))};function nx(n){var e,t="";for(e=Math.abs(n);e>Pg;e=e/Pg|0)t=LM(e%Pg)+t;return(LM(e%Pg)+t).replace(RR,"$1-$2")}var P1,HT=5381,gd=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},GT=function(n){return gd(HT,n)};function IR(n){return nx(GT(n)>>>0)}function LR(n){return n.displayName||n.name||"Component"}function R1(n){return typeof n=="string"&&!0}var WT=typeof Symbol=="function"&&Symbol.for,jT=WT?Symbol.for("react.memo"):60115,DR=WT?Symbol.for("react.forward_ref"):60112,NR={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},UR={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},XT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},OR=((P1={})[DR]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},P1[jT]=XT,P1);function DM(n){return("type"in(e=n)&&e.type.$$typeof)===jT?XT:"$$typeof"in n?OR[n.$$typeof]:NR;var e}var FR=Object.defineProperty,kR=Object.getOwnPropertyNames,NM=Object.getOwnPropertySymbols,zR=Object.getOwnPropertyDescriptor,BR=Object.getPrototypeOf,UM=Object.prototype;function YT(n,e,t){if(typeof e!="string"){if(UM){var i=BR(e);i&&i!==UM&&YT(n,i,t)}var r=kR(e);NM&&(r=r.concat(NM(e)));for(var s=DM(n),a=DM(e),u=0;u<r.length;++u){var d=r[u];if(!(d in UR||t&&t[d]||a&&d in a||s&&d in s)){var h=zR(e,d);try{FR(n,d,h)}catch{}}}}return n}function Nd(n){return typeof n=="function"}function nS(n){return typeof n=="object"&&"styledComponentId"in n}function pc(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function OM(n,e){if(n.length===0)return"";for(var t=n[0],i=1;i<n.length;i++)t+=n[i];return t}function Fp(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function ix(n,e,t){if(t===void 0&&(t=!1),!t&&!Fp(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)n[i]=ix(n[i],e[i]);else if(Fp(e))for(var i in e)n[i]=ix(n[i],e[i]);return n}function iS(n,e){Object.defineProperty(n,"toString",{value:e})}function pm(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var VR=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,r=i.length,s=r;e>=s;)if((s<<=1)<0)throw pm(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var a=r;a<s;a++)this.groupSizes[a]=0}for(var u=this.indexOfGroup(e+1),d=(a=0,t.length);a<d;a++)this.tag.insertRule(u,t[a])&&(this.groupSizes[e]++,u++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),r=i+t;this.groupSizes[e]=0;for(var s=i;s<r;s++)this.tag.deleteRule(i)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var i=this.groupSizes[e],r=this.indexOfGroup(e),s=r+i,a=r;a<s;a++)t+="".concat(this.tag.getRule(a)).concat(tS);return t},n}(),N0=new Map,X0=new Map,U0=1,Rg=function(n){if(N0.has(n))return N0.get(n);for(;X0.has(U0);)U0++;var e=U0++;return N0.set(n,e),X0.set(e,n),e},HR=function(n,e){U0=e+1,N0.set(n,e),X0.set(e,n)},GR="style[".concat(Ld,"][").concat(BT,'="').concat(nv,'"]'),WR=new RegExp("^".concat(Ld,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),jR=function(n,e,t){for(var i,r=t.split(","),s=0,a=r.length;s<a;s++)(i=r[s])&&n.registerName(e,i)},XR=function(n,e){for(var t,i=((t=e.textContent)!==null&&t!==void 0?t:"").split(tS),r=[],s=0,a=i.length;s<a;s++){var u=i[s].trim();if(u){var d=u.match(WR);if(d){var h=0|parseInt(d[1],10),m=d[2];h!==0&&(HR(m,h),jR(n,m,d[3]),n.getTag().insertRules(h,r)),r.length=0}else r.push(u)}}},FM=function(n){for(var e=document.querySelectorAll(GR),t=0,i=e.length;t<i;t++){var r=e[t];r&&r.getAttribute(Ld)!==zT&&(XR(n,r),r.parentNode&&r.parentNode.removeChild(r))}};function YR(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var qT=function(n){var e=document.head,t=n||e,i=document.createElement("style"),r=function(u){var d=Array.from(u.querySelectorAll("style[".concat(Ld,"]")));return d[d.length-1]}(t),s=r!==void 0?r.nextSibling:null;i.setAttribute(Ld,zT),i.setAttribute(BT,nv);var a=YR();return a&&i.setAttribute("nonce",a),t.insertBefore(i,s),i},qR=function(){function n(e){this.element=qT(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var i=document.styleSheets,r=0,s=i.length;r<s;r++){var a=i[r];if(a.ownerNode===t)return a}throw pm(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),ZR=function(){function n(e){this.element=qT(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),KR=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),kM=j0,$R={isServer:!j0,useCSSOMInjection:!AR},ZT=function(){function n(e,t,i){e===void 0&&(e=Dd),t===void 0&&(t={});var r=this;this.options=Kr(Kr({},$R),e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&j0&&kM&&(kM=!1,FM(this)),iS(this,function(){return function(s){for(var a=s.getTag(),u=a.length,d="",h=function(g){var y=function(S){return X0.get(S)}(g);if(y===void 0)return"continue";var _=s.names.get(y),M=a.getGroup(g);if(_===void 0||!_.size||M.length===0)return"continue";var T="".concat(Ld,".g").concat(g,'[id="').concat(y,'"]'),E="";_!==void 0&&_.forEach(function(S){S.length>0&&(E+="".concat(S,","))}),d+="".concat(M).concat(T,'{content:"').concat(E,'"}').concat(tS)},m=0;m<u;m++)h(m);return d}(r)})}return n.registerId=function(e){return Rg(e)},n.prototype.rehydrate=function(){!this.server&&j0&&FM(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(Kr(Kr({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var i=t.useCSSOMInjection,r=t.target;return t.isServer?new KR(r):i?new qR(r):new ZR(r)}(this.options),new VR(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(Rg(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},n.prototype.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(Rg(e),i)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(Rg(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),QR=/&/g,JR=/^\s*\/\/.*$/gm;function KT(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=KT(t.children,e)),t})}function e5(n){var e,t,i,r=Dd,s=r.options,a=s===void 0?Dd:s,u=r.plugins,d=u===void 0?iv:u,h=function(y,_,M){return M.startsWith(t)&&M.endsWith(t)&&M.replaceAll(t,"").length>0?".".concat(e):y},m=d.slice();m.push(function(y){y.type===Qy&&y.value.includes("&")&&(y.props[0]=y.props[0].replace(QR,t).replace(i,h))}),a.prefix&&m.push(ER),m.push(SR);var g=function(y,_,M,T){_===void 0&&(_=""),M===void 0&&(M=""),T===void 0&&(T="&"),e=T,t=_,i=new RegExp("\\".concat(t,"\\b"),"g");var E=y.replace(JR,""),S=_R(M||_?"".concat(M," ").concat(_," { ").concat(E," }"):E);a.namespace&&(S=KT(S,a.namespace));var b=[];return W0(S,MR(m.concat(wR(function(C){return b.push(C)})))),b};return g.hash=d.length?d.reduce(function(y,_){return _.name||pm(15),gd(y,_.name)},HT).toString():"",g}var t5=new ZT,rx=e5(),$T=zs.createContext({shouldForwardProp:void 0,styleSheet:t5,stylis:rx});$T.Consumer;zs.createContext(void 0);function zM(){return Se.useContext($T)}var n5=function(){function n(e,t){var i=this;this.inject=function(r,s){s===void 0&&(s=rx);var a=i.name+s.hash;r.hasNameForId(i.id,a)||r.insertRules(i.id,a,s(i.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,iS(this,function(){throw pm(12,String(i.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=rx),this.name+e.hash},n}(),i5=function(n){return n>="A"&&n<="Z"};function BM(n){for(var e="",t=0;t<n.length;t++){var i=n[t];if(t===1&&i==="-"&&n[0]==="-")return n;i5(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var QT=function(n){return n==null||n===!1||n===""},JT=function(n){var e,t,i=[];for(var r in n){var s=n[r];n.hasOwnProperty(r)&&!QT(s)&&(Array.isArray(s)&&s.isCss||Nd(s)?i.push("".concat(BM(r),":"),s,";"):Fp(s)?i.push.apply(i,G0(G0(["".concat(r," {")],JT(s),!1),["}"],!1)):i.push("".concat(BM(r),": ").concat((e=r,(t=s)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in TR||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return i};function Sc(n,e,t,i){if(QT(n))return[];if(nS(n))return[".".concat(n.styledComponentId)];if(Nd(n)){if(!Nd(s=n)||s.prototype&&s.prototype.isReactComponent||!e)return[n];var r=n(e);return Sc(r,e,t,i)}var s;return n instanceof n5?t?(n.inject(t,i),[n.getName(i)]):[n]:Fp(n)?JT(n):Array.isArray(n)?Array.prototype.concat.apply(iv,n.map(function(a){return Sc(a,e,t,i)})):[n.toString()]}function r5(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Nd(t)&&!nS(t))return!1}return!0}var s5=GT(nv),o5=function(){function n(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&r5(e),this.componentId=t,this.baseHash=gd(s5,t),this.baseStyle=i,ZT.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,i){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=pc(r,this.staticRulesId);else{var s=OM(Sc(this.rules,e,t,i)),a=nx(gd(this.baseHash,s)>>>0);if(!t.hasNameForId(this.componentId,a)){var u=i(s,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,u)}r=pc(r,a),this.staticRulesId=a}else{for(var d=gd(this.baseHash,i.hash),h="",m=0;m<this.rules.length;m++){var g=this.rules[m];if(typeof g=="string")h+=g;else if(g){var y=OM(Sc(g,e,t,i));d=gd(d,y+m),h+=y}}if(h){var _=nx(d>>>0);t.hasNameForId(this.componentId,_)||t.insertRules(this.componentId,_,i(h,".".concat(_),void 0,this.componentId)),r=pc(r,_)}}return r},n}(),eA=zs.createContext(void 0);eA.Consumer;var I1={};function a5(n,e,t){var i=nS(n),r=n,s=!R1(n),a=e.attrs,u=a===void 0?iv:a,d=e.componentId,h=d===void 0?function(I,U){var N=typeof I!="string"?"sc":IM(I);I1[N]=(I1[N]||0)+1;var F="".concat(N,"-").concat(IR(nv+N+I1[N]));return U?"".concat(U,"-").concat(F):F}(e.displayName,e.parentComponentId):d,m=e.displayName,g=m===void 0?function(I){return R1(I)?"styled.".concat(I):"Styled(".concat(LR(I),")")}(n):m,y=e.displayName&&e.componentId?"".concat(IM(e.displayName),"-").concat(e.componentId):e.componentId||h,_=i&&r.attrs?r.attrs.concat(u).filter(Boolean):u,M=e.shouldForwardProp;if(i&&r.shouldForwardProp){var T=r.shouldForwardProp;if(e.shouldForwardProp){var E=e.shouldForwardProp;M=function(I,U){return T(I,U)&&E(I,U)}}else M=T}var S=new o5(t,y,i?r.componentStyle:void 0);function b(I,U){return function(N,F,B){var O=N.attrs,D=N.componentStyle,H=N.defaultProps,ne=N.foldedComponentIds,ee=N.styledComponentId,pe=N.target,Me=zs.useContext(eA),he=zM(),me=N.shouldForwardProp||he.shouldForwardProp,G=CR(F,Me,H)||Dd,te=function(Ee,De,Re){for(var We,Ke=Kr(Kr({},De),{className:void 0,theme:Re}),ct=0;ct<Ee.length;ct+=1){var Pt=Nd(We=Ee[ct])?We(Ke):We;for(var be in Pt)Ke[be]=be==="className"?pc(Ke[be],Pt[be]):be==="style"?Kr(Kr({},Ke[be]),Pt[be]):Pt[be]}return De.className&&(Ke.className=pc(Ke.className,De.className)),Ke}(O,F,G),$=te.as||pe,W={};for(var se in te)te[se]===void 0||se[0]==="$"||se==="as"||se==="theme"&&te.theme===G||(se==="forwardedAs"?W.as=te.forwardedAs:me&&!me(se,$)||(W[se]=te[se]));var Oe=function(Ee,De){var Re=zM(),We=Ee.generateAndInjectStyles(De,Re.styleSheet,Re.stylis);return We}(D,te),ue=pc(ne,ee);return Oe&&(ue+=" "+Oe),te.className&&(ue+=" "+te.className),W[R1($)&&!VT.has($)?"class":"className"]=ue,B&&(W.ref=B),Se.createElement($,W)}(C,I,U)}b.displayName=g;var C=zs.forwardRef(b);return C.attrs=_,C.componentStyle=S,C.displayName=g,C.shouldForwardProp=M,C.foldedComponentIds=i?pc(r.foldedComponentIds,r.styledComponentId):"",C.styledComponentId=y,C.target=i?r.target:n,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(I){this._foldedDefaultProps=i?function(U){for(var N=[],F=1;F<arguments.length;F++)N[F-1]=arguments[F];for(var B=0,O=N;B<O.length;B++)ix(U,O[B],!0);return U}({},r.defaultProps,I):I}}),iS(C,function(){return".".concat(C.styledComponentId)}),s&&YT(C,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function VM(n,e){for(var t=[n[0]],i=0,r=e.length;i<r;i+=1)t.push(e[i],n[i+1]);return t}var HM=function(n){return Object.assign(n,{isCss:!0})};function l5(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Nd(n)||Fp(n))return HM(Sc(VM(iv,G0([n],e,!0))));var i=n;return e.length===0&&i.length===1&&typeof i[0]=="string"?Sc(i):HM(Sc(VM(i,e)))}function sx(n,e,t){if(t===void 0&&(t=Dd),!e)throw pm(1,e);var i=function(r){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return n(e,t,l5.apply(void 0,G0([r],s,!1)))};return i.attrs=function(r){return sx(n,e,Kr(Kr({},t),{attrs:Array.prototype.concat(t.attrs,r).filter(Boolean)}))},i.withConfig=function(r){return sx(n,e,Kr(Kr({},t),r))},i}var tA=function(n){return sx(a5,n)},an=tA;VT.forEach(function(n){an[n]=tA(n)});const nA=Se.createContext({});function u5(n){const e=Se.useRef(null);return e.current===null&&(e.current=n()),e.current}const rS=Se.createContext(null),iA=Se.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function c5(n=!0){const e=Se.useContext(rS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,s=Se.useId();Se.useEffect(()=>{n&&r(s)},[n]);const a=Se.useCallback(()=>n&&i&&i(s),[s,i,n]);return!t&&i?[!1,a]:[!0]}const sS=typeof window<"u",f5=sS?Se.useLayoutEffect:Se.useEffect,ps=n=>n;let ox=ps;function oS(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ud=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Ya=n=>n*1e3,qa=n=>n/1e3,d5={skipAnimations:!1,useManualTiming:!1};function h5(n){let e=new Set,t=new Set,i=!1,r=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function u(h){s.has(h)&&(d.schedule(h),n()),h(a)}const d={schedule:(h,m=!1,g=!1)=>{const _=g&&i?e:t;return m&&s.add(h),_.has(h)||_.add(h),h},cancel:h=>{t.delete(h),s.delete(h)},process:h=>{if(a=h,i){r=!0;return}i=!0,[e,t]=[t,e],e.forEach(u),e.clear(),i=!1,r&&(r=!1,d.process(h))}};return d}const Ig=["read","resolveKeyframes","update","preRender","render","postRender"],p5=40;function rA(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=Ig.reduce((S,b)=>(S[b]=h5(s),S),{}),{read:u,resolveKeyframes:d,update:h,preRender:m,render:g,postRender:y}=a,_=()=>{const S=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(S-r.timestamp,p5),1),r.timestamp=S,r.isProcessing=!0,u.process(r),d.process(r),h.process(r),m.process(r),g.process(r),y.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(_))},M=()=>{t=!0,i=!0,r.isProcessing||n(_)};return{schedule:Ig.reduce((S,b)=>{const C=a[b];return S[b]=(I,U=!1,N=!1)=>(t||M(),C.schedule(I,U,N)),S},{}),cancel:S=>{for(let b=0;b<Ig.length;b++)a[Ig[b]].cancel(S)},state:r,steps:a}}const{schedule:Gn,cancel:$l,state:Qi,steps:L1}=rA(typeof requestAnimationFrame<"u"?requestAnimationFrame:ps,!0),sA=Se.createContext({strict:!1}),GM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Od={};for(const n in GM)Od[n]={isEnabled:e=>GM[n].some(t=>!!e[t])};function m5(n){for(const e in n)Od[e]={...Od[e],...n[e]}}const g5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Y0(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||g5.has(n)}let oA=n=>!Y0(n);function y5(n){n&&(oA=e=>e.startsWith("on")?!Y0(e):n(e))}try{y5(require("@emotion/is-prop-valid").default)}catch{}function v5(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(oA(r)||t===!0&&Y0(r)||!e&&!Y0(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function _5(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}const rv=Se.createContext({});function kp(n){return typeof n=="string"||Array.isArray(n)}function sv(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const aS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lS=["initial",...aS];function ov(n){return sv(n.animate)||lS.some(e=>kp(n[e]))}function aA(n){return!!(ov(n)||n.variants)}function x5(n,e){if(ov(n)){const{initial:t,animate:i}=n;return{initial:t===!1||kp(t)?t:void 0,animate:kp(i)?i:void 0}}return n.inherit!==!1?e:{}}function S5(n){const{initial:e,animate:t}=x5(n,Se.useContext(rv));return Se.useMemo(()=>({initial:e,animate:t}),[WM(e),WM(t)])}function WM(n){return Array.isArray(n)?n.join(" "):n}const M5=Symbol.for("motionComponentSymbol");function yd(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function w5(n,e,t){return Se.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):yd(t)&&(t.current=i))},[e])}const uS=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),E5="framerAppearId",lA="data-"+uS(E5),{schedule:cS,cancel:MH}=rA(queueMicrotask,!1),uA=Se.createContext({});function T5(n,e,t,i,r){var s,a;const{visualElement:u}=Se.useContext(rv),d=Se.useContext(sA),h=Se.useContext(rS),m=Se.useContext(iA).reducedMotion,g=Se.useRef(null);i=i||d.renderer,!g.current&&i&&(g.current=i(n,{visualState:e,parent:u,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,_=Se.useContext(uA);y&&!y.projection&&r&&(y.type==="html"||y.type==="svg")&&A5(g.current,t,r,_);const M=Se.useRef(!1);Se.useInsertionEffect(()=>{y&&M.current&&y.update(t,h)});const T=t[lA],E=Se.useRef(!!T&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,T))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,T)));return f5(()=>{y&&(M.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),cS.render(y.render),E.current&&y.animationState&&y.animationState.animateChanges())}),Se.useEffect(()=>{y&&(!E.current&&y.animationState&&y.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,T)}),E.current=!1))}),y}function A5(n,e,t,i){const{layoutId:r,layout:s,drag:a,dragConstraints:u,layoutScroll:d,layoutRoot:h}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:cA(n.parent)),n.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!a||u&&yd(u),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:h})}function cA(n){if(n)return n.options.allowProjection!==!1?n.projection:cA(n.parent)}function C5({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){var s,a;n&&m5(n);function u(h,m){let g;const y={...Se.useContext(iA),...h,layoutId:b5(h)},{isStatic:_}=y,M=S5(h),T=i(h,_);if(!_&&sS){P5();const E=R5(y);g=E.MeasureLayout,M.visualElement=T5(r,T,y,e,E.ProjectionNode)}return je.jsxs(rv.Provider,{value:M,children:[g&&M.visualElement?je.jsx(g,{visualElement:M.visualElement,...y}):null,t(r,h,w5(T,M.visualElement,m),T,_,M.visualElement)]})}u.displayName=`motion.${typeof r=="string"?r:`create(${(a=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&a!==void 0?a:""})`}`;const d=Se.forwardRef(u);return d[M5]=r,d}function b5({layoutId:n}){const e=Se.useContext(nA).id;return e&&n!==void 0?e+"-"+n:n}function P5(n,e){Se.useContext(sA).strict}function R5(n){const{drag:e,layout:t}=Od;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const I5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fS(n){return typeof n!="string"||n.includes("-")?!1:!!(I5.indexOf(n)>-1||/[A-Z]/u.test(n))}function jM(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function dS(n,e,t,i){if(typeof e=="function"){const[r,s]=jM(i);e=e(t!==void 0?t:n.custom,r,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,s]=jM(i);e=e(t!==void 0?t:n.custom,r,s)}return e}const ax=n=>Array.isArray(n),L5=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),D5=n=>ax(n)?n[n.length-1]||0:n,dr=n=>!!(n&&n.getVelocity);function O0(n){const e=dr(n)?n.get():n;return L5(e)?e.toValue():e}function N5({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,r,s){const a={latestValues:U5(i,r,s,n),renderState:e()};return t&&(a.onMount=u=>t({props:i,current:u,...a}),a.onUpdate=u=>t(u)),a}const fA=n=>(e,t)=>{const i=Se.useContext(rv),r=Se.useContext(rS),s=()=>N5(n,e,i,r);return t?s():u5(s)};function U5(n,e,t,i){const r={},s=i(n,{});for(const y in s)r[y]=O0(s[y]);let{initial:a,animate:u}=n;const d=ov(n),h=aA(n);e&&h&&!d&&n.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||a===!1;const g=m?u:a;if(g&&typeof g!="boolean"&&!sv(g)){const y=Array.isArray(g)?g:[g];for(let _=0;_<y.length;_++){const M=dS(n,y[_]);if(M){const{transitionEnd:T,transition:E,...S}=M;for(const b in S){let C=S[b];if(Array.isArray(C)){const I=m?C.length-1:0;C=C[I]}C!==null&&(r[b]=C)}for(const b in T)r[b]=T[b]}}}return r}const jd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uc=new Set(jd),dA=n=>e=>typeof e=="string"&&e.startsWith(n),hA=dA("--"),O5=dA("var(--"),hS=n=>O5(n)?F5.test(n.split("/*")[0].trim()):!1,F5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pA=(n,e)=>e&&typeof n=="number"?e.transform(n):n,$a=(n,e,t)=>t>e?e:t<n?n:t,Xd={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},zp={...Xd,transform:n=>$a(0,1,n)},Lg={...Xd,default:1},mm=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),jl=mm("deg"),Yo=mm("%"),Bt=mm("px"),k5=mm("vh"),z5=mm("vw"),XM={...Yo,parse:n=>Yo.parse(n)/100,transform:n=>Yo.transform(n*100)},B5={borderWidth:Bt,borderTopWidth:Bt,borderRightWidth:Bt,borderBottomWidth:Bt,borderLeftWidth:Bt,borderRadius:Bt,radius:Bt,borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomRightRadius:Bt,borderBottomLeftRadius:Bt,width:Bt,maxWidth:Bt,height:Bt,maxHeight:Bt,top:Bt,right:Bt,bottom:Bt,left:Bt,padding:Bt,paddingTop:Bt,paddingRight:Bt,paddingBottom:Bt,paddingLeft:Bt,margin:Bt,marginTop:Bt,marginRight:Bt,marginBottom:Bt,marginLeft:Bt,backgroundPositionX:Bt,backgroundPositionY:Bt},V5={rotate:jl,rotateX:jl,rotateY:jl,rotateZ:jl,scale:Lg,scaleX:Lg,scaleY:Lg,scaleZ:Lg,skew:jl,skewX:jl,skewY:jl,distance:Bt,translateX:Bt,translateY:Bt,translateZ:Bt,x:Bt,y:Bt,z:Bt,perspective:Bt,transformPerspective:Bt,opacity:zp,originX:XM,originY:XM,originZ:Bt},YM={...Xd,transform:Math.round},pS={...B5,...V5,zIndex:YM,size:Bt,fillOpacity:zp,strokeOpacity:zp,numOctaves:YM},H5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G5=jd.length;function W5(n,e,t){let i="",r=!0;for(let s=0;s<G5;s++){const a=jd[s],u=n[a];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(a.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||t){const h=pA(u,pS[a]);if(!d){r=!1;const m=H5[a]||a;i+=`${m}(${h}) `}t&&(e[a]=h)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function mS(n,e,t){const{style:i,vars:r,transformOrigin:s}=n;let a=!1,u=!1;for(const d in e){const h=e[d];if(Uc.has(d)){a=!0;continue}else if(hA(d)){r[d]=h;continue}else{const m=pA(h,pS[d]);d.startsWith("origin")?(u=!0,s[d]=m):i[d]=m}}if(e.transform||(a||t?i.transform=W5(e,n.transform,t):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:m=0}=s;i.transformOrigin=`${d} ${h} ${m}`}}const j5={offset:"stroke-dashoffset",array:"stroke-dasharray"},X5={offset:"strokeDashoffset",array:"strokeDasharray"};function Y5(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?j5:X5;n[s.offset]=Bt.transform(-i);const a=Bt.transform(e),u=Bt.transform(t);n[s.array]=`${a} ${u}`}function qM(n,e,t){return typeof n=="string"?n:Bt.transform(e+t*n)}function q5(n,e,t){const i=qM(e,n.x,n.width),r=qM(t,n.y,n.height);return`${i} ${r}`}function gS(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:a,pathSpacing:u=1,pathOffset:d=0,...h},m,g){if(mS(n,h,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:_,dimensions:M}=n;y.transform&&(M&&(_.transform=y.transform),delete y.transform),M&&(r!==void 0||s!==void 0||_.transform)&&(_.transformOrigin=q5(M,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(y.x=e),t!==void 0&&(y.y=t),i!==void 0&&(y.scale=i),a!==void 0&&Y5(y,a,u,d,!1)}const yS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),mA=()=>({...yS(),attrs:{}}),vS=n=>typeof n=="string"&&n.toLowerCase()==="svg";function gA(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const yA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vA(n,e,t,i){gA(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(yA.has(r)?r:uS(r),e.attrs[r])}const q0={};function Z5(n){Object.assign(q0,n)}function _A(n,{layout:e,layoutId:t}){return Uc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!q0[n]||n==="opacity")}function _S(n,e,t){var i;const{style:r}=n,s={};for(const a in r)(dr(r[a])||e.style&&dr(e.style[a])||_A(a,n)||((i=t==null?void 0:t.getValue(a))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}function xA(n,e,t){const i=_S(n,e,t);for(const r in n)if(dr(n[r])||dr(e[r])){const s=jd.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=n[r]}return i}function K5(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const ZM=["x","y","width","height","cx","cy","r"],$5={useVisualState:fA({scrapeMotionValuesFromProps:xA,createRenderState:mA,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:r})=>{if(!t)return;let s=!!n.drag;if(!s){for(const u in r)if(Uc.has(u)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let u=0;u<ZM.length;u++){const d=ZM[u];n[d]!==e[d]&&(a=!0)}a&&Gn.read(()=>{K5(t,i),Gn.render(()=>{gS(i,r,vS(t.tagName),n.transformTemplate),vA(t,i)})})}})},Q5={useVisualState:fA({scrapeMotionValuesFromProps:_S,createRenderState:yS})};function SA(n,e,t){for(const i in e)!dr(e[i])&&!_A(i,t)&&(n[i]=e[i])}function J5({transformTemplate:n},e){return Se.useMemo(()=>{const t=yS();return mS(t,e,n),Object.assign({},t.vars,t.style)},[e])}function eI(n,e){const t=n.style||{},i={};return SA(i,t,n),Object.assign(i,J5(n,e)),i}function tI(n,e){const t={},i=eI(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function nI(n,e,t,i){const r=Se.useMemo(()=>{const s=mA();return gS(s,e,vS(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};SA(s,n.style,n),r.style={...s,...r.style}}return r}function iI(n=!1){return(t,i,r,{latestValues:s},a)=>{const d=(fS(t)?nI:tI)(i,s,a,t),h=v5(i,typeof t=="string",n),m=t!==Se.Fragment?{...h,...d,ref:r}:{},{children:g}=i,y=Se.useMemo(()=>dr(g)?g.get():g,[g]);return Se.createElement(t,{...m,children:y})}}function rI(n,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...fS(i)?$5:Q5,preloadedFeatures:n,useRender:iI(r),createVisualElement:e,Component:i};return C5(a)}}function MA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function av(n,e,t){const i=n.getProps();return dS(i,e,t!==void 0?t:i.custom,n)}const sI=oS(()=>window.ScrollTimeline!==void 0);class oI{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(r=>{if(sI()&&r.attachTimeline)return r.attachTimeline(e);if(typeof t=="function")return t(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class aI extends oI{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function xS(n,e){return n?n[e]||n.default||n:void 0}const lx=2e4;function wA(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<lx;)e+=t,i=n.next(e);return e>=lx?1/0:e}function SS(n){return typeof n=="function"}function KM(n,e){n.timeline=e,n.onfinish=null}const MS=n=>Array.isArray(n)&&typeof n[0]=="number",lI={linearEasing:void 0};function uI(n,e){const t=oS(n);return()=>{var i;return(i=lI[e])!==null&&i!==void 0?i:t()}}const Z0=uI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),EA=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let s=0;s<r;s++)i+=n(Ud(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function TA(n){return!!(typeof n=="function"&&Z0()||!n||typeof n=="string"&&(n in ux||Z0())||MS(n)||Array.isArray(n)&&n.every(TA))}const dp=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,ux={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dp([0,.65,.55,1]),circOut:dp([.55,0,1,.45]),backIn:dp([.31,.01,.66,-.59]),backOut:dp([.33,1.53,.69,.99])};function AA(n,e){if(n)return typeof n=="function"&&Z0()?EA(n,e):MS(n)?dp(n):Array.isArray(n)?n.map(t=>AA(t,e)||ux.easeOut):ux[n]}const go={x:!1,y:!1};function CA(){return go.x||go.y}function cI(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}function bA(n,e){const t=cI(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function $M(n){return e=>{e.pointerType==="touch"||CA()||n(e)}}function fI(n,e,t={}){const[i,r,s]=bA(n,t),a=$M(u=>{const{target:d}=u,h=e(u);if(typeof h!="function"||!d)return;const m=$M(g=>{h(g),d.removeEventListener("pointerleave",m)});d.addEventListener("pointerleave",m,r)});return i.forEach(u=>{u.addEventListener("pointerenter",a,r)}),s}const PA=(n,e)=>e?n===e?!0:PA(n,e.parentElement):!1,wS=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,dI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hI(n){return dI.has(n.tagName)||n.tabIndex!==-1}const hp=new WeakSet;function QM(n){return e=>{e.key==="Enter"&&n(e)}}function D1(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pI=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=QM(()=>{if(hp.has(t))return;D1(t,"down");const r=QM(()=>{D1(t,"up")}),s=()=>D1(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function JM(n){return wS(n)&&!CA()}function mI(n,e,t={}){const[i,r,s]=bA(n,t),a=u=>{const d=u.currentTarget;if(!JM(u)||hp.has(d))return;hp.add(d);const h=e(u),m=(_,M)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),!(!JM(_)||!hp.has(d))&&(hp.delete(d),typeof h=="function"&&h(_,{success:M}))},g=_=>{m(_,t.useGlobalTarget||PA(d,_.target))},y=_=>{m(_,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",y,r)};return i.forEach(u=>{!hI(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(t.useGlobalTarget?window:u).addEventListener("pointerdown",a,r),u.addEventListener("focus",h=>pI(h,r),r)}),s}function gI(n){return n==="x"||n==="y"?go[n]?null:(go[n]=!0,()=>{go[n]=!1}):go.x||go.y?null:(go.x=go.y=!0,()=>{go.x=go.y=!1})}const RA=new Set(["width","height","top","left","right","bottom",...jd]);let F0;function yI(){F0=void 0}const qo={now:()=>(F0===void 0&&qo.set(Qi.isProcessing||d5.useManualTiming?Qi.timestamp:performance.now()),F0),set:n=>{F0=n,queueMicrotask(yI)}};function ES(n,e){n.indexOf(e)===-1&&n.push(e)}function TS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class AS{constructor(){this.subscriptions=[]}add(e){return ES(this.subscriptions,e),()=>TS(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function IA(n,e){return e?n*(1e3/e):0}const ew=30,vI=n=>!isNaN(parseFloat(n));class _I{constructor(e,t={}){this.version="11.18.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=qo.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=qo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new AS);const i=this.events[e].add(t);return e==="change"?()=>{i(),Gn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ew)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,ew);return IA(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bp(n,e){return new _I(n,e)}function xI(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Bp(t))}function SI(n,e){const t=av(n,e);let{transitionEnd:i={},transition:r={},...s}=t||{};s={...s,...i};for(const a in s){const u=D5(s[a]);xI(n,a,u)}}function MI(n){return!!(dr(n)&&n.add)}function cx(n,e){const t=n.getValue("willChange");if(MI(t))return t.add(e)}function LA(n){return n.props[lA]}const DA=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,wI=1e-7,EI=12;function TI(n,e,t,i,r){let s,a,u=0;do a=e+(t-e)/2,s=DA(a,i,r)-n,s>0?t=a:e=a;while(Math.abs(s)>wI&&++u<EI);return a}function gm(n,e,t,i){if(n===e&&t===i)return ps;const r=s=>TI(s,0,1,n,t);return s=>s===0||s===1?s:DA(r(s),e,i)}const NA=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,UA=n=>e=>1-n(1-e),OA=gm(.33,1.53,.69,.99),CS=UA(OA),FA=NA(CS),kA=n=>(n*=2)<1?.5*CS(n):.5*(2-Math.pow(2,-10*(n-1))),bS=n=>1-Math.sin(Math.acos(n)),zA=UA(bS),BA=NA(bS),VA=n=>/^0[^.\s]+$/u.test(n);function AI(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||VA(n):!0}const xp=n=>Math.round(n*1e5)/1e5,PS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CI(n){return n==null}const bI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,RS=(n,e)=>t=>!!(typeof t=="string"&&bI.test(t)&&t.startsWith(n)||e&&!CI(t)&&Object.prototype.hasOwnProperty.call(t,e)),HA=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,s,a,u]=i.match(PS);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},PI=n=>$a(0,255,n),N1={...Xd,transform:n=>Math.round(PI(n))},mc={test:RS("rgb","red"),parse:HA("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+N1.transform(n)+", "+N1.transform(e)+", "+N1.transform(t)+", "+xp(zp.transform(i))+")"};function RI(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const fx={test:RS("#"),parse:RI,transform:mc.transform},vd={test:RS("hsl","hue"),parse:HA("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Yo.transform(xp(e))+", "+Yo.transform(xp(t))+", "+xp(zp.transform(i))+")"},fr={test:n=>mc.test(n)||fx.test(n)||vd.test(n),parse:n=>mc.test(n)?mc.parse(n):vd.test(n)?vd.parse(n):fx.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?mc.transform(n):vd.transform(n)},II=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function LI(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(PS))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(II))===null||t===void 0?void 0:t.length)||0)>0}const GA="number",WA="color",DI="var",NI="var(",tw="${}",UI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vp(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let s=0;const u=e.replace(UI,d=>(fr.test(d)?(i.color.push(s),r.push(WA),t.push(fr.parse(d))):d.startsWith(NI)?(i.var.push(s),r.push(DI),t.push(d)):(i.number.push(s),r.push(GA),t.push(parseFloat(d))),++s,tw)).split(tw);return{values:t,split:u,indexes:i,types:r}}function jA(n){return Vp(n).values}function XA(n){const{split:e,types:t}=Vp(n),i=e.length;return r=>{let s="";for(let a=0;a<i;a++)if(s+=e[a],r[a]!==void 0){const u=t[a];u===GA?s+=xp(r[a]):u===WA?s+=fr.transform(r[a]):s+=r[a]}return s}}const OI=n=>typeof n=="number"?0:n;function FI(n){const e=jA(n);return XA(n)(e.map(OI))}const Ql={test:LI,parse:jA,createTransformer:XA,getAnimatableNone:FI},kI=new Set(["brightness","contrast","saturate","opacity"]);function zI(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(PS)||[];if(!i)return n;const r=t.replace(i,"");let s=kI.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const BI=/\b([a-z-]*)\(.*?\)/gu,dx={...Ql,getAnimatableNone:n=>{const e=n.match(BI);return e?e.map(zI).join(" "):n}},VI={...pS,color:fr,backgroundColor:fr,outlineColor:fr,fill:fr,stroke:fr,borderColor:fr,borderTopColor:fr,borderRightColor:fr,borderBottomColor:fr,borderLeftColor:fr,filter:dx,WebkitFilter:dx},IS=n=>VI[n];function YA(n,e){let t=IS(n);return t!==dx&&(t=Ql),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const HI=new Set(["auto","none","0"]);function GI(n,e,t){let i=0,r;for(;i<n.length&&!r;){const s=n[i];typeof s=="string"&&!HI.has(s)&&Vp(s).values.length&&(r=n[i]),i++}if(r&&t)for(const s of e)n[s]=YA(t,r)}const nw=n=>n===Xd||n===Bt,iw=(n,e)=>parseFloat(n.split(", ")[e]),rw=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return iw(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?iw(s[1],n):0}},WI=new Set(["x","y","z"]),jI=jd.filter(n=>!WI.has(n));function XI(n){const e=[];return jI.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Fd={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:rw(4,13),y:rw(5,14)};Fd.translateX=Fd.x;Fd.translateY=Fd.y;const Mc=new Set;let hx=!1,px=!1;function qA(){if(px){const n=Array.from(Mc).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=XI(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([s,a])=>{var u;(u=i.getValue(s))===null||u===void 0||u.set(a)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}px=!1,hx=!1,Mc.forEach(n=>n.complete()),Mc.clear()}function ZA(){Mc.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(px=!0)})}function YI(){ZA(),qA()}class LS{constructor(e,t,i,r,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Mc.add(this),hx||(hx=!0,Gn.read(ZA),Gn.resolveKeyframes(qA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=r==null?void 0:r.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const d=i.readValue(t,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),r&&a===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Mc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Mc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const KA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),qI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZI(n){const e=qI.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function $A(n,e,t=1){const[i,r]=ZI(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const a=s.trim();return KA(a)?parseFloat(a):a}return hS(r)?$A(r,e,t+1):r}const QA=n=>e=>e.test(n),KI={test:n=>n==="auto",parse:n=>n},JA=[Xd,Bt,Yo,jl,z5,k5,KI],sw=n=>JA.find(QA(n));class eC extends LS{constructor(e,t,i,r,s){super(e,t,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),hS(h))){const m=$A(h,t.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!RA.has(i)||e.length!==2)return;const[r,s]=e,a=sw(r),u=sw(s);if(a!==u)if(nw(a)&&nw(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)AI(e[r])&&i.push(r);i.length&&GI(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fd[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(i);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,u=r[a];r[a]=Fd[i](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,h])=>{t.getValue(d).set(h)}),this.resolveNoneKeyframes()}}const ow=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ql.test(n)||n==="0")&&!n.startsWith("url("));function $I(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function QI(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],a=ow(r,e),u=ow(s,e);return!a||!u?!1:$I(n)||(t==="spring"||SS(t))&&i}const JI=n=>n!==null;function lv(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(JI),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const eL=40;class tC{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qo.now(),this.options={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:a,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>eL?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&YI(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=qo.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:a,onComplete:u,onUpdate:d,isGenerator:h}=this.options;if(!h&&!QI(e,i,r,s))if(a)this.options.duration=0;else{d==null||d(lv(e,this.options,t)),u==null||u(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,t);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...m},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const $n=(n,e,t)=>n+(e-n)*t;function U1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function tL({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,a=0;if(!e)r=s=a=t;else{const u=t<.5?t*(1+e):t+e-t*e,d=2*t-u;r=U1(d,u,n+1/3),s=U1(d,u,n),a=U1(d,u,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:i}}function K0(n,e){return t=>t>0?e:n}const O1=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},nL=[fx,mc,vd],iL=n=>nL.find(e=>e.test(n));function aw(n){const e=iL(n);if(!e)return!1;let t=e.parse(n);return e===vd&&(t=tL(t)),t}const lw=(n,e)=>{const t=aw(n),i=aw(e);if(!t||!i)return K0(n,e);const r={...t};return s=>(r.red=O1(t.red,i.red,s),r.green=O1(t.green,i.green,s),r.blue=O1(t.blue,i.blue,s),r.alpha=$n(t.alpha,i.alpha,s),mc.transform(r))},rL=(n,e)=>t=>e(n(t)),ym=(...n)=>n.reduce(rL),mx=new Set(["none","hidden"]);function sL(n,e){return mx.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function oL(n,e){return t=>$n(n,e,t)}function DS(n){return typeof n=="number"?oL:typeof n=="string"?hS(n)?K0:fr.test(n)?lw:uL:Array.isArray(n)?nC:typeof n=="object"?fr.test(n)?lw:aL:K0}function nC(n,e){const t=[...n],i=t.length,r=n.map((s,a)=>DS(s)(s,e[a]));return s=>{for(let a=0;a<i;a++)t[a]=r[a](s);return t}}function aL(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=DS(n[r])(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}}function lL(n,e){var t;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],u=n.indexes[a][r[a]],d=(t=n.values[u])!==null&&t!==void 0?t:0;i[s]=d,r[a]++}return i}const uL=(n,e)=>{const t=Ql.createTransformer(e),i=Vp(n),r=Vp(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?mx.has(n)&&!r.values.length||mx.has(e)&&!i.values.length?sL(n,e):ym(nC(lL(i,r),r.values),t):K0(n,e)};function iC(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?$n(n,e,t):DS(n)(n,e)}const cL=5;function rC(n,e,t){const i=Math.max(e-cL,0);return IA(t-n(i),e-i)}const ri={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uw=.001;function fL({duration:n=ri.duration,bounce:e=ri.bounce,velocity:t=ri.velocity,mass:i=ri.mass}){let r,s,a=1-e;a=$a(ri.minDamping,ri.maxDamping,a),n=$a(ri.minDuration,ri.maxDuration,qa(n)),a<1?(r=h=>{const m=h*a,g=m*n,y=m-t,_=gx(h,a),M=Math.exp(-g);return uw-y/_*M},s=h=>{const g=h*a*n,y=g*t+t,_=Math.pow(a,2)*Math.pow(h,2)*n,M=Math.exp(-g),T=gx(Math.pow(h,2),a);return(-r(h)+uw>0?-1:1)*((y-_)*M)/T}):(r=h=>{const m=Math.exp(-h*n),g=(h-t)*n+1;return-.001+m*g},s=h=>{const m=Math.exp(-h*n),g=(t-h)*(n*n);return m*g});const u=5/n,d=hL(r,s,u);if(n=Ya(n),isNaN(d))return{stiffness:ri.stiffness,damping:ri.damping,duration:n};{const h=Math.pow(d,2)*i;return{stiffness:h,damping:a*2*Math.sqrt(i*h),duration:n}}}const dL=12;function hL(n,e,t){let i=t;for(let r=1;r<dL;r++)i=i-n(i)/e(i);return i}function gx(n,e){return n*Math.sqrt(1-e*e)}const pL=["duration","bounce"],mL=["stiffness","damping","mass"];function cw(n,e){return e.some(t=>n[t]!==void 0)}function gL(n){let e={velocity:ri.velocity,stiffness:ri.stiffness,damping:ri.damping,mass:ri.mass,isResolvedFromDuration:!1,...n};if(!cw(n,mL)&&cw(n,pL))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,s=2*$a(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:ri.mass,stiffness:r,damping:s}}else{const t=fL(n);e={...e,...t,mass:ri.mass},e.isResolvedFromDuration=!0}return e}function sC(n=ri.visualDuration,e=ri.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],u={done:!1,value:s},{stiffness:d,damping:h,mass:m,duration:g,velocity:y,isResolvedFromDuration:_}=gL({...t,velocity:-qa(t.velocity||0)}),M=y||0,T=h/(2*Math.sqrt(d*m)),E=a-s,S=qa(Math.sqrt(d/m)),b=Math.abs(E)<5;i||(i=b?ri.restSpeed.granular:ri.restSpeed.default),r||(r=b?ri.restDelta.granular:ri.restDelta.default);let C;if(T<1){const U=gx(S,T);C=N=>{const F=Math.exp(-T*S*N);return a-F*((M+T*S*E)/U*Math.sin(U*N)+E*Math.cos(U*N))}}else if(T===1)C=U=>a-Math.exp(-S*U)*(E+(M+S*E)*U);else{const U=S*Math.sqrt(T*T-1);C=N=>{const F=Math.exp(-T*S*N),B=Math.min(U*N,300);return a-F*((M+T*S*E)*Math.sinh(B)+U*E*Math.cosh(B))/U}}const I={calculatedDuration:_&&g||null,next:U=>{const N=C(U);if(_)u.done=U>=g;else{let F=0;T<1&&(F=U===0?Ya(M):rC(C,U,N));const B=Math.abs(F)<=i,O=Math.abs(a-N)<=r;u.done=B&&O}return u.value=u.done?a:N,u},toString:()=>{const U=Math.min(wA(I),lx),N=EA(F=>I.next(U*F).value,U,30);return U+"ms "+N}};return I}function fw({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:u,max:d,restDelta:h=.5,restSpeed:m}){const g=n[0],y={done:!1,value:g},_=B=>u!==void 0&&B<u||d!==void 0&&B>d,M=B=>u===void 0?d:d===void 0||Math.abs(u-B)<Math.abs(d-B)?u:d;let T=t*e;const E=g+T,S=a===void 0?E:a(E);S!==E&&(T=S-g);const b=B=>-T*Math.exp(-B/i),C=B=>S+b(B),I=B=>{const O=b(B),D=C(B);y.done=Math.abs(O)<=h,y.value=y.done?S:D};let U,N;const F=B=>{_(y.value)&&(U=B,N=sC({keyframes:[y.value,M(y.value)],velocity:rC(C,B,y.value),damping:r,stiffness:s,restDelta:h,restSpeed:m}))};return F(0),{calculatedDuration:null,next:B=>{let O=!1;return!N&&U===void 0&&(O=!0,I(B),F(B)),U!==void 0&&B>=U?N.next(B-U):(!O&&I(B),y)}}}const yL=gm(.42,0,1,1),vL=gm(0,0,.58,1),oC=gm(.42,0,.58,1),_L=n=>Array.isArray(n)&&typeof n[0]!="number",dw={linear:ps,easeIn:yL,easeInOut:oC,easeOut:vL,circIn:bS,circInOut:BA,circOut:zA,backIn:CS,backInOut:FA,backOut:OA,anticipate:kA},hw=n=>{if(MS(n)){ox(n.length===4);const[e,t,i,r]=n;return gm(e,t,i,r)}else if(typeof n=="string")return ox(dw[n]!==void 0),dw[n];return n};function xL(n,e,t){const i=[],r=t||iC,s=n.length-1;for(let a=0;a<s;a++){let u=r(n[a],n[a+1]);if(e){const d=Array.isArray(e)?e[a]||ps:e;u=ym(d,u)}i.push(u)}return i}function SL(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(ox(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=xL(e,i,r),d=u.length,h=m=>{if(a&&m<n[0])return e[0];let g=0;if(d>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const y=Ud(n[g],n[g+1],m);return u[g](y)};return t?m=>h($a(n[0],n[s-1],m)):h}function ML(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Ud(0,e,i);n.push($n(t,1,r))}}function wL(n){const e=[0];return ML(e,n.length-1),e}function EL(n,e){return n.map(t=>t*e)}function TL(n,e){return n.map(()=>e||oC).splice(0,n.length-1)}function $0({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=_L(i)?i.map(hw):hw(i),s={done:!1,value:e[0]},a=EL(t&&t.length===e.length?t:wL(e),n),u=SL(a,e,{ease:Array.isArray(r)?r:TL(e,r)});return{calculatedDuration:n,next:d=>(s.value=u(d),s.done=d>=n,s)}}const AL=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Gn.update(e,!0),stop:()=>$l(e),now:()=>Qi.isProcessing?Qi.timestamp:qo.now()}},CL={decay:fw,inertia:fw,tween:$0,keyframes:$0,spring:sC},bL=n=>n/100;class NS extends tC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:t,motionValue:i,element:r,keyframes:s}=this.options,a=(r==null?void 0:r.KeyframeResolver)||LS,u=(d,h)=>this.onKeyframesResolved(d,h);this.resolver=new a(s,u,t,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:a=0}=this.options,u=SS(t)?t:CL[t]||$0;let d,h;u!==$0&&typeof e[0]!="number"&&(d=ym(bL,iC(e[0],e[1])),e=[0,100]);const m=u({...this.options,keyframes:e});s==="mirror"&&(h=u({...this.options,keyframes:[...e].reverse(),velocity:-a})),m.calculatedDuration===null&&(m.calculatedDuration=wA(m));const{calculatedDuration:g}=m,y=g+r,_=y*(i+1)-r;return{generator:m,mirroredGenerator:h,mapPercentToKeyframes:d,calculatedDuration:g,resolvedDuration:y,totalDuration:_}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:B}=this.options;return{done:!0,value:B[B.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:a,mapPercentToKeyframes:u,keyframes:d,calculatedDuration:h,totalDuration:m,resolvedDuration:g}=i;if(this.startTime===null)return s.next(0);const{delay:y,repeat:_,repeatType:M,repeatDelay:T,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const S=this.currentTime-y*(this.speed>=0?1:-1),b=this.speed>=0?S<0:S>m;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let C=this.currentTime,I=s;if(_){const B=Math.min(this.currentTime,m)/g;let O=Math.floor(B),D=B%1;!D&&B>=1&&(D=1),D===1&&O--,O=Math.min(O,_+1),!!(O%2)&&(M==="reverse"?(D=1-D,T&&(D-=T/g)):M==="mirror"&&(I=a)),C=$a(0,1,D)*g}const U=b?{done:!1,value:d[0]}:I.next(C);u&&(U.value=u(U.value));let{done:N}=U;!b&&h!==null&&(N=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return F&&r!==void 0&&(U.value=lv(d,this.options,r)),E&&E(U.value),F&&this.finish(),U}get duration(){const{resolved:e}=this;return e?qa(e.calculatedDuration):0}get time(){return qa(this.currentTime)}set time(e){e=Ya(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=qa(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=AL,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const PL=new Set(["opacity","clipPath","filter","transform"]);function RL(n,e,t,{delay:i=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:u="easeInOut",times:d}={}){const h={[e]:t};d&&(h.offset=d);const m=AA(u,r);return Array.isArray(m)&&(h.easing=m),n.animate(h,{delay:i,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const IL=oS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Q0=10,LL=2e4;function DL(n){return SS(n.type)||n.type==="spring"||!TA(n.ease)}function NL(n,e){const t=new NS({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const r=[];let s=0;for(;!i.done&&s<LL;)i=t.sample(s),r.push(i.value),s+=Q0;return{times:void 0,keyframes:r,duration:s-Q0,ease:"linear"}}const aC={anticipate:kA,backInOut:FA,circInOut:BA};function UL(n){return n in aC}class pw extends tC{constructor(e){super(e);const{name:t,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new eC(s,(a,u)=>this.onKeyframesResolved(a,u),t,i,r),this.resolver.scheduleResolve()}initPlayback(e,t){var i;let{duration:r=300,times:s,ease:a,type:u,motionValue:d,name:h,startTime:m}=this.options;if(!(!((i=d.owner)===null||i===void 0)&&i.current))return!1;if(typeof a=="string"&&Z0()&&UL(a)&&(a=aC[a]),DL(this.options)){const{onComplete:y,onUpdate:_,motionValue:M,element:T,...E}=this.options,S=NL(e,E);e=S.keyframes,e.length===1&&(e[1]=e[0]),r=S.duration,s=S.times,a=S.ease,u="keyframes"}const g=RL(d.owner.current,h,e,{...this.options,duration:r,times:s,ease:a});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(KM(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;d.set(lv(e,this.options,t)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return qa(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return qa(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Ya(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return ps;const{animation:i}=t;KM(i,e)}return ps}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:r,type:s,ease:a,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:m,onComplete:g,element:y,..._}=this.options,M=new NS({..._,keyframes:i,duration:r,type:s,ease:a,times:u,isGenerator:!0}),T=Ya(this.time);h.setWithVelocity(M.sample(T-Q0).value,M.sample(T).value,Q0)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:s,damping:a,type:u}=e;return IL()&&i&&PL.has(i)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&s!=="mirror"&&a!==0&&u!=="inertia"}}const OL={type:"spring",stiffness:500,damping:25,restSpeed:10},FL=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),kL={type:"keyframes",duration:.8},zL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BL=(n,{keyframes:e})=>e.length>2?kL:Uc.has(n)?n.startsWith("scale")?FL(e[1]):OL:zL;function VL({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:u,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const US=(n,e,t,i={},r,s)=>a=>{const u=xS(i,n)||{},d=u.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Ya(d);let m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:s?void 0:r};VL(u)||(m={...m,...BL(n,m)}),m.duration&&(m.duration=Ya(m.duration)),m.repeatDelay&&(m.repeatDelay=Ya(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!s&&e.get()!==void 0){const y=lv(m.keyframes,u);if(y!==void 0)return Gn.update(()=>{m.onUpdate(y),m.onComplete()}),new aI([])}return!s&&pw.supports(m)?new pw(m):new NS(m)};function HL({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function lC(n,e,{delay:t=0,transitionOverride:i,type:r}={}){var s;let{transition:a=n.getDefaultTransition(),transitionEnd:u,...d}=e;i&&(a=i);const h=[],m=r&&n.animationState&&n.animationState.getState()[r];for(const g in d){const y=n.getValue(g,(s=n.latestValues[g])!==null&&s!==void 0?s:null),_=d[g];if(_===void 0||m&&HL(m,g))continue;const M={delay:t,...xS(a||{},g)};let T=!1;if(window.MotionHandoffAnimation){const S=LA(n);if(S){const b=window.MotionHandoffAnimation(S,g,Gn);b!==null&&(M.startTime=b,T=!0)}}cx(n,g),y.start(US(g,y,_,n.shouldReduceMotion&&RA.has(g)?{type:!1}:M,n,T));const E=y.animation;E&&h.push(E)}return u&&Promise.all(h).then(()=>{Gn.update(()=>{u&&SI(n,u)})}),h}function yx(n,e,t={}){var i;const r=av(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const a=r?()=>Promise.all(lC(n,r,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:y}=s;return GL(n,e,m+h,g,y,t)}:()=>Promise.resolve(),{when:d}=s;if(d){const[h,m]=d==="beforeChildren"?[a,u]:[u,a];return h().then(()=>m())}else return Promise.all([a(),u(t.delay)])}function GL(n,e,t=0,i=0,r=1,s){const a=[],u=(n.variantChildren.size-1)*i,d=r===1?(h=0)=>h*i:(h=0)=>u-h*i;return Array.from(n.variantChildren).sort(WL).forEach((h,m)=>{h.notify("AnimationStart",e),a.push(yx(h,e,{...s,delay:t+d(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(a)}function WL(n,e){return n.sortNodePosition(e)}function jL(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>yx(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=yx(n,e,t);else{const r=typeof e=="function"?av(n,e,t.custom):e;i=Promise.all(lC(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const XL=lS.length;function uC(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?uC(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<XL;t++){const i=lS[t],r=n.props[i];(kp(r)||r===!1)&&(e[i]=r)}return e}const YL=[...aS].reverse(),qL=aS.length;function ZL(n){return e=>Promise.all(e.map(({animation:t,options:i})=>jL(n,t,i)))}function KL(n){let e=ZL(n),t=mw(),i=!0;const r=d=>(h,m)=>{var g;const y=av(n,m,d==="exit"?(g=n.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(y){const{transition:_,transitionEnd:M,...T}=y;h={...h,...T,...M}}return h};function s(d){e=d(n)}function a(d){const{props:h}=n,m=uC(n.parent)||{},g=[],y=new Set;let _={},M=1/0;for(let E=0;E<qL;E++){const S=YL[E],b=t[S],C=h[S]!==void 0?h[S]:m[S],I=kp(C),U=S===d?b.isActive:null;U===!1&&(M=E);let N=C===m[S]&&C!==h[S]&&I;if(N&&i&&n.manuallyAnimateOnMount&&(N=!1),b.protectedKeys={..._},!b.isActive&&U===null||!C&&!b.prevProp||sv(C)||typeof C=="boolean")continue;const F=$L(b.prevProp,C);let B=F||S===d&&b.isActive&&!N&&I||E>M&&I,O=!1;const D=Array.isArray(C)?C:[C];let H=D.reduce(r(S),{});U===!1&&(H={});const{prevResolvedValues:ne={}}=b,ee={...ne,...H},pe=me=>{B=!0,y.has(me)&&(O=!0,y.delete(me)),b.needsAnimating[me]=!0;const G=n.getValue(me);G&&(G.liveStyle=!1)};for(const me in ee){const G=H[me],te=ne[me];if(_.hasOwnProperty(me))continue;let $=!1;ax(G)&&ax(te)?$=!MA(G,te):$=G!==te,$?G!=null?pe(me):y.add(me):G!==void 0&&y.has(me)?pe(me):b.protectedKeys[me]=!0}b.prevProp=C,b.prevResolvedValues=H,b.isActive&&(_={..._,...H}),i&&n.blockInitialAnimation&&(B=!1),B&&(!(N&&F)||O)&&g.push(...D.map(me=>({animation:me,options:{type:S}})))}if(y.size){const E={};y.forEach(S=>{const b=n.getBaseTarget(S),C=n.getValue(S);C&&(C.liveStyle=!0),E[S]=b??null}),g.push({animation:E})}let T=!!g.length;return i&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(T=!1),i=!1,T?e(g):Promise.resolve()}function u(d,h){var m;if(t[d].isActive===h)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(y=>{var _;return(_=y.animationState)===null||_===void 0?void 0:_.setActive(d,h)}),t[d].isActive=h;const g=a(d);for(const y in t)t[y].protectedKeys={};return g}return{animateChanges:a,setActive:u,setAnimateFunction:s,getState:()=>t,reset:()=>{t=mw(),i=!0}}}function $L(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!MA(e,n):!1}function ju(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mw(){return{animate:ju(!0),whileInView:ju(),whileHover:ju(),whileTap:ju(),whileDrag:ju(),whileFocus:ju(),exit:ju()}}class tu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class QL extends tu{constructor(e){super(e),e.animationState||(e.animationState=KL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let JL=0;class e6 extends tu{constructor(){super(...arguments),this.id=JL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const t6={animation:{Feature:QL},exit:{Feature:e6}};function Hp(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function vm(n){return{point:{x:n.pageX,y:n.pageY}}}const n6=n=>e=>wS(e)&&n(e,vm(e));function Sp(n,e,t,i){return Hp(n,e,n6(t),i)}const gw=(n,e)=>Math.abs(n-e);function i6(n,e){const t=gw(n.x,e.x),i=gw(n.y,e.y);return Math.sqrt(t**2+i**2)}class cC{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=k1(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,_=i6(g.offset,{x:0,y:0})>=3;if(!y&&!_)return;const{point:M}=g,{timestamp:T}=Qi;this.history.push({...M,timestamp:T});const{onStart:E,onMove:S}=this.handlers;y||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=F1(y,this.transformPagePoint),Gn.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:_,onSessionEnd:M,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=k1(g.type==="pointercancel"?this.lastMoveEventInfo:F1(y,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,E),M&&M(g,E)},!wS(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const a=vm(e),u=F1(a,this.transformPagePoint),{point:d}=u,{timestamp:h}=Qi;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=t;m&&m(e,k1(u,this.history)),this.removeListeners=ym(Sp(this.contextWindow,"pointermove",this.handlePointerMove),Sp(this.contextWindow,"pointerup",this.handlePointerUp),Sp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$l(this.updatePoint)}}function F1(n,e){return e?{point:e(n.point)}:n}function yw(n,e){return{x:n.x-e.x,y:n.y-e.y}}function k1({point:n},e){return{point:n,delta:yw(n,fC(e)),offset:yw(n,r6(e)),velocity:s6(e,.1)}}function r6(n){return n[0]}function fC(n){return n[n.length-1]}function s6(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=fC(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Ya(e)));)t--;if(!i)return{x:0,y:0};const s=qa(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const a={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const dC=1e-4,o6=1-dC,a6=1+dC,hC=.01,l6=0-hC,u6=0+hC;function gs(n){return n.max-n.min}function c6(n,e,t){return Math.abs(n-e)<=t}function vw(n,e,t,i=.5){n.origin=i,n.originPoint=$n(e.min,e.max,n.origin),n.scale=gs(t)/gs(e),n.translate=$n(t.min,t.max,n.origin)-n.originPoint,(n.scale>=o6&&n.scale<=a6||isNaN(n.scale))&&(n.scale=1),(n.translate>=l6&&n.translate<=u6||isNaN(n.translate))&&(n.translate=0)}function Mp(n,e,t,i){vw(n.x,e.x,t.x,i?i.originX:void 0),vw(n.y,e.y,t.y,i?i.originY:void 0)}function _w(n,e,t){n.min=t.min+e.min,n.max=n.min+gs(e)}function f6(n,e,t){_w(n.x,e.x,t.x),_w(n.y,e.y,t.y)}function xw(n,e,t){n.min=e.min-t.min,n.max=n.min+gs(e)}function wp(n,e,t){xw(n.x,e.x,t.x),xw(n.y,e.y,t.y)}function d6(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?$n(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?$n(t,n,i.max):Math.min(n,t)),n}function Sw(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function h6(n,{top:e,left:t,bottom:i,right:r}){return{x:Sw(n.x,t,r),y:Sw(n.y,e,i)}}function Mw(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function p6(n,e){return{x:Mw(n.x,e.x),y:Mw(n.y,e.y)}}function m6(n,e){let t=.5;const i=gs(n),r=gs(e);return r>i?t=Ud(e.min,e.max-i,n.min):i>r&&(t=Ud(n.min,n.max-r,e.min)),$a(0,1,t)}function g6(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const vx=.35;function y6(n=vx){return n===!1?n=0:n===!0&&(n=vx),{x:ww(n,"left","right"),y:ww(n,"top","bottom")}}function ww(n,e,t){return{min:Ew(n,e),max:Ew(n,t)}}function Ew(n,e){return typeof n=="number"?n:n[e]||0}const Tw=()=>({translate:0,scale:1,origin:0,originPoint:0}),_d=()=>({x:Tw(),y:Tw()}),Aw=()=>({min:0,max:0}),ci=()=>({x:Aw(),y:Aw()});function Ns(n){return[n("x"),n("y")]}function pC({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function v6({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function _6(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function z1(n){return n===void 0||n===1}function _x({scale:n,scaleX:e,scaleY:t}){return!z1(n)||!z1(e)||!z1(t)}function sc(n){return _x(n)||mC(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function mC(n){return Cw(n.x)||Cw(n.y)}function Cw(n){return n&&n!=="0%"}function J0(n,e,t){const i=n-t,r=e*i;return t+r}function bw(n,e,t,i,r){return r!==void 0&&(n=J0(n,r,i)),J0(n,t,i)+e}function xx(n,e=0,t=1,i,r){n.min=bw(n.min,e,t,i,r),n.max=bw(n.max,e,t,i,r)}function gC(n,{x:e,y:t}){xx(n.x,e.translate,e.scale,e.originPoint),xx(n.y,t.translate,t.scale,t.originPoint)}const Pw=.999999999999,Rw=1.0000000000001;function x6(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,a;for(let u=0;u<r;u++){s=t[u],a=s.projectionDelta;const{visualElement:d}=s.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Sd(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,gC(n,a)),i&&sc(s.latestValues)&&Sd(n,s.latestValues))}e.x<Rw&&e.x>Pw&&(e.x=1),e.y<Rw&&e.y>Pw&&(e.y=1)}function xd(n,e){n.min=n.min+e,n.max=n.max+e}function Iw(n,e,t,i,r=.5){const s=$n(n.min,n.max,r);xx(n,e,t,s,i)}function Sd(n,e){Iw(n.x,e.x,e.scaleX,e.scale,e.originX),Iw(n.y,e.y,e.scaleY,e.scale,e.originY)}function yC(n,e){return pC(_6(n.getBoundingClientRect(),e))}function S6(n,e,t){const i=yC(n,t),{scroll:r}=e;return r&&(xd(i.x,r.offset.x),xd(i.y,r.offset.y)),i}const vC=({current:n})=>n?n.ownerDocument.defaultView:null,M6=new WeakMap;class w6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ci(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(vm(m).point)},s=(m,g)=>{const{drag:y,dragPropagation:_,onDragStart:M}=this.getProps();if(y&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gI(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ns(E=>{let S=this.getAxisMotionValue(E).get()||0;if(Yo.test(S)){const{projection:b}=this.visualElement;if(b&&b.layout){const C=b.layout.layoutBox[E];C&&(S=gs(C)*(parseFloat(S)/100))}}this.originPoint[E]=S}),M&&Gn.postRender(()=>M(m,g)),cx(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},a=(m,g)=>{const{dragPropagation:y,dragDirectionLock:_,onDirectionLock:M,onDrag:T}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:E}=g;if(_&&this.currentDirection===null){this.currentDirection=E6(E),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),T&&T(m,g)},u=(m,g)=>this.stop(m,g),d=()=>Ns(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new cC(e,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:vC(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Gn.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Dg(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=d6(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&yd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=h6(r.layoutBox,t):this.constraints=!1,this.elastic=y6(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ns(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=g6(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!yd(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=S6(i,r.root,this.visualElement.getTransformPagePoint());let a=p6(r.layout.layoutBox,s);if(t){const u=t(v6(a));this.hasMutatedConstraints=!!u,u&&(a=pC(u))}return a}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=Ns(m=>{if(!Dg(m,t,this.currentDirection))return;let g=d[m]||{};a&&(g={min:0,max:0});const y=r?200:1e6,_=r?40:1e7,M={type:"inertia",velocity:i?e[m]:0,bounceStiffness:y,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(m,M)});return Promise.all(h).then(u)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return cx(this.visualElement,e),i.start(US(e,i,0,t,this.visualElement,!1))}stopAnimation(){Ns(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ns(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ns(t=>{const{drag:i}=this.getProps();if(!Dg(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:a,max:u}=r.layout.layoutBox[t];s.set(e[t]-$n(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!yd(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ns(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const d=u.get();r[a]=m6({min:d,max:d},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ns(a=>{if(!Dg(a,e,null))return;const u=this.getAxisMotionValue(a),{min:d,max:h}=this.constraints[a];u.set($n(d,h,r[a]))})}addListeners(){if(!this.visualElement.current)return;M6.set(this.visualElement,this);const e=this.visualElement.current,t=Sp(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();yd(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Gn.read(i);const a=Hp(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ns(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())});return()=>{a(),t(),s(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:a=vx,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:a,dragMomentum:u}}}function Dg(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function E6(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class T6 extends tu{constructor(e){super(e),this.removeGroupControls=ps,this.removeListeners=ps,this.controls=new w6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ps}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lw=n=>(e,t)=>{n&&Gn.postRender(()=>n(e,t))};class A6 extends tu{constructor(){super(...arguments),this.removePointerDownListener=ps}onPointerDown(e){this.session=new cC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Lw(e),onStart:Lw(t),onMove:i,onEnd:(s,a)=>{delete this.session,r&&Gn.postRender(()=>r(s,a))}}}mount(){this.removePointerDownListener=Sp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const k0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Dw(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Yh={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Bt.test(n))n=parseFloat(n);else return n;const t=Dw(n,e.target.x),i=Dw(n,e.target.y);return`${t}% ${i}%`}},C6={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Ql.parse(n);if(r.length>5)return i;const s=Ql.createTransformer(n),a=typeof r[0]!="number"?1:0,u=t.x.scale*e.x,d=t.y.scale*e.y;r[0+a]/=u,r[1+a]/=d;const h=$n(u,d,.5);return typeof r[2+a]=="number"&&(r[2+a]/=h),typeof r[3+a]=="number"&&(r[3+a]/=h),s(r)}};class b6 extends Se.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;Z5(P6),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),k0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,a=i.projection;return a&&(a.isPresent=s,r||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Gn.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _C(n){const[e,t]=c5(),i=Se.useContext(nA);return je.jsx(b6,{...n,layoutGroup:i,switchLayoutGroup:Se.useContext(uA),isPresent:e,safeToRemove:t})}const P6={borderRadius:{...Yh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yh,borderTopRightRadius:Yh,borderBottomLeftRadius:Yh,borderBottomRightRadius:Yh,boxShadow:C6};function R6(n,e,t){const i=dr(n)?n:Bp(n);return i.start(US("",i,e,t)),i.animation}function I6(n){return n instanceof SVGElement&&n.tagName!=="svg"}const L6=(n,e)=>n.depth-e.depth;class D6{constructor(){this.children=[],this.isDirty=!1}add(e){ES(this.children,e),this.isDirty=!0}remove(e){TS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(L6),this.isDirty=!1,this.children.forEach(e)}}function N6(n,e){const t=qo.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&($l(i),n(s-e))};return Gn.read(i,!0),()=>$l(i)}const xC=["TopLeft","TopRight","BottomLeft","BottomRight"],U6=xC.length,Nw=n=>typeof n=="string"?parseFloat(n):n,Uw=n=>typeof n=="number"||Bt.test(n);function O6(n,e,t,i,r,s){r?(n.opacity=$n(0,t.opacity!==void 0?t.opacity:1,F6(i)),n.opacityExit=$n(e.opacity!==void 0?e.opacity:1,0,k6(i))):s&&(n.opacity=$n(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let a=0;a<U6;a++){const u=`border${xC[a]}Radius`;let d=Ow(e,u),h=Ow(t,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||Uw(d)===Uw(h)?(n[u]=Math.max($n(Nw(d),Nw(h),i),0),(Yo.test(h)||Yo.test(d))&&(n[u]+="%")):n[u]=h}(e.rotate||t.rotate)&&(n.rotate=$n(e.rotate||0,t.rotate||0,i))}function Ow(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const F6=SC(0,.5,zA),k6=SC(.5,.95,ps);function SC(n,e,t){return i=>i<n?0:i>e?1:t(Ud(n,e,i))}function Fw(n,e){n.min=e.min,n.max=e.max}function Ls(n,e){Fw(n.x,e.x),Fw(n.y,e.y)}function kw(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function zw(n,e,t,i,r){return n-=e,n=J0(n,1/t,i),r!==void 0&&(n=J0(n,1/r,i)),n}function z6(n,e=0,t=1,i=.5,r,s=n,a=n){if(Yo.test(e)&&(e=parseFloat(e),e=$n(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=$n(s.min,s.max,i);n===s&&(u-=e),n.min=zw(n.min,e,t,u,r),n.max=zw(n.max,e,t,u,r)}function Bw(n,e,[t,i,r],s,a){z6(n,e[t],e[i],e[r],e.scale,s,a)}const B6=["x","scaleX","originX"],V6=["y","scaleY","originY"];function Vw(n,e,t,i){Bw(n.x,e,B6,t?t.x:void 0,i?i.x:void 0),Bw(n.y,e,V6,t?t.y:void 0,i?i.y:void 0)}function Hw(n){return n.translate===0&&n.scale===1}function MC(n){return Hw(n.x)&&Hw(n.y)}function Gw(n,e){return n.min===e.min&&n.max===e.max}function H6(n,e){return Gw(n.x,e.x)&&Gw(n.y,e.y)}function Ww(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function wC(n,e){return Ww(n.x,e.x)&&Ww(n.y,e.y)}function jw(n){return gs(n.x)/gs(n.y)}function Xw(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class G6{constructor(){this.members=[]}add(e){ES(this.members,e),e.scheduleRender()}remove(e){if(TS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function W6(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((r||s||a)&&(i=`translate3d(${r}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:y,skewX:_,skewY:M}=t;h&&(i=`perspective(${h}px) ${i}`),m&&(i+=`rotate(${m}deg) `),g&&(i+=`rotateX(${g}deg) `),y&&(i+=`rotateY(${y}deg) `),_&&(i+=`skewX(${_}deg) `),M&&(i+=`skewY(${M}deg) `)}const u=n.x.scale*e.x,d=n.y.scale*e.y;return(u!==1||d!==1)&&(i+=`scale(${u}, ${d})`),i||"none"}const oc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},pp=typeof window<"u"&&window.MotionDebug!==void 0,B1=["","X","Y","Z"],j6={visibility:"hidden"},Yw=1e3;let X6=0;function V1(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function EC(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=LA(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Gn,!(r||s))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&EC(i)}function TC({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},u=e==null?void 0:e()){this.id=X6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,pp&&(oc.totalNodes=oc.resolvedTargetDeltas=oc.recalculatedProjection=0),this.nodes.forEach(Z6),this.nodes.forEach(eD),this.nodes.forEach(tD),this.nodes.forEach(K6),pp&&window.MotionDebug.record(oc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new D6)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new AS),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const d=this.eventHandlers.get(a);d&&d.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=I6(a),this.instance=a;const{layoutId:d,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||d)&&(this.isLayoutDirty=!0),n){let g;const y=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=N6(y,250),k0.hasAnimatedSinceResize&&(k0.hasAnimatedSinceResize=!1,this.nodes.forEach(Zw))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeTargetChanged:_,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||m.getDefaultTransition()||oD,{onLayoutAnimationStart:E,onLayoutAnimationComplete:S}=m.getProps(),b=!this.targetLayout||!wC(this.targetLayout,M)||_,C=!y&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||y&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,C);const I={...xS(T,"layout"),onPlay:E,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else y||Zw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$l(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nD),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&EC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qw);return}this.isUpdating||this.nodes.forEach(Q6),this.isUpdating=!1,this.nodes.forEach(J6),this.nodes.forEach(Y6),this.nodes.forEach(q6),this.clearAllSnapshots();const u=qo.now();Qi.delta=$a(0,1e3/60,u-Qi.timestamp),Qi.timestamp=u,Qi.isProcessing=!0,L1.update.process(Qi),L1.preRender.process(Qi),L1.render.process(Qi),Qi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($6),this.sharedNodes.forEach(iD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ci(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!MC(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;a&&(u||sc(this.latestValues)||m)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return a&&(d=this.removeTransform(d)),aD(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:u}=this.options;if(!u)return ci();const d=u.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(lD))){const{scroll:m}=this.root;m&&(xd(d.x,m.offset.x),xd(d.y,m.offset.y))}return d}removeElementScroll(a){var u;const d=ci();if(Ls(d,a),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return d;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:y}=m;m!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Ls(d,a),xd(d.x,g.offset.x),xd(d.y,g.offset.y))}return d}applyTransform(a,u=!1){const d=ci();Ls(d,a);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Sd(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),sc(m.latestValues)&&Sd(d,m.latestValues)}return sc(this.latestValues)&&Sd(d,this.latestValues),d}removeTransform(a){const u=ci();Ls(u,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!sc(h.latestValues))continue;_x(h.latestValues)&&h.updateSnapshot();const m=ci(),g=h.measurePageBox();Ls(m,g),Vw(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return sc(this.latestValues)&&Vw(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var u;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(a||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Qi.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ci(),this.relativeTargetOrigin=ci(),wp(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ci(),this.targetWithTransforms=ci()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),f6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ls(this.target,this.layout.layoutBox),gC(this.target,this.targetDelta)):Ls(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ci(),this.relativeTargetOrigin=ci(),wp(this.relativeTargetOrigin,this.target,_.target),Ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}pp&&oc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||_x(this.parent.latestValues)||mC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Qi.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Ls(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;x6(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ci());const{target:M}=u;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kw(this.prevProjectionDelta.x,this.projectionDelta.x),kw(this.prevProjectionDelta.y,this.projectionDelta.y)),Mp(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!Xw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Xw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M)),pp&&oc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),a){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_d(),this.projectionDelta=_d(),this.projectionDeltaWithTransform=_d()}setAnimationOrigin(a,u=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},g=_d();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=ci(),_=d?d.source:void 0,M=this.layout?this.layout.source:void 0,T=_!==M,E=this.getStack(),S=!E||E.members.length<=1,b=!!(T&&!S&&this.options.crossfade===!0&&!this.path.some(sD));this.animationProgress=0;let C;this.mixTargetDelta=I=>{const U=I/1e3;Kw(g.x,a.x,U),Kw(g.y,a.y,U),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wp(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rD(this.relativeTarget,this.relativeTargetOrigin,y,U),C&&H6(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=ci()),Ls(C,this.relativeTarget)),T&&(this.animationValues=m,O6(m,h,this.latestValues,U,b,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($l(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gn.update(()=>{k0.hasAnimatedSinceResize=!0,this.currentAnimation=R6(0,Yw,{...a,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:m}=a;if(!(!u||!d||!h)){if(this!==a&&this.layout&&h&&AC(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||ci();const g=gs(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+g;const y=gs(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+y}Ls(u,d),Sd(u,m),Mp(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new G6),this.sharedNodes.get(a).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:u}=this.options;return u?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:u}=this.options;return u?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&V1("z",a,h,this.animationValues);for(let m=0;m<B1.length;m++)V1(`rotate${B1[m]}`,a,h,this.animationValues),V1(`skew${B1[m]}`,a,h,this.animationValues);a.render();for(const m in h)a.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);a.scheduleRender()}getProjectionStyles(a){var u,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return j6;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=O0(a==null?void 0:a.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=O0(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!sc(this.latestValues)&&(T.transform=m?m({},""):"none",this.hasProjected=!1),T}const y=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=W6(this.projectionDeltaWithTransform,this.treeScale,y),m&&(h.transform=m(y,h.transform));const{x:_,y:M}=this.projectionDelta;h.transformOrigin=`${_.origin*100}% ${M.origin*100}% 0`,g.animationValues?h.opacity=g===this?(d=(u=y.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:h.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const T in q0){if(y[T]===void 0)continue;const{correct:E,applyTo:S}=q0[T],b=h.transform==="none"?y[T]:E(y[T],g);if(S){const C=S.length;for(let I=0;I<C;I++)h[S[I]]=b}else h[T]=b}return this.options.layoutId&&(h.pointerEvents=g===this?O0(a==null?void 0:a.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(qw),this.root.sharedNodes.clear()}}}function Y6(n){n.updateLayout()}function q6(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,a=t.source!==n.layout.source;s==="size"?Ns(g=>{const y=a?t.measuredBox[g]:t.layoutBox[g],_=gs(y);y.min=i[g].min,y.max=y.min+_}):AC(s,t.layoutBox,i)&&Ns(g=>{const y=a?t.measuredBox[g]:t.layoutBox[g],_=gs(i[g]);y.max=y.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+_)});const u=_d();Mp(u,i,t.layoutBox);const d=_d();a?Mp(d,n.applyTransform(r,!0),t.measuredBox):Mp(d,i,t.layoutBox);const h=!MC(u);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:_}=g;if(y&&_){const M=ci();wp(M,t.layoutBox,y.layoutBox);const T=ci();wp(T,i,_.layoutBox),wC(M,T)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=T,n.relativeTargetOrigin=M,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function Z6(n){pp&&oc.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function K6(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function $6(n){n.clearSnapshot()}function qw(n){n.clearMeasurements()}function Q6(n){n.isLayoutDirty=!1}function J6(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Zw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function eD(n){n.resolveTargetDelta()}function tD(n){n.calcProjection()}function nD(n){n.resetSkewAndRotation()}function iD(n){n.removeLeadSnapshot()}function Kw(n,e,t){n.translate=$n(e.translate,0,t),n.scale=$n(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function $w(n,e,t,i){n.min=$n(e.min,t.min,i),n.max=$n(e.max,t.max,i)}function rD(n,e,t,i){$w(n.x,e.x,t.x,i),$w(n.y,e.y,t.y,i)}function sD(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const oD={duration:.45,ease:[.4,0,.1,1]},Qw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Jw=Qw("applewebkit/")&&!Qw("chrome/")?Math.round:ps;function eE(n){n.min=Jw(n.min),n.max=Jw(n.max)}function aD(n){eE(n.x),eE(n.y)}function AC(n,e,t){return n==="position"||n==="preserve-aspect"&&!c6(jw(e),jw(t),.2)}function lD(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const uD=TC({attachResizeListener:(n,e)=>Hp(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),H1={current:void 0},CC=TC({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!H1.current){const n=new uD({});n.mount(window),n.setOptions({layoutScroll:!0}),H1.current=n}return H1.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),cD={pan:{Feature:A6},drag:{Feature:T6,ProjectionNode:CC,MeasureLayout:_C}};function tE(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,s=i[r];s&&Gn.postRender(()=>s(e,vm(e)))}class fD extends tu{mount(){const{current:e}=this.node;e&&(this.unmount=fI(e,t=>(tE(this.node,t,"Start"),i=>tE(this.node,i,"End"))))}unmount(){}}class dD extends tu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ym(Hp(this.node.current,"focus",()=>this.onFocus()),Hp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nE(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),s=i[r];s&&Gn.postRender(()=>s(e,vm(e)))}class hD extends tu{mount(){const{current:e}=this.node;e&&(this.unmount=mI(e,t=>(nE(this.node,t,"Start"),(i,{success:r})=>nE(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sx=new WeakMap,G1=new WeakMap,pD=n=>{const e=Sx.get(n.target);e&&e(n)},mD=n=>{n.forEach(pD)};function gD({root:n,...e}){const t=n||document;G1.has(t)||G1.set(t,{});const i=G1.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(mD,{root:n,...e})),i[r]}function yD(n,e,t){const i=gD(e);return Sx.set(n,t),i.observe(n),()=>{Sx.delete(n),i.unobserve(n)}}const vD={some:0,all:1};class _D extends tu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:vD[r]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=h?m:g;y&&y(d)};return yD(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(xD(e,t))&&this.startObserver()}unmount(){}}function xD({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const SD={inView:{Feature:_D},tap:{Feature:hD},focus:{Feature:dD},hover:{Feature:fD}},MD={layout:{ProjectionNode:CC,MeasureLayout:_C}},Mx={current:null},bC={current:!1};function wD(){if(bC.current=!0,!!sS)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Mx.current=n.matches;n.addListener(e),e()}else Mx.current=!1}const ED=[...JA,fr,Ql],TD=n=>ED.find(QA(n)),iE=new WeakMap;function AD(n,e,t){for(const i in e){const r=e[i],s=t[i];if(dr(r))n.addValue(i,r);else if(dr(s))n.addValue(i,Bp(r,{owner:n}));else if(s!==r)if(n.hasValue(i)){const a=n.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=n.getStaticValue(i);n.addValue(i,Bp(a!==void 0?a:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const rE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CD{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=LS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=qo.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Gn.render(this.render,!1,!0))};const{latestValues:d,renderState:h,onUpdate:m}=a;this.onUpdate=m,this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=ov(t),this.isVariantNode=aA(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(t,{},this);for(const _ in y){const M=y[_];d[_]!==void 0&&dr(M)&&M.set(d[_],!1)}}mount(e){this.current=e,iE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),bC.current||wD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){iE.delete(this.current),this.projection&&this.projection.unmount(),$l(this.notifyUpdate),$l(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Uc.has(e),r=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Gn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Od){const t=Od[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ci()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<rE.length;i++){const r=rE[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,a=e[s];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=AD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Bp(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(KA(r)||VA(r))?r=parseFloat(r):!TD(r)&&Ql.test(t)&&(r=YA(e,t)),this.setBaseTarget(e,dr(r)?r.get():r)),dr(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const a=dS(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(r=a[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!dr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new AS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class PC extends CD{constructor(){super(...arguments),this.KeyframeResolver=eC}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function bD(n){return window.getComputedStyle(n)}class PD extends PC{constructor(){super(...arguments),this.type="html",this.renderInstance=gA}readValueFromInstance(e,t){if(Uc.has(t)){const i=IS(t);return i&&i.default||0}else{const i=bD(e),r=(hA(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return yC(e,t)}build(e,t,i){mS(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return _S(e,t,i)}}class RD extends PC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ci}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Uc.has(t)){const i=IS(t);return i&&i.default||0}return t=yA.has(t)?t:uS(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return xA(e,t,i)}build(e,t,i){gS(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,r){vA(e,t,i,r)}mount(e){this.isSVGTag=vS(e.tagName),super.mount(e)}}const ID=(n,e)=>fS(n)?new RD(e):new PD(e,{allowProjection:n!==Se.Fragment}),LD=rI({...t6,...SD,...cD,...MD},ID),vs=_5(LD);var RC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sE=zs.createContext&&zs.createContext(RC),DD=["attr","size","title"];function ND(n,e){if(n==null)return{};var t=UD(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function UD(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function ey(){return ey=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ey.apply(this,arguments)}function oE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ty(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(t),!0).forEach(function(i){OD(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function OD(n,e,t){return e=FD(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FD(n){var e=kD(n,"string");return typeof e=="symbol"?e:e+""}function kD(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function IC(n){return n&&n.map((e,t)=>zs.createElement(e.tag,ty({key:t},e.attr),IC(e.child)))}function Lr(n){return e=>zs.createElement(zD,ey({attr:ty({},n.attr)},e),IC(n.child))}function zD(n){var e=t=>{var{attr:i,size:r,title:s}=n,a=ND(n,DD),u=r||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),zs.createElement("svg",ey({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,a,{className:d,style:ty(ty({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&zs.createElement("title",null,s),n.children)};return sE!==void 0?zs.createElement(sE.Consumer,null,t=>e(t)):e(RC)}function BD(n){return Lr({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(n)}function VD(n){return Lr({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M180.41 203.01c-.72 22.65 10.6 32.68 10.88 39.05a8.164 8.164 0 0 1-4.1 6.27l-12.8 8.96a10.66 10.66 0 0 1-5.63 1.92c-.43-.02-8.19 1.83-20.48-25.61a78.608 78.608 0 0 1-62.61 29.45c-16.28.89-60.4-9.24-58.13-56.21-1.59-38.28 34.06-62.06 70.93-60.05 7.1.02 21.6.37 46.99 6.27v-15.62c2.69-26.46-14.7-46.99-44.81-43.91-2.4.01-19.4-.5-45.84 10.11-7.36 3.38-8.3 2.82-10.75 2.82-7.41 0-4.36-21.48-2.94-24.2 5.21-6.4 35.86-18.35 65.94-18.18a76.857 76.857 0 0 1 55.69 17.28 70.285 70.285 0 0 1 17.67 52.36l-.01 69.29zM93.99 235.4c32.43-.47 46.16-19.97 49.29-30.47 2.46-10.05 2.05-16.41 2.05-27.4-9.67-2.32-23.59-4.85-39.56-4.87-15.15-1.14-42.82 5.63-41.74 32.26-1.24 16.79 11.12 31.4 29.96 30.48zm170.92 23.05c-7.86.72-11.52-4.86-12.68-10.37l-49.8-164.65c-.97-2.78-1.61-5.65-1.92-8.58a4.61 4.61 0 0 1 3.86-5.25c.24-.04-2.13 0 22.25 0 8.78-.88 11.64 6.03 12.55 10.37l35.72 140.83 33.16-140.83c.53-3.22 2.94-11.07 12.8-10.24h17.16c2.17-.18 11.11-.5 12.68 10.37l33.42 142.63L420.98 80.1c.48-2.18 2.72-11.37 12.68-10.37h19.72c.85-.13 6.15-.81 5.25 8.58-.43 1.85 3.41-10.66-52.75 169.9-1.15 5.51-4.82 11.09-12.68 10.37h-18.69c-10.94 1.15-12.51-9.66-12.68-10.75L328.67 110.7l-32.78 136.99c-.16 1.09-1.73 11.9-12.68 10.75h-18.3zm273.48 5.63c-5.88.01-33.92-.3-57.36-12.29a12.802 12.802 0 0 1-7.81-11.91v-10.75c0-8.45 6.2-6.9 8.83-5.89 10.04 4.06 16.48 7.14 28.81 9.6 36.65 7.53 52.77-2.3 56.72-4.48 13.15-7.81 14.19-25.68 5.25-34.95-10.48-8.79-15.48-9.12-53.13-21-4.64-1.29-43.7-13.61-43.79-52.36-.61-28.24 25.05-56.18 69.52-55.95 12.67-.01 46.43 4.13 55.57 15.62 1.35 2.09 2.02 4.55 1.92 7.04v10.11c0 4.44-1.62 6.66-4.87 6.66-7.71-.86-21.39-11.17-49.16-10.75-6.89-.36-39.89.91-38.41 24.97-.43 18.96 26.61 26.07 29.7 26.89 36.46 10.97 48.65 12.79 63.12 29.58 17.14 22.25 7.9 48.3 4.35 55.44-19.08 37.49-68.42 34.44-69.26 34.42zm40.2 104.86c-70.03 51.72-171.69 79.25-258.49 79.25A469.127 469.127 0 0 1 2.83 327.46c-6.53-5.89-.77-13.96 7.17-9.47a637.37 637.37 0 0 0 316.88 84.12 630.22 630.22 0 0 0 241.59-49.55c11.78-5 21.77 7.8 10.12 16.38zm29.19-33.29c-8.96-11.52-59.28-5.38-81.81-2.69-6.79.77-7.94-5.12-1.79-9.47 40.07-28.17 105.88-20.1 113.44-10.63 7.55 9.47-2.05 75.41-39.56 106.91-5.76 4.87-11.27 2.3-8.71-4.1 8.44-21.25 27.39-68.49 18.43-80.02z"},child:[]}]})(n)}function HD(n){return Lr({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 32l34.9 395.8L192 480l157.1-52.2L384 32H0zm313.1 80l-4.8 47.3L193 208.6l-.3.1h111.5l-12.8 146.6-98.2 28.7-98.8-29.2-6.4-73.9h48.9l3.2 38.3 52.6 13.3 54.7-15.4 3.7-61.6-166.3-.5v-.1l-.2.1-3.6-46.3L193.1 162l6.5-2.7H76.7L70.9 112h242.2z"},child:[]}]})(n)}function wx(n){return Lr({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(n)}function GD(n){return Lr({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"},child:[]}]})(n)}function WD(n){return Lr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"},child:[]}]})(n)}function Ex(n){return Lr({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function jD(n){return Lr({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 32l34.9 395.8L191.5 480l157.6-52.2L384 32H0zm308.2 127.9H124.4l4.1 49.4h175.6l-13.6 148.4-97.9 27v.3h-1.1l-98.7-27.3-6-75.8h47.7L138 320l53.5 14.5 53.7-14.5 6-62.2H84.3L71.5 112.2h241.1l-4.4 47.7z"},child:[]}]})(n)}function Tx(n){return Lr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function XD(n){return Lr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"},child:[]}]})(n)}function YD(n){return Lr({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"},child:[]}]})(n)}function qD(n){return Lr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const _m="172",ac={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},lc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},LC=0,Ax=1,DC=2,ZD=3,NC=0,uv=1,Ep=2,yo=3,Qa=0,Rr=1,jo=2,Za=0,wc=1,ny=2,Cx=3,bx=4,UC=5,Xl=100,OC=101,FC=102,kC=103,zC=104,BC=200,VC=201,HC=202,GC=203,iy=204,ry=205,WC=206,jC=207,XC=208,YC=209,qC=210,ZC=211,KC=212,$C=213,QC=214,sy=0,oy=1,ay=2,bc=3,ly=4,uy=5,cy=6,fy=7,xm=0,JC=1,eb=2,Zo=0,tb=1,nb=2,ib=3,OS=4,rb=5,sb=6,ob=7,Px="attached",ab="detached",cv=300,Ja=301,Jl=302,Gp=303,Wp=304,Yd=306,jp=1e3,Fs=1001,Xp=1002,Ji=1003,FS=1004,KD=1004,Md=1005,$D=1005,Li=1006,Tp=1007,QD=1007,Xo=1008,JD=1008,wo=1009,kS=1010,zS=1011,kd=1012,fv=1013,el=1014,$r=1015,qd=1016,dv=1017,hv=1018,Pc=1020,BS=35902,VS=1021,HS=1022,hr=1023,GS=1024,WS=1025,Ec=1026,Rc=1027,pv=1028,Sm=1029,jS=1030,mv=1031,eN=1032,gv=1033,Ap=33776,Cp=33777,bp=33778,Pp=33779,dy=35840,hy=35841,py=35842,my=35843,gy=36196,yy=37492,vy=37496,_y=37808,xy=37809,Sy=37810,My=37811,wy=37812,Ey=37813,Ty=37814,Ay=37815,Cy=37816,by=37817,Py=37818,Ry=37819,Iy=37820,Ly=37821,Rp=36492,Dy=36494,Ny=36495,XS=36283,Uy=36284,Oy=36285,Fy=36286,lb=2200,ub=2201,cb=2202,Yp=2300,ky=2301,z0=2302,gc=2400,yc=2401,qp=2402,yv=2500,YS=2501,tN=0,nN=1,iN=2,fb=3200,db=3201,rN=3202,sN=3203,nu=0,hb=1,Wa="",qr="srgb",Ic="srgb-linear",Zp="linear",Pn="srgb",oN=0,uc=7680,aN=7681,lN=7682,uN=7683,cN=34055,fN=34056,dN=5386,hN=512,pN=513,mN=514,gN=515,yN=516,vN=517,_N=518,Rx=519,pb=512,mb=513,gb=514,qS=515,yb=516,vb=517,_b=518,xb=519,Kp=35044,xN=35048,SN=35040,MN=35045,wN=35049,EN=35041,TN=35046,AN=35050,CN=35042,bN="100",Ix="300 es",xo=2e3,$p=2001;let Jo=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};const lr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let aE=1234567;const Tc=Math.PI/180,zd=180/Math.PI;function ms(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(lr[n&255]+lr[n>>8&255]+lr[n>>16&255]+lr[n>>24&255]+"-"+lr[e&255]+lr[e>>8&255]+"-"+lr[e>>16&15|64]+lr[e>>24&255]+"-"+lr[t&63|128]+lr[t>>8&255]+"-"+lr[t>>16&255]+lr[t>>24&255]+lr[i&255]+lr[i>>8&255]+lr[i>>16&255]+lr[i>>24&255]).toLowerCase()}function Yt(n,e,t){return Math.max(e,Math.min(t,n))}function ZS(n,e){return(n%e+e)%e}function PN(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function RN(n,e,t){return n!==e?(t-n)/(e-n):0}function Ip(n,e,t){return(1-t)*n+t*e}function IN(n,e,t,i){return Ip(n,e,1-Math.exp(-t*i))}function LN(n,e=1){return e-Math.abs(ZS(n,e*2)-e)}function DN(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function NN(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function UN(n,e){return n+Math.floor(Math.random()*(e-n+1))}function ON(n,e){return n+Math.random()*(e-n)}function FN(n){return n*(.5-Math.random())}function kN(n){n!==void 0&&(aE=n);let e=aE+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function zN(n){return n*Tc}function BN(n){return n*zd}function VN(n){return(n&n-1)===0&&n!==0}function HN(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function GN(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function WN(n,e,t,i,r){const s=Math.cos,a=Math.sin,u=s(t/2),d=a(t/2),h=s((e+i)/2),m=a((e+i)/2),g=s((e-i)/2),y=a((e-i)/2),_=s((i-e)/2),M=a((i-e)/2);switch(r){case"XYX":n.set(u*m,d*g,d*y,u*h);break;case"YZY":n.set(d*y,u*m,d*g,u*h);break;case"ZXZ":n.set(d*g,d*y,u*m,u*h);break;case"XZX":n.set(u*m,d*M,d*_,u*h);break;case"YXY":n.set(d*_,u*m,d*M,u*h);break;case"ZYZ":n.set(d*M,d*_,u*m,u*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Pr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function en(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const jN={DEG2RAD:Tc,RAD2DEG:zd,generateUUID:ms,clamp:Yt,euclideanModulo:ZS,mapLinear:PN,inverseLerp:RN,lerp:Ip,damp:IN,pingpong:LN,smoothstep:DN,smootherstep:NN,randInt:UN,randFloat:ON,randFloatSpread:FN,seededRandom:kN,degToRad:zN,radToDeg:BN,isPowerOfTwo:VN,ceilPowerOfTwo:HN,floorPowerOfTwo:GN,setQuaternionFromProperEuler:WN,normalize:en,denormalize:Pr};class Le{constructor(e=0,t=0){Le.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Yt(this.x,e.x,t.x),this.y=Yt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Yt(this.x,e,t),this.y=Yt(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Yt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Yt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Kt{constructor(e,t,i,r,s,a,u,d,h){Kt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,u,d,h)}set(e,t,i,r,s,a,u,d,h){const m=this.elements;return m[0]=e,m[1]=r,m[2]=u,m[3]=t,m[4]=s,m[5]=d,m[6]=i,m[7]=a,m[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],u=i[3],d=i[6],h=i[1],m=i[4],g=i[7],y=i[2],_=i[5],M=i[8],T=r[0],E=r[3],S=r[6],b=r[1],C=r[4],I=r[7],U=r[2],N=r[5],F=r[8];return s[0]=a*T+u*b+d*U,s[3]=a*E+u*C+d*N,s[6]=a*S+u*I+d*F,s[1]=h*T+m*b+g*U,s[4]=h*E+m*C+g*N,s[7]=h*S+m*I+g*F,s[2]=y*T+_*b+M*U,s[5]=y*E+_*C+M*N,s[8]=y*S+_*I+M*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],u=e[5],d=e[6],h=e[7],m=e[8];return t*a*m-t*u*h-i*s*m+i*u*d+r*s*h-r*a*d}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],u=e[5],d=e[6],h=e[7],m=e[8],g=m*a-u*h,y=u*d-m*s,_=h*s-a*d,M=t*g+i*y+r*_;if(M===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/M;return e[0]=g*T,e[1]=(r*h-m*i)*T,e[2]=(u*i-r*a)*T,e[3]=y*T,e[4]=(m*t-r*d)*T,e[5]=(r*s-u*t)*T,e[6]=_*T,e[7]=(i*d-h*t)*T,e[8]=(a*t-i*s)*T,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,u){const d=Math.cos(s),h=Math.sin(s);return this.set(i*d,i*h,-i*(d*a+h*u)+a+e,-r*h,r*d,-r*(-h*a+d*u)+u+t,0,0,1),this}scale(e,t){return this.premultiply(W1.makeScale(e,t)),this}rotate(e){return this.premultiply(W1.makeRotation(-e)),this}translate(e,t){return this.premultiply(W1.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const W1=new Kt;function Sb(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const XN={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function wd(n,e){return new XN[n](e)}function Qp(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Mb(){const n=Qp("canvas");return n.style.display="block",n}const lE={};function hd(n){n in lE||(lE[n]=!0,console.warn(n))}function YN(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function qN(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function ZN(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const uE=new Kt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),cE=new Kt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function KN(){const n={enabled:!0,workingColorSpace:Ic,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Pn&&(r.r=Ka(r.r),r.g=Ka(r.g),r.b=Ka(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Pn&&(r.r=Cd(r.r),r.g=Cd(r.g),r.b=Cd(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Wa?Zp:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Ic]:{primaries:e,whitePoint:i,transfer:Zp,toXYZ:uE,fromXYZ:cE,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:qr},outputColorSpaceConfig:{drawingBufferColorSpace:qr}},[qr]:{primaries:e,whitePoint:i,transfer:Pn,toXYZ:uE,fromXYZ:cE,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:qr}}}),n}const vn=KN();function Ka(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Cd(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Yf;class wb{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Yf===void 0&&(Yf=Qp("canvas")),Yf.width=e.width,Yf.height=e.height;const i=Yf.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Yf}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Qp("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=Ka(s[a]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Ka(t[i]/255)*255):t[i]=Ka(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let $N=0;class vc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:$N++}),this.uuid=ms(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,u=r.length;a<u;a++)r[a].isDataTexture?s.push(j1(r[a].image)):s.push(j1(r[a]))}else s=j1(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function j1(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?wb.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let QN=0;class si extends Jo{constructor(e=si.DEFAULT_IMAGE,t=si.DEFAULT_MAPPING,i=Fs,r=Fs,s=Li,a=Xo,u=hr,d=wo,h=si.DEFAULT_ANISOTROPY,m=Wa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:QN++}),this.uuid=ms(),this.name="",this.source=new vc(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=h,this.format=u,this.internalFormat=null,this.type=d,this.offset=new Le(0,0),this.repeat=new Le(1,1),this.center=new Le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Kt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==cv)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case jp:e.x=e.x-Math.floor(e.x);break;case Fs:e.x=e.x<0?0:1;break;case Xp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case jp:e.y=e.y-Math.floor(e.y);break;case Fs:e.y=e.y<0?0:1;break;case Xp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}si.DEFAULT_IMAGE=null;si.DEFAULT_MAPPING=cv;si.DEFAULT_ANISOTROPY=1;class Sn{constructor(e=0,t=0,i=0,r=1){Sn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const d=e.elements,h=d[0],m=d[4],g=d[8],y=d[1],_=d[5],M=d[9],T=d[2],E=d[6],S=d[10];if(Math.abs(m-y)<.01&&Math.abs(g-T)<.01&&Math.abs(M-E)<.01){if(Math.abs(m+y)<.1&&Math.abs(g+T)<.1&&Math.abs(M+E)<.1&&Math.abs(h+_+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(h+1)/2,I=(_+1)/2,U=(S+1)/2,N=(m+y)/4,F=(g+T)/4,B=(M+E)/4;return C>I&&C>U?C<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(C),r=N/i,s=F/i):I>U?I<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(I),i=N/r,s=B/r):U<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(U),i=F/s,r=B/s),this.set(i,r,s,t),this}let b=Math.sqrt((E-M)*(E-M)+(g-T)*(g-T)+(y-m)*(y-m));return Math.abs(b)<.001&&(b=1),this.x=(E-M)/b,this.y=(g-T)/b,this.z=(y-m)/b,this.w=Math.acos((h+_+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Yt(this.x,e.x,t.x),this.y=Yt(this.y,e.y,t.y),this.z=Yt(this.z,e.z,t.z),this.w=Yt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Yt(this.x,e,t),this.y=Yt(this.y,e,t),this.z=Yt(this.z,e,t),this.w=Yt(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Yt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class vv extends Jo{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Sn(0,0,e,t),this.scissorTest=!1,this.viewport=new Sn(0,0,e,t);const r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Li,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const s=new si(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const a=i.count;for(let u=0;u<a;u++)this.textures[u]=s.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0,this.textures[i].renderTarget=this;const t=Object.assign({},e.texture.image);return this.texture.source=new vc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Qo extends vv{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Mm extends si{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ji,this.minFilter=Ji,this.wrapR=Fs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class JN extends Qo{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Mm(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class _v extends si{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ji,this.minFilter=Ji,this.wrapR=Fs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class e8 extends Qo{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new _v(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class pr{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,u){let d=i[r+0],h=i[r+1],m=i[r+2],g=i[r+3];const y=s[a+0],_=s[a+1],M=s[a+2],T=s[a+3];if(u===0){e[t+0]=d,e[t+1]=h,e[t+2]=m,e[t+3]=g;return}if(u===1){e[t+0]=y,e[t+1]=_,e[t+2]=M,e[t+3]=T;return}if(g!==T||d!==y||h!==_||m!==M){let E=1-u;const S=d*y+h*_+m*M+g*T,b=S>=0?1:-1,C=1-S*S;if(C>Number.EPSILON){const U=Math.sqrt(C),N=Math.atan2(U,S*b);E=Math.sin(E*N)/U,u=Math.sin(u*N)/U}const I=u*b;if(d=d*E+y*I,h=h*E+_*I,m=m*E+M*I,g=g*E+T*I,E===1-u){const U=1/Math.sqrt(d*d+h*h+m*m+g*g);d*=U,h*=U,m*=U,g*=U}}e[t]=d,e[t+1]=h,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,i,r,s,a){const u=i[r],d=i[r+1],h=i[r+2],m=i[r+3],g=s[a],y=s[a+1],_=s[a+2],M=s[a+3];return e[t]=u*M+m*g+d*_-h*y,e[t+1]=d*M+m*y+h*g-u*_,e[t+2]=h*M+m*_+u*y-d*g,e[t+3]=m*M-u*g-d*y-h*_,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,a=e._order,u=Math.cos,d=Math.sin,h=u(i/2),m=u(r/2),g=u(s/2),y=d(i/2),_=d(r/2),M=d(s/2);switch(a){case"XYZ":this._x=y*m*g+h*_*M,this._y=h*_*g-y*m*M,this._z=h*m*M+y*_*g,this._w=h*m*g-y*_*M;break;case"YXZ":this._x=y*m*g+h*_*M,this._y=h*_*g-y*m*M,this._z=h*m*M-y*_*g,this._w=h*m*g+y*_*M;break;case"ZXY":this._x=y*m*g-h*_*M,this._y=h*_*g+y*m*M,this._z=h*m*M+y*_*g,this._w=h*m*g-y*_*M;break;case"ZYX":this._x=y*m*g-h*_*M,this._y=h*_*g+y*m*M,this._z=h*m*M-y*_*g,this._w=h*m*g+y*_*M;break;case"YZX":this._x=y*m*g+h*_*M,this._y=h*_*g+y*m*M,this._z=h*m*M-y*_*g,this._w=h*m*g-y*_*M;break;case"XZY":this._x=y*m*g-h*_*M,this._y=h*_*g-y*m*M,this._z=h*m*M+y*_*g,this._w=h*m*g+y*_*M;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],u=t[5],d=t[9],h=t[2],m=t[6],g=t[10],y=i+u+g;if(y>0){const _=.5/Math.sqrt(y+1);this._w=.25/_,this._x=(m-d)*_,this._y=(s-h)*_,this._z=(a-r)*_}else if(i>u&&i>g){const _=2*Math.sqrt(1+i-u-g);this._w=(m-d)/_,this._x=.25*_,this._y=(r+a)/_,this._z=(s+h)/_}else if(u>g){const _=2*Math.sqrt(1+u-i-g);this._w=(s-h)/_,this._x=(r+a)/_,this._y=.25*_,this._z=(d+m)/_}else{const _=2*Math.sqrt(1+g-i-u);this._w=(a-r)/_,this._x=(s+h)/_,this._y=(d+m)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Yt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,u=t._x,d=t._y,h=t._z,m=t._w;return this._x=i*m+a*u+r*h-s*d,this._y=r*m+a*d+s*u-i*h,this._z=s*m+a*h+i*d-r*u,this._w=a*m-i*u-r*d-s*h,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let u=a*e._w+i*e._x+r*e._y+s*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const d=1-u*u;if(d<=Number.EPSILON){const _=1-t;return this._w=_*a+t*this._w,this._x=_*i+t*this._x,this._y=_*r+t*this._y,this._z=_*s+t*this._z,this.normalize(),this}const h=Math.sqrt(d),m=Math.atan2(h,u),g=Math.sin((1-t)*m)/h,y=Math.sin(t*m)/h;return this._w=a*g+this._w*y,this._x=i*g+this._x*y,this._y=r*g+this._y*y,this._z=s*g+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class X{constructor(e=0,t=0,i=0){X.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(fE.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(fE.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,u=e.z,d=e.w,h=2*(a*r-u*i),m=2*(u*t-s*r),g=2*(s*i-a*t);return this.x=t+d*h+a*g-u*m,this.y=i+d*m+u*h-s*g,this.z=r+d*g+s*m-a*h,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Yt(this.x,e.x,t.x),this.y=Yt(this.y,e.y,t.y),this.z=Yt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Yt(this.x,e,t),this.y=Yt(this.y,e,t),this.z=Yt(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Yt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,u=t.y,d=t.z;return this.x=r*d-s*u,this.y=s*a-i*d,this.z=i*u-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return X1.copy(this).projectOnVector(e),this.sub(X1)}reflect(e){return this.sub(X1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Yt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const X1=new X,fE=new pr;class Ir{constructor(e=new X(1/0,1/0,1/0),t=new X(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(ho.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(ho.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=ho.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,u=s.count;a<u;a++)e.isMesh===!0?e.getVertexPosition(a,ho):ho.fromBufferAttribute(s,a),ho.applyMatrix4(e.matrixWorld),this.expandByPoint(ho);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Ng.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Ng.copy(i.boundingBox)),Ng.applyMatrix4(e.matrixWorld),this.union(Ng)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,ho),ho.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(qh),Ug.subVectors(this.max,qh),qf.subVectors(e.a,qh),Zf.subVectors(e.b,qh),Kf.subVectors(e.c,qh),Ul.subVectors(Zf,qf),Ol.subVectors(Kf,Zf),Xu.subVectors(qf,Kf);let t=[0,-Ul.z,Ul.y,0,-Ol.z,Ol.y,0,-Xu.z,Xu.y,Ul.z,0,-Ul.x,Ol.z,0,-Ol.x,Xu.z,0,-Xu.x,-Ul.y,Ul.x,0,-Ol.y,Ol.x,0,-Xu.y,Xu.x,0];return!Y1(t,qf,Zf,Kf,Ug)||(t=[1,0,0,0,1,0,0,0,1],!Y1(t,qf,Zf,Kf,Ug))?!1:(Og.crossVectors(Ul,Ol),t=[Og.x,Og.y,Og.z],Y1(t,qf,Zf,Kf,Ug))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ho).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ho).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Na[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Na[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Na[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Na[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Na[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Na[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Na[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Na[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Na),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Na=[new X,new X,new X,new X,new X,new X,new X,new X],ho=new X,Ng=new Ir,qf=new X,Zf=new X,Kf=new X,Ul=new X,Ol=new X,Xu=new X,qh=new X,Ug=new X,Og=new X,Yu=new X;function Y1(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){Yu.fromArray(n,s);const u=r.x*Math.abs(Yu.x)+r.y*Math.abs(Yu.y)+r.z*Math.abs(Yu.z),d=e.dot(Yu),h=t.dot(Yu),m=i.dot(Yu);if(Math.max(-Math.max(d,h,m),Math.min(d,h,m))>u)return!1}return!0}const t8=new Ir,Zh=new X,q1=new X;class mr{constructor(e=new X,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):t8.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Zh.subVectors(e,this.center);const t=Zh.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Zh,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(q1.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Zh.copy(e.center).add(q1)),this.expandByPoint(Zh.copy(e.center).sub(q1))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ua=new X,Z1=new X,Fg=new X,Fl=new X,K1=new X,kg=new X,$1=new X;class Oc{constructor(e=new X,t=new X(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ua)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ua.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ua.copy(this.origin).addScaledVector(this.direction,t),Ua.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Z1.copy(e).add(t).multiplyScalar(.5),Fg.copy(t).sub(e).normalize(),Fl.copy(this.origin).sub(Z1);const s=e.distanceTo(t)*.5,a=-this.direction.dot(Fg),u=Fl.dot(this.direction),d=-Fl.dot(Fg),h=Fl.lengthSq(),m=Math.abs(1-a*a);let g,y,_,M;if(m>0)if(g=a*d-u,y=a*u-d,M=s*m,g>=0)if(y>=-M)if(y<=M){const T=1/m;g*=T,y*=T,_=g*(g+a*y+2*u)+y*(a*g+y+2*d)+h}else y=s,g=Math.max(0,-(a*y+u)),_=-g*g+y*(y+2*d)+h;else y=-s,g=Math.max(0,-(a*y+u)),_=-g*g+y*(y+2*d)+h;else y<=-M?(g=Math.max(0,-(-a*s+u)),y=g>0?-s:Math.min(Math.max(-s,-d),s),_=-g*g+y*(y+2*d)+h):y<=M?(g=0,y=Math.min(Math.max(-s,-d),s),_=y*(y+2*d)+h):(g=Math.max(0,-(a*s+u)),y=g>0?s:Math.min(Math.max(-s,-d),s),_=-g*g+y*(y+2*d)+h);else y=a>0?-s:s,g=Math.max(0,-(a*y+u)),_=-g*g+y*(y+2*d)+h;return i&&i.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(Z1).addScaledVector(Fg,y),_}intersectSphere(e,t){Ua.subVectors(e.center,this.origin);const i=Ua.dot(this.direction),r=Ua.dot(Ua)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),u=i-a,d=i+a;return d<0?null:u<0?this.at(d,t):this.at(u,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,u,d;const h=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,y=this.origin;return h>=0?(i=(e.min.x-y.x)*h,r=(e.max.x-y.x)*h):(i=(e.max.x-y.x)*h,r=(e.min.x-y.x)*h),m>=0?(s=(e.min.y-y.y)*m,a=(e.max.y-y.y)*m):(s=(e.max.y-y.y)*m,a=(e.min.y-y.y)*m),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),g>=0?(u=(e.min.z-y.z)*g,d=(e.max.z-y.z)*g):(u=(e.max.z-y.z)*g,d=(e.min.z-y.z)*g),i>d||u>r)||((u>i||i!==i)&&(i=u),(d<r||r!==r)&&(r=d),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ua)!==null}intersectTriangle(e,t,i,r,s){K1.subVectors(t,e),kg.subVectors(i,e),$1.crossVectors(K1,kg);let a=this.direction.dot($1),u;if(a>0){if(r)return null;u=1}else if(a<0)u=-1,a=-a;else return null;Fl.subVectors(this.origin,e);const d=u*this.direction.dot(kg.crossVectors(Fl,kg));if(d<0)return null;const h=u*this.direction.dot(K1.cross(Fl));if(h<0||d+h>a)return null;const m=-u*Fl.dot($1);return m<0?null:this.at(m/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Vt{constructor(e,t,i,r,s,a,u,d,h,m,g,y,_,M,T,E){Vt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,u,d,h,m,g,y,_,M,T,E)}set(e,t,i,r,s,a,u,d,h,m,g,y,_,M,T,E){const S=this.elements;return S[0]=e,S[4]=t,S[8]=i,S[12]=r,S[1]=s,S[5]=a,S[9]=u,S[13]=d,S[2]=h,S[6]=m,S[10]=g,S[14]=y,S[3]=_,S[7]=M,S[11]=T,S[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Vt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/$f.setFromMatrixColumn(e,0).length(),s=1/$f.setFromMatrixColumn(e,1).length(),a=1/$f.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),u=Math.sin(i),d=Math.cos(r),h=Math.sin(r),m=Math.cos(s),g=Math.sin(s);if(e.order==="XYZ"){const y=a*m,_=a*g,M=u*m,T=u*g;t[0]=d*m,t[4]=-d*g,t[8]=h,t[1]=_+M*h,t[5]=y-T*h,t[9]=-u*d,t[2]=T-y*h,t[6]=M+_*h,t[10]=a*d}else if(e.order==="YXZ"){const y=d*m,_=d*g,M=h*m,T=h*g;t[0]=y+T*u,t[4]=M*u-_,t[8]=a*h,t[1]=a*g,t[5]=a*m,t[9]=-u,t[2]=_*u-M,t[6]=T+y*u,t[10]=a*d}else if(e.order==="ZXY"){const y=d*m,_=d*g,M=h*m,T=h*g;t[0]=y-T*u,t[4]=-a*g,t[8]=M+_*u,t[1]=_+M*u,t[5]=a*m,t[9]=T-y*u,t[2]=-a*h,t[6]=u,t[10]=a*d}else if(e.order==="ZYX"){const y=a*m,_=a*g,M=u*m,T=u*g;t[0]=d*m,t[4]=M*h-_,t[8]=y*h+T,t[1]=d*g,t[5]=T*h+y,t[9]=_*h-M,t[2]=-h,t[6]=u*d,t[10]=a*d}else if(e.order==="YZX"){const y=a*d,_=a*h,M=u*d,T=u*h;t[0]=d*m,t[4]=T-y*g,t[8]=M*g+_,t[1]=g,t[5]=a*m,t[9]=-u*m,t[2]=-h*m,t[6]=_*g+M,t[10]=y-T*g}else if(e.order==="XZY"){const y=a*d,_=a*h,M=u*d,T=u*h;t[0]=d*m,t[4]=-g,t[8]=h*m,t[1]=y*g+T,t[5]=a*m,t[9]=_*g-M,t[2]=M*g-_,t[6]=u*m,t[10]=T*g+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(n8,e,i8)}lookAt(e,t,i){const r=this.elements;return fs.subVectors(e,t),fs.lengthSq()===0&&(fs.z=1),fs.normalize(),kl.crossVectors(i,fs),kl.lengthSq()===0&&(Math.abs(i.z)===1?fs.x+=1e-4:fs.z+=1e-4,fs.normalize(),kl.crossVectors(i,fs)),kl.normalize(),zg.crossVectors(fs,kl),r[0]=kl.x,r[4]=zg.x,r[8]=fs.x,r[1]=kl.y,r[5]=zg.y,r[9]=fs.y,r[2]=kl.z,r[6]=zg.z,r[10]=fs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],u=i[4],d=i[8],h=i[12],m=i[1],g=i[5],y=i[9],_=i[13],M=i[2],T=i[6],E=i[10],S=i[14],b=i[3],C=i[7],I=i[11],U=i[15],N=r[0],F=r[4],B=r[8],O=r[12],D=r[1],H=r[5],ne=r[9],ee=r[13],pe=r[2],Me=r[6],he=r[10],me=r[14],G=r[3],te=r[7],$=r[11],W=r[15];return s[0]=a*N+u*D+d*pe+h*G,s[4]=a*F+u*H+d*Me+h*te,s[8]=a*B+u*ne+d*he+h*$,s[12]=a*O+u*ee+d*me+h*W,s[1]=m*N+g*D+y*pe+_*G,s[5]=m*F+g*H+y*Me+_*te,s[9]=m*B+g*ne+y*he+_*$,s[13]=m*O+g*ee+y*me+_*W,s[2]=M*N+T*D+E*pe+S*G,s[6]=M*F+T*H+E*Me+S*te,s[10]=M*B+T*ne+E*he+S*$,s[14]=M*O+T*ee+E*me+S*W,s[3]=b*N+C*D+I*pe+U*G,s[7]=b*F+C*H+I*Me+U*te,s[11]=b*B+C*ne+I*he+U*$,s[15]=b*O+C*ee+I*me+U*W,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],u=e[5],d=e[9],h=e[13],m=e[2],g=e[6],y=e[10],_=e[14],M=e[3],T=e[7],E=e[11],S=e[15];return M*(+s*d*g-r*h*g-s*u*y+i*h*y+r*u*_-i*d*_)+T*(+t*d*_-t*h*y+s*a*y-r*a*_+r*h*m-s*d*m)+E*(+t*h*g-t*u*_-s*a*g+i*a*_+s*u*m-i*h*m)+S*(-r*u*m-t*d*g+t*u*y+r*a*g-i*a*y+i*d*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],u=e[5],d=e[6],h=e[7],m=e[8],g=e[9],y=e[10],_=e[11],M=e[12],T=e[13],E=e[14],S=e[15],b=g*E*h-T*y*h+T*d*_-u*E*_-g*d*S+u*y*S,C=M*y*h-m*E*h-M*d*_+a*E*_+m*d*S-a*y*S,I=m*T*h-M*g*h+M*u*_-a*T*_-m*u*S+a*g*S,U=M*g*d-m*T*d-M*u*y+a*T*y+m*u*E-a*g*E,N=t*b+i*C+r*I+s*U;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/N;return e[0]=b*F,e[1]=(T*y*s-g*E*s-T*r*_+i*E*_+g*r*S-i*y*S)*F,e[2]=(u*E*s-T*d*s+T*r*h-i*E*h-u*r*S+i*d*S)*F,e[3]=(g*d*s-u*y*s-g*r*h+i*y*h+u*r*_-i*d*_)*F,e[4]=C*F,e[5]=(m*E*s-M*y*s+M*r*_-t*E*_-m*r*S+t*y*S)*F,e[6]=(M*d*s-a*E*s-M*r*h+t*E*h+a*r*S-t*d*S)*F,e[7]=(a*y*s-m*d*s+m*r*h-t*y*h-a*r*_+t*d*_)*F,e[8]=I*F,e[9]=(M*g*s-m*T*s-M*i*_+t*T*_+m*i*S-t*g*S)*F,e[10]=(a*T*s-M*u*s+M*i*h-t*T*h-a*i*S+t*u*S)*F,e[11]=(m*u*s-a*g*s-m*i*h+t*g*h+a*i*_-t*u*_)*F,e[12]=U*F,e[13]=(m*T*r-M*g*r+M*i*y-t*T*y-m*i*E+t*g*E)*F,e[14]=(M*u*r-a*T*r-M*i*d+t*T*d+a*i*E-t*u*E)*F,e[15]=(a*g*r-m*u*r+m*i*d-t*g*d-a*i*y+t*u*y)*F,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,u=e.y,d=e.z,h=s*a,m=s*u;return this.set(h*a+i,h*u-r*d,h*d+r*u,0,h*u+r*d,m*u+i,m*d-r*a,0,h*d-r*u,m*d+r*a,s*d*d+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,u=t._z,d=t._w,h=s+s,m=a+a,g=u+u,y=s*h,_=s*m,M=s*g,T=a*m,E=a*g,S=u*g,b=d*h,C=d*m,I=d*g,U=i.x,N=i.y,F=i.z;return r[0]=(1-(T+S))*U,r[1]=(_+I)*U,r[2]=(M-C)*U,r[3]=0,r[4]=(_-I)*N,r[5]=(1-(y+S))*N,r[6]=(E+b)*N,r[7]=0,r[8]=(M+C)*F,r[9]=(E-b)*F,r[10]=(1-(y+T))*F,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=$f.set(r[0],r[1],r[2]).length();const a=$f.set(r[4],r[5],r[6]).length(),u=$f.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],po.copy(this);const h=1/s,m=1/a,g=1/u;return po.elements[0]*=h,po.elements[1]*=h,po.elements[2]*=h,po.elements[4]*=m,po.elements[5]*=m,po.elements[6]*=m,po.elements[8]*=g,po.elements[9]*=g,po.elements[10]*=g,t.setFromRotationMatrix(po),i.x=s,i.y=a,i.z=u,this}makePerspective(e,t,i,r,s,a,u=xo){const d=this.elements,h=2*s/(t-e),m=2*s/(i-r),g=(t+e)/(t-e),y=(i+r)/(i-r);let _,M;if(u===xo)_=-(a+s)/(a-s),M=-2*a*s/(a-s);else if(u===$p)_=-a/(a-s),M=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return d[0]=h,d[4]=0,d[8]=g,d[12]=0,d[1]=0,d[5]=m,d[9]=y,d[13]=0,d[2]=0,d[6]=0,d[10]=_,d[14]=M,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,t,i,r,s,a,u=xo){const d=this.elements,h=1/(t-e),m=1/(i-r),g=1/(a-s),y=(t+e)*h,_=(i+r)*m;let M,T;if(u===xo)M=(a+s)*g,T=-2*g;else if(u===$p)M=s*g,T=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return d[0]=2*h,d[4]=0,d[8]=0,d[12]=-y,d[1]=0,d[5]=2*m,d[9]=0,d[13]=-_,d[2]=0,d[6]=0,d[10]=T,d[14]=-M,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const $f=new X,po=new Vt,n8=new X(0,0,0),i8=new X(1,1,1),kl=new X,zg=new X,fs=new X,dE=new Vt,hE=new pr;class ys{constructor(e=0,t=0,i=0,r=ys.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],u=r[8],d=r[1],h=r[5],m=r[9],g=r[2],y=r[6],_=r[10];switch(t){case"XYZ":this._y=Math.asin(Yt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,_),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(y,h),this._z=0);break;case"YXZ":this._x=Math.asin(-Yt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(u,_),this._z=Math.atan2(d,h)):(this._y=Math.atan2(-g,s),this._z=0);break;case"ZXY":this._x=Math.asin(Yt(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,_),this._z=Math.atan2(-a,h)):(this._y=0,this._z=Math.atan2(d,s));break;case"ZYX":this._y=Math.asin(-Yt(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,_),this._z=Math.atan2(d,s)):(this._x=0,this._z=Math.atan2(-a,h));break;case"YZX":this._z=Math.asin(Yt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-m,h),this._y=Math.atan2(-g,s)):(this._x=0,this._y=Math.atan2(u,_));break;case"XZY":this._z=Math.asin(-Yt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(y,h),this._y=Math.atan2(u,s)):(this._x=Math.atan2(-m,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return dE.makeRotationFromQuaternion(e),this.setFromRotationMatrix(dE,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return hE.setFromEuler(this),this.setFromQuaternion(hE,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ys.DEFAULT_ORDER="XYZ";class Ac{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let r8=0;const pE=new X,Qf=new pr,Oa=new Vt,Bg=new X,Kh=new X,s8=new X,o8=new pr,mE=new X(1,0,0),gE=new X(0,1,0),yE=new X(0,0,1),vE={type:"added"},a8={type:"removed"},Jf={type:"childadded",child:null},Q1={type:"childremoved",child:null};class Mn extends Jo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:r8++}),this.uuid=ms(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mn.DEFAULT_UP.clone();const e=new X,t=new ys,i=new pr,r=new X(1,1,1);function s(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Vt},normalMatrix:{value:new Kt}}),this.matrix=new Vt,this.matrixWorld=new Vt,this.matrixAutoUpdate=Mn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ac,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Qf.setFromAxisAngle(e,t),this.quaternion.multiply(Qf),this}rotateOnWorldAxis(e,t){return Qf.setFromAxisAngle(e,t),this.quaternion.premultiply(Qf),this}rotateX(e){return this.rotateOnAxis(mE,e)}rotateY(e){return this.rotateOnAxis(gE,e)}rotateZ(e){return this.rotateOnAxis(yE,e)}translateOnAxis(e,t){return pE.copy(e).applyQuaternion(this.quaternion),this.position.add(pE.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(mE,e)}translateY(e){return this.translateOnAxis(gE,e)}translateZ(e){return this.translateOnAxis(yE,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Oa.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Bg.copy(e):Bg.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Kh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Oa.lookAt(Kh,Bg,this.up):Oa.lookAt(Bg,Kh,this.up),this.quaternion.setFromRotationMatrix(Oa),r&&(Oa.extractRotation(r.matrixWorld),Qf.setFromRotationMatrix(Oa),this.quaternion.premultiply(Qf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(vE),Jf.child=e,this.dispatchEvent(Jf),Jf.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(a8),Q1.child=e,this.dispatchEvent(Q1),Q1.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Oa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Oa.multiply(e.parent.matrixWorld)),e.applyMatrix4(Oa),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(vE),Jf.child=e,this.dispatchEvent(Jf),Jf.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Kh,e,s8),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Kh,o8,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(u=>({boxInitialized:u.boxInitialized,boxMin:u.box.min.toArray(),boxMax:u.box.max.toArray(),sphereInitialized:u.sphereInitialized,sphereRadius:u.sphere.radius,sphereCenter:u.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(u,d){return u[d.uuid]===void 0&&(u[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const d=u.shapes;if(Array.isArray(d))for(let h=0,m=d.length;h<m;h++){const g=d[h];s(e.shapes,g)}else s(e.shapes,d)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let d=0,h=this.material.length;d<h;d++)u.push(s(e.materials,this.material[d]));r.material=u}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let u=0;u<this.children.length;u++)r.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let u=0;u<this.animations.length;u++){const d=this.animations[u];r.animations.push(s(e.animations,d))}}if(t){const u=a(e.geometries),d=a(e.materials),h=a(e.textures),m=a(e.images),g=a(e.shapes),y=a(e.skeletons),_=a(e.animations),M=a(e.nodes);u.length>0&&(i.geometries=u),d.length>0&&(i.materials=d),h.length>0&&(i.textures=h),m.length>0&&(i.images=m),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),_.length>0&&(i.animations=_),M.length>0&&(i.nodes=M)}return i.object=r,i;function a(u){const d=[];for(const h in u){const m=u[h];delete m.metadata,d.push(m)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Mn.DEFAULT_UP=new X(0,1,0);Mn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const mo=new X,Fa=new X,J1=new X,ka=new X,ed=new X,td=new X,_E=new X,e_=new X,t_=new X,n_=new X,i_=new Sn,r_=new Sn,s_=new Sn;class Zr{constructor(e=new X,t=new X,i=new X){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),mo.subVectors(e,t),r.cross(mo);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){mo.subVectors(r,t),Fa.subVectors(i,t),J1.subVectors(e,t);const a=mo.dot(mo),u=mo.dot(Fa),d=mo.dot(J1),h=Fa.dot(Fa),m=Fa.dot(J1),g=a*h-u*u;if(g===0)return s.set(0,0,0),null;const y=1/g,_=(h*d-u*m)*y,M=(a*m-u*d)*y;return s.set(1-_-M,M,_)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,ka)===null?!1:ka.x>=0&&ka.y>=0&&ka.x+ka.y<=1}static getInterpolation(e,t,i,r,s,a,u,d){return this.getBarycoord(e,t,i,r,ka)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(s,ka.x),d.addScaledVector(a,ka.y),d.addScaledVector(u,ka.z),d)}static getInterpolatedAttribute(e,t,i,r,s,a){return i_.setScalar(0),r_.setScalar(0),s_.setScalar(0),i_.fromBufferAttribute(e,t),r_.fromBufferAttribute(e,i),s_.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(i_,s.x),a.addScaledVector(r_,s.y),a.addScaledVector(s_,s.z),a}static isFrontFacing(e,t,i,r){return mo.subVectors(i,t),Fa.subVectors(e,t),mo.cross(Fa).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return mo.subVectors(this.c,this.b),Fa.subVectors(this.a,this.b),mo.cross(Fa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Zr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Zr.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return Zr.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Zr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Zr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,u;ed.subVectors(r,i),td.subVectors(s,i),e_.subVectors(e,i);const d=ed.dot(e_),h=td.dot(e_);if(d<=0&&h<=0)return t.copy(i);t_.subVectors(e,r);const m=ed.dot(t_),g=td.dot(t_);if(m>=0&&g<=m)return t.copy(r);const y=d*g-m*h;if(y<=0&&d>=0&&m<=0)return a=d/(d-m),t.copy(i).addScaledVector(ed,a);n_.subVectors(e,s);const _=ed.dot(n_),M=td.dot(n_);if(M>=0&&_<=M)return t.copy(s);const T=_*h-d*M;if(T<=0&&h>=0&&M<=0)return u=h/(h-M),t.copy(i).addScaledVector(td,u);const E=m*M-_*g;if(E<=0&&g-m>=0&&_-M>=0)return _E.subVectors(s,r),u=(g-m)/(g-m+(_-M)),t.copy(r).addScaledVector(_E,u);const S=1/(E+T+y);return a=T*S,u=y*S,t.copy(i).addScaledVector(ed,a).addScaledVector(td,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Eb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},zl={h:0,s:0,l:0},Vg={h:0,s:0,l:0};function o_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class pt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=qr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,vn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=vn.workingColorSpace){return this.r=e,this.g=t,this.b=i,vn.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=vn.workingColorSpace){if(e=ZS(e,1),t=Yt(t,0,1),i=Yt(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=o_(a,s,e+1/3),this.g=o_(a,s,e),this.b=o_(a,s,e-1/3)}return vn.toWorkingColorSpace(this,r),this}setStyle(e,t=qr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],u=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=qr){const i=Eb[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ka(e.r),this.g=Ka(e.g),this.b=Ka(e.b),this}copyLinearToSRGB(e){return this.r=Cd(e.r),this.g=Cd(e.g),this.b=Cd(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=qr){return vn.fromWorkingColorSpace(ur.copy(this),e),Math.round(Yt(ur.r*255,0,255))*65536+Math.round(Yt(ur.g*255,0,255))*256+Math.round(Yt(ur.b*255,0,255))}getHexString(e=qr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=vn.workingColorSpace){vn.fromWorkingColorSpace(ur.copy(this),t);const i=ur.r,r=ur.g,s=ur.b,a=Math.max(i,r,s),u=Math.min(i,r,s);let d,h;const m=(u+a)/2;if(u===a)d=0,h=0;else{const g=a-u;switch(h=m<=.5?g/(a+u):g/(2-a-u),a){case i:d=(r-s)/g+(r<s?6:0);break;case r:d=(s-i)/g+2;break;case s:d=(i-r)/g+4;break}d/=6}return e.h=d,e.s=h,e.l=m,e}getRGB(e,t=vn.workingColorSpace){return vn.fromWorkingColorSpace(ur.copy(this),t),e.r=ur.r,e.g=ur.g,e.b=ur.b,e}getStyle(e=qr){vn.fromWorkingColorSpace(ur.copy(this),e);const t=ur.r,i=ur.g,r=ur.b;return e!==qr?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(zl),this.setHSL(zl.h+e,zl.s+t,zl.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(zl),e.getHSL(Vg);const i=Ip(zl.h,Vg.h,t),r=Ip(zl.s,Vg.s,t),s=Ip(zl.l,Vg.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ur=new pt;pt.NAMES=Eb;let l8=0;class gr extends Jo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:l8++}),this.uuid=ms(),this.name="",this.type="Material",this.blending=wc,this.side=Qa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=iy,this.blendDst=ry,this.blendEquation=Xl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new pt(0,0,0),this.blendAlpha=0,this.depthFunc=bc,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Rx,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=uc,this.stencilZFail=uc,this.stencilZPass=uc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==wc&&(i.blending=this.blending),this.side!==Qa&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==iy&&(i.blendSrc=this.blendSrc),this.blendDst!==ry&&(i.blendDst=this.blendDst),this.blendEquation!==Xl&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==bc&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Rx&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==uc&&(i.stencilFail=this.stencilFail),this.stencilZFail!==uc&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==uc&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const u in s){const d=s[u];delete d.metadata,a.push(d)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class iu extends gr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ys,this.combine=xm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ja=u8();function u8(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let d=0;d<256;++d){const h=d-127;h<-27?(i[d]=0,i[d|256]=32768,r[d]=24,r[d|256]=24):h<-14?(i[d]=1024>>-h-14,i[d|256]=1024>>-h-14|32768,r[d]=-h-1,r[d|256]=-h-1):h<=15?(i[d]=h+15<<10,i[d|256]=h+15<<10|32768,r[d]=13,r[d|256]=13):h<128?(i[d]=31744,i[d|256]=64512,r[d]=24,r[d|256]=24):(i[d]=31744,i[d|256]=64512,r[d]=13,r[d|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),u=new Uint32Array(64);for(let d=1;d<1024;++d){let h=d<<13,m=0;for(;!(h&8388608);)h<<=1,m-=8388608;h&=-8388609,m+=947912704,s[d]=h|m}for(let d=1024;d<2048;++d)s[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)a[d]=d<<23;a[31]=1199570944,a[32]=2147483648;for(let d=33;d<63;++d)a[d]=2147483648+(d-32<<23);a[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(u[d]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:u}}function Yr(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Yt(n,-65504,65504),ja.floatView[0]=n;const e=ja.uint32View[0],t=e>>23&511;return ja.baseTable[t]+((e&8388607)>>ja.shiftTable[t])}function mp(n){const e=n>>10;return ja.uint32View[0]=ja.mantissaTable[ja.offsetTable[e]+(n&1023)]+ja.exponentTable[e],ja.floatView[0]}const c8={toHalfFloat:Yr,fromHalfFloat:mp},xi=new X,Hg=new Le;class Nn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Kp,this.updateRanges=[],this.gpuType=$r,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Hg.fromBufferAttribute(this,t),Hg.applyMatrix3(e),this.setXY(t,Hg.x,Hg.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)xi.fromBufferAttribute(this,t),xi.applyMatrix3(e),this.setXYZ(t,xi.x,xi.y,xi.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)xi.fromBufferAttribute(this,t),xi.applyMatrix4(e),this.setXYZ(t,xi.x,xi.y,xi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)xi.fromBufferAttribute(this,t),xi.applyNormalMatrix(e),this.setXYZ(t,xi.x,xi.y,xi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)xi.fromBufferAttribute(this,t),xi.transformDirection(e),this.setXYZ(t,xi.x,xi.y,xi.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Pr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=en(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Pr(t,this.array)),t}setX(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Pr(t,this.array)),t}setY(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Pr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Pr(t,this.array)),t}setW(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=en(t,this.array),i=en(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=en(t,this.array),i=en(i,this.array),r=en(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=en(t,this.array),i=en(i,this.array),r=en(r,this.array),s=en(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Kp&&(e.usage=this.usage),e}}class f8 extends Nn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class d8 extends Nn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class h8 extends Nn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class p8 extends Nn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class KS extends Nn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class m8 extends Nn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class $S extends Nn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class g8 extends Nn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=mp(this.array[e*this.itemSize]);return this.normalized&&(t=Pr(t,this.array)),t}setX(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize]=Yr(t),this}getY(e){let t=mp(this.array[e*this.itemSize+1]);return this.normalized&&(t=Pr(t,this.array)),t}setY(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize+1]=Yr(t),this}getZ(e){let t=mp(this.array[e*this.itemSize+2]);return this.normalized&&(t=Pr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize+2]=Yr(t),this}getW(e){let t=mp(this.array[e*this.itemSize+3]);return this.normalized&&(t=Pr(t,this.array)),t}setW(e,t){return this.normalized&&(t=en(t,this.array)),this.array[e*this.itemSize+3]=Yr(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=en(t,this.array),i=en(i,this.array)),this.array[e+0]=Yr(t),this.array[e+1]=Yr(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=en(t,this.array),i=en(i,this.array),r=en(r,this.array)),this.array[e+0]=Yr(t),this.array[e+1]=Yr(i),this.array[e+2]=Yr(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=en(t,this.array),i=en(i,this.array),r=en(r,this.array),s=en(s,this.array)),this.array[e+0]=Yr(t),this.array[e+1]=Yr(i),this.array[e+2]=Yr(r),this.array[e+3]=Yr(s),this}}class At extends Nn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let y8=0;const Ds=new Vt,a_=new Mn,nd=new X,ds=new Ir,$h=new Ir,Vi=new X;class sn extends Jo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:y8++}),this.uuid=ms(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Sb(e)?$S:KS)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Kt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ds.makeRotationFromQuaternion(e),this.applyMatrix4(Ds),this}rotateX(e){return Ds.makeRotationX(e),this.applyMatrix4(Ds),this}rotateY(e){return Ds.makeRotationY(e),this.applyMatrix4(Ds),this}rotateZ(e){return Ds.makeRotationZ(e),this.applyMatrix4(Ds),this}translate(e,t,i){return Ds.makeTranslation(e,t,i),this.applyMatrix4(Ds),this}scale(e,t,i){return Ds.makeScale(e,t,i),this.applyMatrix4(Ds),this}lookAt(e){return a_.lookAt(e),a_.updateMatrix(),this.applyMatrix4(a_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(nd).negate(),this.translate(nd.x,nd.y,nd.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new At(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ir);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new X(-1/0,-1/0,-1/0),new X(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];ds.setFromBufferAttribute(s),this.morphTargetsRelative?(Vi.addVectors(this.boundingBox.min,ds.min),this.boundingBox.expandByPoint(Vi),Vi.addVectors(this.boundingBox.max,ds.max),this.boundingBox.expandByPoint(Vi)):(this.boundingBox.expandByPoint(ds.min),this.boundingBox.expandByPoint(ds.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new mr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new X,1/0);return}if(e){const i=this.boundingSphere.center;if(ds.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const u=t[s];$h.setFromBufferAttribute(u),this.morphTargetsRelative?(Vi.addVectors(ds.min,$h.min),ds.expandByPoint(Vi),Vi.addVectors(ds.max,$h.max),ds.expandByPoint(Vi)):(ds.expandByPoint($h.min),ds.expandByPoint($h.max))}ds.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)Vi.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Vi));if(t)for(let s=0,a=t.length;s<a;s++){const u=t[s],d=this.morphTargetsRelative;for(let h=0,m=u.count;h<m;h++)Vi.fromBufferAttribute(u,h),d&&(nd.fromBufferAttribute(e,h),Vi.add(nd)),r=Math.max(r,i.distanceToSquared(Vi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Nn(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),u=[],d=[];for(let B=0;B<i.count;B++)u[B]=new X,d[B]=new X;const h=new X,m=new X,g=new X,y=new Le,_=new Le,M=new Le,T=new X,E=new X;function S(B,O,D){h.fromBufferAttribute(i,B),m.fromBufferAttribute(i,O),g.fromBufferAttribute(i,D),y.fromBufferAttribute(s,B),_.fromBufferAttribute(s,O),M.fromBufferAttribute(s,D),m.sub(h),g.sub(h),_.sub(y),M.sub(y);const H=1/(_.x*M.y-M.x*_.y);isFinite(H)&&(T.copy(m).multiplyScalar(M.y).addScaledVector(g,-_.y).multiplyScalar(H),E.copy(g).multiplyScalar(_.x).addScaledVector(m,-M.x).multiplyScalar(H),u[B].add(T),u[O].add(T),u[D].add(T),d[B].add(E),d[O].add(E),d[D].add(E))}let b=this.groups;b.length===0&&(b=[{start:0,count:e.count}]);for(let B=0,O=b.length;B<O;++B){const D=b[B],H=D.start,ne=D.count;for(let ee=H,pe=H+ne;ee<pe;ee+=3)S(e.getX(ee+0),e.getX(ee+1),e.getX(ee+2))}const C=new X,I=new X,U=new X,N=new X;function F(B){U.fromBufferAttribute(r,B),N.copy(U);const O=u[B];C.copy(O),C.sub(U.multiplyScalar(U.dot(O))).normalize(),I.crossVectors(N,O);const H=I.dot(d[B])<0?-1:1;a.setXYZW(B,C.x,C.y,C.z,H)}for(let B=0,O=b.length;B<O;++B){const D=b[B],H=D.start,ne=D.count;for(let ee=H,pe=H+ne;ee<pe;ee+=3)F(e.getX(ee+0)),F(e.getX(ee+1)),F(e.getX(ee+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Nn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,_=i.count;y<_;y++)i.setXYZ(y,0,0,0);const r=new X,s=new X,a=new X,u=new X,d=new X,h=new X,m=new X,g=new X;if(e)for(let y=0,_=e.count;y<_;y+=3){const M=e.getX(y+0),T=e.getX(y+1),E=e.getX(y+2);r.fromBufferAttribute(t,M),s.fromBufferAttribute(t,T),a.fromBufferAttribute(t,E),m.subVectors(a,s),g.subVectors(r,s),m.cross(g),u.fromBufferAttribute(i,M),d.fromBufferAttribute(i,T),h.fromBufferAttribute(i,E),u.add(m),d.add(m),h.add(m),i.setXYZ(M,u.x,u.y,u.z),i.setXYZ(T,d.x,d.y,d.z),i.setXYZ(E,h.x,h.y,h.z)}else for(let y=0,_=t.count;y<_;y+=3)r.fromBufferAttribute(t,y+0),s.fromBufferAttribute(t,y+1),a.fromBufferAttribute(t,y+2),m.subVectors(a,s),g.subVectors(r,s),m.cross(g),i.setXYZ(y+0,m.x,m.y,m.z),i.setXYZ(y+1,m.x,m.y,m.z),i.setXYZ(y+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Vi.fromBufferAttribute(e,t),Vi.normalize(),e.setXYZ(t,Vi.x,Vi.y,Vi.z)}toNonIndexed(){function e(u,d){const h=u.array,m=u.itemSize,g=u.normalized,y=new h.constructor(d.length*m);let _=0,M=0;for(let T=0,E=d.length;T<E;T++){u.isInterleavedBufferAttribute?_=d[T]*u.data.stride+u.offset:_=d[T]*m;for(let S=0;S<m;S++)y[M++]=h[_++]}return new Nn(y,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new sn,i=this.index.array,r=this.attributes;for(const u in r){const d=r[u],h=e(d,i);t.setAttribute(u,h)}const s=this.morphAttributes;for(const u in s){const d=[],h=s[u];for(let m=0,g=h.length;m<g;m++){const y=h[m],_=e(y,i);d.push(_)}t.morphAttributes[u]=d}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let u=0,d=a.length;u<d;u++){const h=a[u];t.addGroup(h.start,h.count,h.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const h in d)d[h]!==void 0&&(e[h]=d[h]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const d in i){const h=i[d];e.data.attributes[d]=h.toJSON(e.data)}const r={};let s=!1;for(const d in this.morphAttributes){const h=this.morphAttributes[d],m=[];for(let g=0,y=h.length;g<y;g++){const _=h[g];m.push(_.toJSON(e.data))}m.length>0&&(r[d]=m,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const h in r){const m=r[h];this.setAttribute(h,m.clone(t))}const s=e.morphAttributes;for(const h in s){const m=[],g=s[h];for(let y=0,_=g.length;y<_;y++)m.push(g[y].clone(t));this.morphAttributes[h]=m}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let h=0,m=a.length;h<m;h++){const g=a[h];this.addGroup(g.start,g.count,g.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const xE=new Vt,qu=new Oc,Gg=new mr,SE=new X,Wg=new X,jg=new X,Xg=new X,l_=new X,Yg=new X,ME=new X,qg=new X;class Mi extends Mn{constructor(e=new sn,t=new iu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const u=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const u=this.morphTargetInfluences;if(s&&u){Yg.set(0,0,0);for(let d=0,h=s.length;d<h;d++){const m=u[d],g=s[d];m!==0&&(l_.fromBufferAttribute(g,e),a?Yg.addScaledVector(l_,m):Yg.addScaledVector(l_.sub(t),m))}t.add(Yg)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Gg.copy(i.boundingSphere),Gg.applyMatrix4(s),qu.copy(e.ray).recast(e.near),!(Gg.containsPoint(qu.origin)===!1&&(qu.intersectSphere(Gg,SE)===null||qu.origin.distanceToSquared(SE)>(e.far-e.near)**2))&&(xE.copy(s).invert(),qu.copy(e.ray).applyMatrix4(xE),!(i.boundingBox!==null&&qu.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,qu)))}_computeIntersections(e,t,i){let r;const s=this.geometry,a=this.material,u=s.index,d=s.attributes.position,h=s.attributes.uv,m=s.attributes.uv1,g=s.attributes.normal,y=s.groups,_=s.drawRange;if(u!==null)if(Array.isArray(a))for(let M=0,T=y.length;M<T;M++){const E=y[M],S=a[E.materialIndex],b=Math.max(E.start,_.start),C=Math.min(u.count,Math.min(E.start+E.count,_.start+_.count));for(let I=b,U=C;I<U;I+=3){const N=u.getX(I),F=u.getX(I+1),B=u.getX(I+2);r=Zg(this,S,e,i,h,m,g,N,F,B),r&&(r.faceIndex=Math.floor(I/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const M=Math.max(0,_.start),T=Math.min(u.count,_.start+_.count);for(let E=M,S=T;E<S;E+=3){const b=u.getX(E),C=u.getX(E+1),I=u.getX(E+2);r=Zg(this,a,e,i,h,m,g,b,C,I),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}else if(d!==void 0)if(Array.isArray(a))for(let M=0,T=y.length;M<T;M++){const E=y[M],S=a[E.materialIndex],b=Math.max(E.start,_.start),C=Math.min(d.count,Math.min(E.start+E.count,_.start+_.count));for(let I=b,U=C;I<U;I+=3){const N=I,F=I+1,B=I+2;r=Zg(this,S,e,i,h,m,g,N,F,B),r&&(r.faceIndex=Math.floor(I/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const M=Math.max(0,_.start),T=Math.min(d.count,_.start+_.count);for(let E=M,S=T;E<S;E+=3){const b=E,C=E+1,I=E+2;r=Zg(this,a,e,i,h,m,g,b,C,I),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}}}function v8(n,e,t,i,r,s,a,u){let d;if(e.side===Rr?d=i.intersectTriangle(a,s,r,!0,u):d=i.intersectTriangle(r,s,a,e.side===Qa,u),d===null)return null;qg.copy(u),qg.applyMatrix4(n.matrixWorld);const h=t.ray.origin.distanceTo(qg);return h<t.near||h>t.far?null:{distance:h,point:qg.clone(),object:n}}function Zg(n,e,t,i,r,s,a,u,d,h){n.getVertexPosition(u,Wg),n.getVertexPosition(d,jg),n.getVertexPosition(h,Xg);const m=v8(n,e,t,i,Wg,jg,Xg,ME);if(m){const g=new X;Zr.getBarycoord(ME,Wg,jg,Xg,g),r&&(m.uv=Zr.getInterpolatedAttribute(r,u,d,h,g,new Le)),s&&(m.uv1=Zr.getInterpolatedAttribute(s,u,d,h,g,new Le)),a&&(m.normal=Zr.getInterpolatedAttribute(a,u,d,h,g,new X),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const y={a:u,b:d,c:h,normal:new X,materialIndex:0};Zr.getNormal(Wg,jg,Xg,y.normal),m.face=y,m.barycoord=g}return m}class Fc extends sn{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const u=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const d=[],h=[],m=[],g=[];let y=0,_=0;M("z","y","x",-1,-1,i,t,e,a,s,0),M("z","y","x",1,-1,i,t,-e,a,s,1),M("x","z","y",1,1,e,i,t,r,a,2),M("x","z","y",1,-1,e,i,-t,r,a,3),M("x","y","z",1,-1,e,t,i,r,s,4),M("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(d),this.setAttribute("position",new At(h,3)),this.setAttribute("normal",new At(m,3)),this.setAttribute("uv",new At(g,2));function M(T,E,S,b,C,I,U,N,F,B,O){const D=I/F,H=U/B,ne=I/2,ee=U/2,pe=N/2,Me=F+1,he=B+1;let me=0,G=0;const te=new X;for(let $=0;$<he;$++){const W=$*H-ee;for(let se=0;se<Me;se++){const Oe=se*D-ne;te[T]=Oe*b,te[E]=W*C,te[S]=pe,h.push(te.x,te.y,te.z),te[T]=0,te[E]=0,te[S]=N>0?1:-1,m.push(te.x,te.y,te.z),g.push(se/F),g.push(1-$/B),me+=1}}for(let $=0;$<B;$++)for(let W=0;W<F;W++){const se=y+W+Me*$,Oe=y+W+Me*($+1),ue=y+(W+1)+Me*($+1),Ee=y+(W+1)+Me*$;d.push(se,Oe,Ee),d.push(Oe,ue,Ee),G+=6}u.addGroup(_,G,O),_+=G,y+=me}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Bd(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function br(n){const e={};for(let t=0;t<n.length;t++){const i=Bd(n[t]);for(const r in i)e[r]=i[r]}return e}function _8(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Tb(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:vn.workingColorSpace}const Ab={clone:Bd,merge:br};var x8=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,S8=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Vs extends gr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=x8,this.fragmentShader=S8,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Bd(e.uniforms),this.uniformsGroups=_8(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class wm extends Mn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Vt,this.projectionMatrix=new Vt,this.projectionMatrixInverse=new Vt,this.coordinateSystem=xo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Bl=new X,wE=new Le,EE=new Le;class fi extends wm{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=zd*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Tc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return zd*2*Math.atan(Math.tan(Tc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Bl.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Bl.x,Bl.y).multiplyScalar(-e/Bl.z),Bl.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Bl.x,Bl.y).multiplyScalar(-e/Bl.z)}getViewSize(e,t){return this.getViewBounds(e,wE,EE),t.subVectors(EE,wE)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Tc*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const d=a.fullWidth,h=a.fullHeight;s+=a.offsetX*r/d,t-=a.offsetY*i/h,r*=a.width/d,i*=a.height/h}const u=this.filmOffset;u!==0&&(s+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const id=-90,rd=1;class Cb extends Mn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new fi(id,rd,e,t);r.layers=this.layers,this.add(r);const s=new fi(id,rd,e,t);s.layers=this.layers,this.add(s);const a=new fi(id,rd,e,t);a.layers=this.layers,this.add(a);const u=new fi(id,rd,e,t);u.layers=this.layers,this.add(u);const d=new fi(id,rd,e,t);d.layers=this.layers,this.add(d);const h=new fi(id,rd,e,t);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,a,u,d]=t;for(const h of t)this.remove(h);if(e===xo)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===$p)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const h of t)this.add(h),h.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,u,d,h,m]=this.children,g=e.getRenderTarget(),y=e.getActiveCubeFace(),_=e.getActiveMipmapLevel(),M=e.xr.enabled;e.xr.enabled=!1;const T=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,a),e.setRenderTarget(i,2,r),e.render(t,u),e.setRenderTarget(i,3,r),e.render(t,d),e.setRenderTarget(i,4,r),e.render(t,h),i.texture.generateMipmaps=T,e.setRenderTarget(i,5,r),e.render(t,m),e.setRenderTarget(g,y,_),e.xr.enabled=M,i.texture.needsPMREMUpdate=!0}}class Em extends si{constructor(e,t,i,r,s,a,u,d,h,m){e=e!==void 0?e:[],t=t!==void 0?t:Ja,super(e,t,i,r,s,a,u,d,h,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class bb extends Qo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Em(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Li}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Fc(5,5,5),s=new Vs({name:"CubemapFromEquirect",uniforms:Bd(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Rr,blending:Za});s.uniforms.tEquirect.value=t;const a=new Mi(r,s),u=t.minFilter;return t.minFilter===Xo&&(t.minFilter=Li),new Cb(1,10,this).update(e,a),t.minFilter=u,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}class xv{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new pt(e),this.density=t}clone(){return new xv(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Sv{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new pt(e),this.near=t,this.far=i}clone(){return new Sv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class QS extends Mn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ys,this.environmentIntensity=1,this.environmentRotation=new ys,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Mv{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Kp,this.updateRanges=[],this.version=0,this.uuid=ms()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ms()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ms()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Cr=new X;class Lc{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Cr.fromBufferAttribute(this,t),Cr.applyMatrix4(e),this.setXYZ(t,Cr.x,Cr.y,Cr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Cr.fromBufferAttribute(this,t),Cr.applyNormalMatrix(e),this.setXYZ(t,Cr.x,Cr.y,Cr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Cr.fromBufferAttribute(this,t),Cr.transformDirection(e),this.setXYZ(t,Cr.x,Cr.y,Cr.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Pr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=en(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=en(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=en(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=en(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=en(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Pr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Pr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Pr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Pr(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=en(t,this.array),i=en(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=en(t,this.array),i=en(i,this.array),r=en(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=en(t,this.array),i=en(i,this.array),r=en(r,this.array),s=en(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Nn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Lc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class JS extends gr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new pt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let sd;const Qh=new X,od=new X,ad=new X,ld=new Le,Jh=new Le,Pb=new Vt,Kg=new X,ep=new X,$g=new X,TE=new Le,u_=new Le,AE=new Le;class Rb extends Mn{constructor(e=new JS){if(super(),this.isSprite=!0,this.type="Sprite",sd===void 0){sd=new sn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Mv(t,5);sd.setIndex([0,1,2,0,2,3]),sd.setAttribute("position",new Lc(i,3,0,!1)),sd.setAttribute("uv",new Lc(i,2,3,!1))}this.geometry=sd,this.material=e,this.center=new Le(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),od.setFromMatrixScale(this.matrixWorld),Pb.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ad.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&od.multiplyScalar(-ad.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const a=this.center;Qg(Kg.set(-.5,-.5,0),ad,a,od,r,s),Qg(ep.set(.5,-.5,0),ad,a,od,r,s),Qg($g.set(.5,.5,0),ad,a,od,r,s),TE.set(0,0),u_.set(1,0),AE.set(1,1);let u=e.ray.intersectTriangle(Kg,ep,$g,!1,Qh);if(u===null&&(Qg(ep.set(-.5,.5,0),ad,a,od,r,s),u_.set(0,1),u=e.ray.intersectTriangle(Kg,$g,ep,!1,Qh),u===null))return;const d=e.ray.origin.distanceTo(Qh);d<e.near||d>e.far||t.push({distance:d,point:Qh.clone(),uv:Zr.getInterpolation(Qh,Kg,ep,$g,TE,u_,AE,new Le),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Qg(n,e,t,i,r,s){ld.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Jh.x=s*ld.x-r*ld.y,Jh.y=r*ld.x+s*ld.y):Jh.copy(ld),n.copy(e),n.x+=Jh.x,n.y+=Jh.y,n.applyMatrix4(Pb)}const Jg=new X,CE=new X;class Ib extends Mn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Jg.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Jg);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Jg.setFromMatrixPosition(e.matrixWorld),CE.setFromMatrixPosition(this.matrixWorld);const i=Jg.distanceTo(CE)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),i>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const bE=new X,PE=new Sn,RE=new Sn,M8=new X,IE=new Vt,e0=new X,c_=new mr,LE=new Vt,f_=new Oc;class Lb extends Mi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Px,this.bindMatrix=new Vt,this.bindMatrixInverse=new Vt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ir),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,e0),this.boundingBox.expandByPoint(e0)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new mr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,e0),this.boundingSphere.expandByPoint(e0)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),c_.copy(this.boundingSphere),c_.applyMatrix4(r),e.ray.intersectsSphere(c_)!==!1&&(LE.copy(r).invert(),f_.copy(e.ray).applyMatrix4(LE),!(this.boundingBox!==null&&f_.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,f_)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Sn,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Px?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===ab?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;PE.fromBufferAttribute(r.attributes.skinIndex,e),RE.fromBufferAttribute(r.attributes.skinWeight,e),bE.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=RE.getComponent(s);if(a!==0){const u=PE.getComponent(s);IE.multiplyMatrices(i.bones[u].matrixWorld,i.boneInverses[u]),t.addScaledVector(M8.copy(bE).applyMatrix4(IE),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class e2 extends Mn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ko extends si{constructor(e=null,t=1,i=1,r,s,a,u,d,h=Ji,m=Ji,g,y){super(null,a,u,d,h,m,r,s,g,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const DE=new Vt,w8=new Vt;class wv{constructor(e=[],t=[]){this.uuid=ms(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Vt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Vt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const u=e[s]?e[s].matrixWorld:w8;DE.multiplyMatrices(u,t[s]),DE.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new wv(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Ko(t,e,e,hr,$r);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new e2),this.bones.push(a),this.boneInverses.push(new Vt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const u=i[r];e.boneInverses.push(u.toArray())}return e}}class Vd extends Nn{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ud=new Vt,NE=new Vt,t0=[],UE=new Ir,E8=new Vt,tp=new Mi,np=new mr;class Db extends Mi{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Vd(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,E8)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ir),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,ud),UE.copy(e.boundingBox).applyMatrix4(ud),this.boundingBox.union(UE)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new mr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,ud),np.copy(e.boundingSphere).applyMatrix4(ud),this.boundingSphere.union(np)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,a=e*s+1;for(let u=0;u<i.length;u++)i[u]=r[a+u]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(tp.geometry=this.geometry,tp.material=this.material,tp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),np.copy(this.boundingSphere),np.applyMatrix4(i),e.ray.intersectsSphere(np)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,ud),NE.multiplyMatrices(i,ud),tp.matrixWorld=NE,tp.raycast(e,t0);for(let a=0,u=t0.length;a<u;a++){const d=t0[a];d.instanceId=s,d.object=this,t.push(d)}t0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Vd(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Ko(new Float32Array(r*this.count),r,this.count,pv,$r));const s=this.morphTexture.source.data.data;let a=0;for(let h=0;h<i.length;h++)a+=i[h];const u=this.geometry.morphTargetsRelative?1:1-a,d=r*e;s[d]=u,s.set(i,d+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const d_=new X,T8=new X,A8=new Kt;class Ga{constructor(e=new X(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=d_.subVectors(i,t).cross(T8.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(d_),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||A8.getNormalMatrix(e),r=this.coplanarPoint(d_).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Zu=new mr,n0=new X;class Tm{constructor(e=new Ga,t=new Ga,i=new Ga,r=new Ga,s=new Ga,a=new Ga){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(i),u[3].copy(r),u[4].copy(s),u[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=xo){const i=this.planes,r=e.elements,s=r[0],a=r[1],u=r[2],d=r[3],h=r[4],m=r[5],g=r[6],y=r[7],_=r[8],M=r[9],T=r[10],E=r[11],S=r[12],b=r[13],C=r[14],I=r[15];if(i[0].setComponents(d-s,y-h,E-_,I-S).normalize(),i[1].setComponents(d+s,y+h,E+_,I+S).normalize(),i[2].setComponents(d+a,y+m,E+M,I+b).normalize(),i[3].setComponents(d-a,y-m,E-M,I-b).normalize(),i[4].setComponents(d-u,y-g,E-T,I-C).normalize(),t===xo)i[5].setComponents(d+u,y+g,E+T,I+C).normalize();else if(t===$p)i[5].setComponents(u,g,T,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Zu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Zu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Zu)}intersectsSprite(e){return Zu.center.set(0,0,0),Zu.radius=.7071067811865476,Zu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Zu)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(n0.x=r.normal.x>0?e.max.x:e.min.x,n0.y=r.normal.y>0?e.max.y:e.min.y,n0.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(n0)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function h_(n,e){return n-e}function C8(n,e){return n.z-e.z}function b8(n,e){return e.z-n.z}class P8{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const u=s[this.index];a.push(u),this.index++,u.start=e,u.count=t,u.z=i,u.index=r}reset(){this.list.length=0,this.index=0}}const Xr=new Vt,R8=new pt(1,1,1),p_=new Tm,i0=new Ir,Ku=new mr,ip=new X,OE=new X,I8=new X,m_=new P8,cr=new Mi,r0=[];function L8(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let a=0;a<i;a++)e.setComponent(s+t,a,n.getComponent(s,a))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function $u(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class Nb extends Mi{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,t,i=t*2,r){super(new sn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Ko(t,e,e,hr,$r);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Ko(t,e,e,Sm,el);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Ko(t,e,e,hr,$r);i.colorSpace=vn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:u,itemSize:d,normalized:h}=a,m=new u.constructor(i*d),g=new Nn(m,d,h);t.setAttribute(s,g)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Nn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ir);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Xr),this.getBoundingBoxAt(s,i0).applyMatrix4(Xr),e.union(i0)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new mr);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Xr),this.getBoundingSphereAt(s,Ku).applyMatrix4(Xr),e.union(Ku)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(h_),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;Xr.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(R8.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?a.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let d;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(h_),d=this._availableGeometryIds.shift(),s[d]=r):(d=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(d,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,d}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),a=t.getIndex(),u=this._geometryInfo[e];if(r&&a.count>u.reservedIndexCount||t.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=u.vertexStart,h=u.reservedVertexCount;u.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const g=t.getAttribute(m),y=i.getAttribute(m);L8(g,y,d);const _=g.itemSize;for(let M=g.count,T=h;M<T;M++){const E=d+M;for(let S=0;S<_;S++)y.setComponent(E,S,0)}y.needsUpdate=!0,y.addUpdateRange(d*_,h*_)}if(r){const m=u.indexStart,g=u.reservedIndexCount;u.indexCount=t.getIndex().count;for(let y=0;y<a.count;y++)s.setX(m+y,d+a.getX(y));for(let y=a.count,_=g;y<_;y++)s.setX(m+y,d);s.needsUpdate=!0,s.addUpdateRange(m,u.reservedIndexCount)}return u.start=r?u.indexStart:u.vertexStart,u.count=r?u.indexCount:u.vertexCount,u.boundingBox=null,t.boundingBox!==null&&(u.boundingBox=t.boundingBox.clone()),u.boundingSphere=null,t.boundingSphere!==null&&(u.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((a,u)=>u).sort((a,u)=>i[a].vertexStart-i[u].vertexStart),s=this.geometry;for(let a=0,u=i.length;a<u;a++){const d=r[a],h=i[d];if(h.active!==!1){if(s.index!==null){if(h.indexStart!==t){const{indexStart:m,vertexStart:g,reservedIndexCount:y}=h,_=s.index,M=_.array,T=e-g;for(let E=m;E<m+y;E++)M[E]=M[E]+T;_.array.copyWithin(t,m,m+y),_.addUpdateRange(t,y),h.indexStart=t}t+=h.reservedIndexCount}if(h.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=h,y=s.attributes;for(const _ in y){const M=y[_],{array:T,itemSize:E}=M;T.copyWithin(e*E,m*E,(m+g)*E),M.addUpdateRange(e*E,g*E)}h.vertexStart=e}e+=h.reservedVertexCount,h.start=s.index?h.indexStart:h.vertexStart,this._nextIndexStart=s.index?h.indexStart+h.reservedIndexCount:0,this._nextVertexStart=h.vertexStart+h.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new Ir,a=i.index,u=i.attributes.position;for(let d=r.start,h=r.start+r.count;d<h;d++){let m=d;a&&(m=a.getX(m)),s.expandByPoint(ip.fromBufferAttribute(u,m))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new mr;this.getBoundingBoxAt(e,i0),i0.getCenter(s.center);const a=i.index,u=i.attributes.position;let d=0;for(let h=r.start,m=r.start+r.count;h<m;h++){let g=h;a&&(g=a.getX(g)),ip.fromBufferAttribute(u,g),d=Math.max(d,s.center.distanceToSquared(ip))}s.radius=Math.sqrt(d),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(h_);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);$u(this._multiDrawCounts,r),$u(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,u=this._matricesTexture,d=this._colorsTexture;a.dispose(),this._initIndirectTexture(),$u(a.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),$u(u.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),$u(d.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...i.map(u=>u.vertexStart+u.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(d=>d.indexStart+d.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new sn,this._initializeGeometry(s));const a=this.geometry;s.index&&$u(s.index.array,a.index.array);for(const u in s.attributes)$u(s.attributes[u].array,a.attributes[u].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,a=this.geometry;cr.material=this.material,cr.geometry.index=a.index,cr.geometry.attributes=a.attributes,cr.geometry.boundingBox===null&&(cr.geometry.boundingBox=new Ir),cr.geometry.boundingSphere===null&&(cr.geometry.boundingSphere=new mr);for(let u=0,d=i.length;u<d;u++){if(!i[u].visible||!i[u].active)continue;const h=i[u].geometryIndex,m=r[h];cr.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(u,cr.matrixWorld).premultiply(s),this.getBoundingBoxAt(h,cr.geometry.boundingBox),this.getBoundingSphereAt(h,cr.geometry.boundingSphere),cr.raycast(e,r0);for(let g=0,y=r0.length;g<y;g++){const _=r0[g];_.object=this,_.batchId=u,t.push(_)}r0.length=0}cr.material=null,cr.geometry.index=null,cr.geometry.attributes={},cr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),u=a===null?1:a.array.BYTES_PER_ELEMENT,d=this._instanceInfo,h=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,_=this._indirectTexture,M=_.image.data;y&&(Xr.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),p_.setFromProjectionMatrix(Xr,e.coordinateSystem));let T=0;if(this.sortObjects){Xr.copy(this.matrixWorld).invert(),ip.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Xr),OE.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Xr);for(let b=0,C=d.length;b<C;b++)if(d[b].visible&&d[b].active){const I=d[b].geometryIndex;this.getMatrixAt(b,Xr),this.getBoundingSphereAt(I,Ku).applyMatrix4(Xr);let U=!1;if(y&&(U=!p_.intersectsSphere(Ku)),!U){const N=g[I],F=I8.subVectors(Ku.center,ip).dot(OE);m_.push(N.start,N.count,F,b)}}const E=m_.list,S=this.customSort;S===null?E.sort(s.transparent?b8:C8):S.call(this,E,i);for(let b=0,C=E.length;b<C;b++){const I=E[b];h[T]=I.start*u,m[T]=I.count,M[T]=I.index,T++}m_.reset()}else for(let E=0,S=d.length;E<S;E++)if(d[E].visible&&d[E].active){const b=d[E].geometryIndex;let C=!1;if(y&&(this.getMatrixAt(E,Xr),this.getBoundingSphereAt(b,Ku).applyMatrix4(Xr),C=!p_.intersectsSphere(Ku)),!C){const I=g[b];h[T]=I.start*u,m[T]=I.count,M[T]=E,T++}}_.needsUpdate=!0,this._multiDrawCount=T,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,a){this.onBeforeRender(e,null,r,s,a)}}class Dr extends gr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new pt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const zy=new X,By=new X,FE=new Vt,rp=new Oc,s0=new mr,g_=new X,kE=new X;class eu extends Mn{constructor(e=new sn,t=new Dr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)zy.fromBufferAttribute(t,r-1),By.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=zy.distanceTo(By);e.setAttribute("lineDistance",new At(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),s0.copy(i.boundingSphere),s0.applyMatrix4(r),s0.radius+=s,e.ray.intersectsSphere(s0)===!1)return;FE.copy(r).invert(),rp.copy(e.ray).applyMatrix4(FE);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),d=u*u,h=this.isLineSegments?2:1,m=i.index,y=i.attributes.position;if(m!==null){const _=Math.max(0,a.start),M=Math.min(m.count,a.start+a.count);for(let T=_,E=M-1;T<E;T+=h){const S=m.getX(T),b=m.getX(T+1),C=o0(this,e,rp,d,S,b);C&&t.push(C)}if(this.isLineLoop){const T=m.getX(M-1),E=m.getX(_),S=o0(this,e,rp,d,T,E);S&&t.push(S)}}else{const _=Math.max(0,a.start),M=Math.min(y.count,a.start+a.count);for(let T=_,E=M-1;T<E;T+=h){const S=o0(this,e,rp,d,T,T+1);S&&t.push(S)}if(this.isLineLoop){const T=o0(this,e,rp,d,M-1,_);T&&t.push(T)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const u=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}}function o0(n,e,t,i,r,s){const a=n.geometry.attributes.position;if(zy.fromBufferAttribute(a,r),By.fromBufferAttribute(a,s),t.distanceSqToSegment(zy,By,g_,kE)>i)return;g_.applyMatrix4(n.matrixWorld);const d=e.ray.origin.distanceTo(g_);if(!(d<e.near||d>e.far))return{distance:d,point:kE.clone().applyMatrix4(n.matrixWorld),index:r,face:null,faceIndex:null,barycoord:null,object:n}}const zE=new X,BE=new X;class ea extends eu{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)zE.fromBufferAttribute(t,r),BE.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+zE.distanceTo(BE);e.setAttribute("lineDistance",new At(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Ub extends eu{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class t2 extends gr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new pt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const VE=new Vt,Lx=new Oc,a0=new mr,l0=new X;class Ob extends Mn{constructor(e=new sn,t=new t2){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),a0.copy(i.boundingSphere),a0.applyMatrix4(r),a0.radius+=s,e.ray.intersectsSphere(a0)===!1)return;VE.copy(r).invert(),Lx.copy(e.ray).applyMatrix4(VE);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),d=u*u,h=i.index,g=i.attributes.position;if(h!==null){const y=Math.max(0,a.start),_=Math.min(h.count,a.start+a.count);for(let M=y,T=_;M<T;M++){const E=h.getX(M);l0.fromBufferAttribute(g,E),HE(l0,E,d,r,e,t,this)}}else{const y=Math.max(0,a.start),_=Math.min(g.count,a.start+a.count);for(let M=y,T=_;M<T;M++)l0.fromBufferAttribute(g,M),HE(l0,M,d,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const u=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}}function HE(n,e,t,i,r,s,a){const u=Lx.distanceSqToPoint(n);if(u<t){const d=new X;Lx.closestPointToPoint(n,d),d.applyMatrix4(i);const h=r.ray.origin.distanceTo(d);if(h<r.near||h>r.far)return;s.push({distance:h,distanceToRay:Math.sqrt(u),point:d,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class Ed extends Mn{constructor(){super(),this.isGroup=!0,this.type="Group"}}class D8 extends si{constructor(e,t,i,r,s,a,u,d,h){super(e,t,i,r,s,a,u,d,h),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:Li,this.magFilter=s!==void 0?s:Li,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class N8 extends si{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Ji,this.minFilter=Ji,this.generateMipmaps=!1,this.needsUpdate=!0}}class Ev extends si{constructor(e,t,i,r,s,a,u,d,h,m,g,y){super(null,a,u,d,h,m,r,s,g,y),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class U8 extends Ev{constructor(e,t,i,r,s,a){super(e,t,i,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Fs,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class O8 extends Ev{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Ja),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class F8 extends si{constructor(e,t,i,r,s,a,u,d,h){super(e,t,i,r,s,a,u,d,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class n2 extends si{constructor(e,t,i,r,s,a,u,d,h,m=Ec){if(m!==Ec&&m!==Rc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&m===Ec&&(i=el),i===void 0&&m===Rc&&(i=Pc),super(null,r,s,a,u,d,m,i,h),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=u!==void 0?u:Ji,this.minFilter=d!==void 0?d:Ji,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class To{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let a;t?a=t:a=e*i[s-1];let u=0,d=s-1,h;for(;u<=d;)if(r=Math.floor(u+(d-u)/2),h=i[r]-a,h<0)u=r+1;else if(h>0)d=r-1;else{d=r;break}if(r=d,i[r]===a)return r/(s-1);const m=i[r],y=i[r+1]-m,_=(a-m)/y;return(r+_)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),u=this.getPoint(s),d=t||(a.isVector2?new Le:new X);return d.copy(u).sub(a).normalize(),d}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new X,r=[],s=[],a=[],u=new X,d=new Vt;for(let _=0;_<=e;_++){const M=_/e;r[_]=this.getTangentAt(M,new X)}s[0]=new X,a[0]=new X;let h=Number.MAX_VALUE;const m=Math.abs(r[0].x),g=Math.abs(r[0].y),y=Math.abs(r[0].z);m<=h&&(h=m,i.set(1,0,0)),g<=h&&(h=g,i.set(0,1,0)),y<=h&&i.set(0,0,1),u.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],u),a[0].crossVectors(r[0],s[0]);for(let _=1;_<=e;_++){if(s[_]=s[_-1].clone(),a[_]=a[_-1].clone(),u.crossVectors(r[_-1],r[_]),u.length()>Number.EPSILON){u.normalize();const M=Math.acos(Yt(r[_-1].dot(r[_]),-1,1));s[_].applyMatrix4(d.makeRotationAxis(u,M))}a[_].crossVectors(r[_],s[_])}if(t===!0){let _=Math.acos(Yt(s[0].dot(s[e]),-1,1));_/=e,r[0].dot(u.crossVectors(s[0],s[e]))>0&&(_=-_);for(let M=1;M<=e;M++)s[M].applyMatrix4(d.makeRotationAxis(r[M],_*M)),a[M].crossVectors(r[M],s[M])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Tv extends To{constructor(e=0,t=0,i=1,r=1,s=0,a=Math.PI*2,u=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=u,this.aRotation=d}getPoint(e,t=new Le){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const u=this.aStartAngle+e*s;let d=this.aX+this.xRadius*Math.cos(u),h=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=d-this.aX,_=h-this.aY;d=y*m-_*g+this.aX,h=y*g+_*m+this.aY}return i.set(d,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Fb extends Tv{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function i2(){let n=0,e=0,t=0,i=0;function r(s,a,u,d){n=s,e=u,t=-3*s+3*a-2*u-d,i=2*s-2*a+u+d}return{initCatmullRom:function(s,a,u,d,h){r(a,u,h*(u-s),h*(d-a))},initNonuniformCatmullRom:function(s,a,u,d,h,m,g){let y=(a-s)/h-(u-s)/(h+m)+(u-a)/m,_=(u-a)/m-(d-a)/(m+g)+(d-u)/g;y*=m,_*=m,r(a,u,y,_)},calc:function(s){const a=s*s,u=a*s;return n+e*s+t*a+i*u}}}const u0=new X,y_=new i2,v_=new i2,__=new i2;class kb extends To{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new X){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let u=Math.floor(a),d=a-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/s)+1)*s:d===0&&u===s-1&&(u=s-2,d=1);let h,m;this.closed||u>0?h=r[(u-1)%s]:(u0.subVectors(r[0],r[1]).add(r[0]),h=u0);const g=r[u%s],y=r[(u+1)%s];if(this.closed||u+2<s?m=r[(u+2)%s]:(u0.subVectors(r[s-1],r[s-2]).add(r[s-1]),m=u0),this.curveType==="centripetal"||this.curveType==="chordal"){const _=this.curveType==="chordal"?.5:.25;let M=Math.pow(h.distanceToSquared(g),_),T=Math.pow(g.distanceToSquared(y),_),E=Math.pow(y.distanceToSquared(m),_);T<1e-4&&(T=1),M<1e-4&&(M=T),E<1e-4&&(E=T),y_.initNonuniformCatmullRom(h.x,g.x,y.x,m.x,M,T,E),v_.initNonuniformCatmullRom(h.y,g.y,y.y,m.y,M,T,E),__.initNonuniformCatmullRom(h.z,g.z,y.z,m.z,M,T,E)}else this.curveType==="catmullrom"&&(y_.initCatmullRom(h.x,g.x,y.x,m.x,this.tension),v_.initCatmullRom(h.y,g.y,y.y,m.y,this.tension),__.initCatmullRom(h.z,g.z,y.z,m.z,this.tension));return i.set(y_.calc(d),v_.calc(d),__.calc(d)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new X().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function GE(n,e,t,i,r){const s=(i-e)*.5,a=(r-t)*.5,u=n*n,d=n*u;return(2*t-2*i+s+a)*d+(-3*t+3*i-2*s-a)*u+s*n+t}function k8(n,e){const t=1-n;return t*t*e}function z8(n,e){return 2*(1-n)*n*e}function B8(n,e){return n*n*e}function Lp(n,e,t,i){return k8(n,e)+z8(n,t)+B8(n,i)}function V8(n,e){const t=1-n;return t*t*t*e}function H8(n,e){const t=1-n;return 3*t*t*n*e}function G8(n,e){return 3*(1-n)*n*n*e}function W8(n,e){return n*n*n*e}function Dp(n,e,t,i,r){return V8(n,e)+H8(n,t)+G8(n,i)+W8(n,r)}class r2 extends To{constructor(e=new Le,t=new Le,i=new Le,r=new Le){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Le){const i=t,r=this.v0,s=this.v1,a=this.v2,u=this.v3;return i.set(Dp(e,r.x,s.x,a.x,u.x),Dp(e,r.y,s.y,a.y,u.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class zb extends To{constructor(e=new X,t=new X,i=new X,r=new X){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new X){const i=t,r=this.v0,s=this.v1,a=this.v2,u=this.v3;return i.set(Dp(e,r.x,s.x,a.x,u.x),Dp(e,r.y,s.y,a.y,u.y),Dp(e,r.z,s.z,a.z,u.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class s2 extends To{constructor(e=new Le,t=new Le){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Le){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Le){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Bb extends To{constructor(e=new X,t=new X){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new X){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new X){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class o2 extends To{constructor(e=new Le,t=new Le,i=new Le){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Le){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(Lp(e,r.x,s.x,a.x),Lp(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class a2 extends To{constructor(e=new X,t=new X,i=new X){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new X){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(Lp(e,r.x,s.x,a.x),Lp(e,r.y,s.y,a.y),Lp(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class l2 extends To{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Le){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),u=s-a,d=r[a===0?a:a-1],h=r[a],m=r[a>r.length-2?r.length-1:a+1],g=r[a>r.length-3?r.length-1:a+2];return i.set(GE(u,d.x,h.x,m.x,g.x),GE(u,d.y,h.y,m.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Le().fromArray(r))}return this}}var Vy=Object.freeze({__proto__:null,ArcCurve:Fb,CatmullRomCurve3:kb,CubicBezierCurve:r2,CubicBezierCurve3:zb,EllipseCurve:Tv,LineCurve:s2,LineCurve3:Bb,QuadraticBezierCurve:o2,QuadraticBezierCurve3:a2,SplineCurve:l2});class Vb extends To{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Vy[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,u=this.curves[s],d=u.getLength(),h=d===0?0:1-a/d;return u.getPointAt(h,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],u=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,d=a.getPoints(u);for(let h=0;h<d.length;h++){const m=d[h];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new Vy[r.type]().fromJSON(r))}return this}}class Jp extends Vb{constructor(e){super(),this.type="Path",this.currentPoint=new Le,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new s2(this.currentPoint.clone(),new Le(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new o2(this.currentPoint.clone(),new Le(e,t),new Le(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,a){const u=new r2(this.currentPoint.clone(),new Le(e,t),new Le(i,r),new Le(s,a));return this.curves.push(u),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new l2(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,a){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+u,t+d,i,r,s,a),this}absarc(e,t,i,r,s,a){return this.absellipse(e,t,i,i,r,s,a),this}ellipse(e,t,i,r,s,a,u,d){const h=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+h,t+m,i,r,s,a,u,d),this}absellipse(e,t,i,r,s,a,u,d){const h=new Tv(e,t,i,r,s,a,u,d);if(this.curves.length>0){const g=h.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(h);const m=h.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Am extends sn{constructor(e=[new Le(0,-.5),new Le(.5,0),new Le(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Yt(r,0,Math.PI*2);const s=[],a=[],u=[],d=[],h=[],m=1/t,g=new X,y=new Le,_=new X,M=new X,T=new X;let E=0,S=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:E=e[b+1].x-e[b].x,S=e[b+1].y-e[b].y,_.x=S*1,_.y=-E,_.z=S*0,T.copy(_),_.normalize(),d.push(_.x,_.y,_.z);break;case e.length-1:d.push(T.x,T.y,T.z);break;default:E=e[b+1].x-e[b].x,S=e[b+1].y-e[b].y,_.x=S*1,_.y=-E,_.z=S*0,M.copy(_),_.x+=T.x,_.y+=T.y,_.z+=T.z,_.normalize(),d.push(_.x,_.y,_.z),T.copy(M)}for(let b=0;b<=t;b++){const C=i+b*m*r,I=Math.sin(C),U=Math.cos(C);for(let N=0;N<=e.length-1;N++){g.x=e[N].x*I,g.y=e[N].y,g.z=e[N].x*U,a.push(g.x,g.y,g.z),y.x=b/t,y.y=N/(e.length-1),u.push(y.x,y.y);const F=d[3*N+0]*I,B=d[3*N+1],O=d[3*N+0]*U;h.push(F,B,O)}}for(let b=0;b<t;b++)for(let C=0;C<e.length-1;C++){const I=C+b*e.length,U=I,N=I+e.length,F=I+e.length+1,B=I+1;s.push(U,N,B),s.push(F,B,N)}this.setIndex(s),this.setAttribute("position",new At(a,3)),this.setAttribute("uv",new At(u,2)),this.setAttribute("normal",new At(h,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Am(e.points,e.segments,e.phiStart,e.phiLength)}}class Av extends Am{constructor(e=1,t=1,i=4,r=8){const s=new Jp;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new Av(e.radius,e.length,e.capSegments,e.radialSegments)}}class Cv extends sn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],a=[],u=[],d=[],h=new X,m=new Le;a.push(0,0,0),u.push(0,0,1),d.push(.5,.5);for(let g=0,y=3;g<=t;g++,y+=3){const _=i+g/t*r;h.x=e*Math.cos(_),h.y=e*Math.sin(_),a.push(h.x,h.y,h.z),u.push(0,0,1),m.x=(a[y]/e+1)/2,m.y=(a[y+1]/e+1)/2,d.push(m.x,m.y)}for(let g=1;g<=t;g++)s.push(g,g+1,0);this.setIndex(s),this.setAttribute("position",new At(a,3)),this.setAttribute("normal",new At(u,3)),this.setAttribute("uv",new At(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cv(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Zd extends sn{constructor(e=1,t=1,i=1,r=32,s=1,a=!1,u=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:u,thetaLength:d};const h=this;r=Math.floor(r),s=Math.floor(s);const m=[],g=[],y=[],_=[];let M=0;const T=[],E=i/2;let S=0;b(),a===!1&&(e>0&&C(!0),t>0&&C(!1)),this.setIndex(m),this.setAttribute("position",new At(g,3)),this.setAttribute("normal",new At(y,3)),this.setAttribute("uv",new At(_,2));function b(){const I=new X,U=new X;let N=0;const F=(t-e)/i;for(let B=0;B<=s;B++){const O=[],D=B/s,H=D*(t-e)+e;for(let ne=0;ne<=r;ne++){const ee=ne/r,pe=ee*d+u,Me=Math.sin(pe),he=Math.cos(pe);U.x=H*Me,U.y=-D*i+E,U.z=H*he,g.push(U.x,U.y,U.z),I.set(Me,F,he).normalize(),y.push(I.x,I.y,I.z),_.push(ee,1-D),O.push(M++)}T.push(O)}for(let B=0;B<r;B++)for(let O=0;O<s;O++){const D=T[O][B],H=T[O+1][B],ne=T[O+1][B+1],ee=T[O][B+1];(e>0||O!==0)&&(m.push(D,H,ee),N+=3),(t>0||O!==s-1)&&(m.push(H,ne,ee),N+=3)}h.addGroup(S,N,0),S+=N}function C(I){const U=M,N=new Le,F=new X;let B=0;const O=I===!0?e:t,D=I===!0?1:-1;for(let ne=1;ne<=r;ne++)g.push(0,E*D,0),y.push(0,D,0),_.push(.5,.5),M++;const H=M;for(let ne=0;ne<=r;ne++){const pe=ne/r*d+u,Me=Math.cos(pe),he=Math.sin(pe);F.x=O*he,F.y=E*D,F.z=O*Me,g.push(F.x,F.y,F.z),y.push(0,D,0),N.x=Me*.5+.5,N.y=he*.5*D+.5,_.push(N.x,N.y),M++}for(let ne=0;ne<r;ne++){const ee=U+ne,pe=H+ne;I===!0?m.push(pe,pe+1,ee):m.push(pe+1,pe,ee),B+=3}h.addGroup(S,B,I===!0?1:2),S+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zd(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class bv extends Zd{constructor(e=1,t=1,i=32,r=1,s=!1,a=0,u=Math.PI*2){super(0,e,t,i,r,s,a,u),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:u}}static fromJSON(e){return new bv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ru extends sn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],a=[];u(r),h(i),m(),this.setAttribute("position",new At(s,3)),this.setAttribute("normal",new At(s.slice(),3)),this.setAttribute("uv",new At(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function u(b){const C=new X,I=new X,U=new X;for(let N=0;N<t.length;N+=3)_(t[N+0],C),_(t[N+1],I),_(t[N+2],U),d(C,I,U,b)}function d(b,C,I,U){const N=U+1,F=[];for(let B=0;B<=N;B++){F[B]=[];const O=b.clone().lerp(I,B/N),D=C.clone().lerp(I,B/N),H=N-B;for(let ne=0;ne<=H;ne++)ne===0&&B===N?F[B][ne]=O:F[B][ne]=O.clone().lerp(D,ne/H)}for(let B=0;B<N;B++)for(let O=0;O<2*(N-B)-1;O++){const D=Math.floor(O/2);O%2===0?(y(F[B][D+1]),y(F[B+1][D]),y(F[B][D])):(y(F[B][D+1]),y(F[B+1][D+1]),y(F[B+1][D]))}}function h(b){const C=new X;for(let I=0;I<s.length;I+=3)C.x=s[I+0],C.y=s[I+1],C.z=s[I+2],C.normalize().multiplyScalar(b),s[I+0]=C.x,s[I+1]=C.y,s[I+2]=C.z}function m(){const b=new X;for(let C=0;C<s.length;C+=3){b.x=s[C+0],b.y=s[C+1],b.z=s[C+2];const I=E(b)/2/Math.PI+.5,U=S(b)/Math.PI+.5;a.push(I,1-U)}M(),g()}function g(){for(let b=0;b<a.length;b+=6){const C=a[b+0],I=a[b+2],U=a[b+4],N=Math.max(C,I,U),F=Math.min(C,I,U);N>.9&&F<.1&&(C<.2&&(a[b+0]+=1),I<.2&&(a[b+2]+=1),U<.2&&(a[b+4]+=1))}}function y(b){s.push(b.x,b.y,b.z)}function _(b,C){const I=b*3;C.x=e[I+0],C.y=e[I+1],C.z=e[I+2]}function M(){const b=new X,C=new X,I=new X,U=new X,N=new Le,F=new Le,B=new Le;for(let O=0,D=0;O<s.length;O+=9,D+=6){b.set(s[O+0],s[O+1],s[O+2]),C.set(s[O+3],s[O+4],s[O+5]),I.set(s[O+6],s[O+7],s[O+8]),N.set(a[D+0],a[D+1]),F.set(a[D+2],a[D+3]),B.set(a[D+4],a[D+5]),U.copy(b).add(C).add(I).divideScalar(3);const H=E(U);T(N,D+0,b,H),T(F,D+2,C,H),T(B,D+4,I,H)}}function T(b,C,I,U){U<0&&b.x===1&&(a[C]=b.x-1),I.x===0&&I.z===0&&(a[C]=U/2/Math.PI+.5)}function E(b){return Math.atan2(b.z,-b.x)}function S(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ru(e.vertices,e.indices,e.radius,e.details)}}class Pv extends ru{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Pv(e.radius,e.detail)}}const c0=new X,f0=new X,x_=new X,d0=new Zr;class Hb extends sn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Tc*t),a=e.getIndex(),u=e.getAttribute("position"),d=a?a.count:u.count,h=[0,0,0],m=["a","b","c"],g=new Array(3),y={},_=[];for(let M=0;M<d;M+=3){a?(h[0]=a.getX(M),h[1]=a.getX(M+1),h[2]=a.getX(M+2)):(h[0]=M,h[1]=M+1,h[2]=M+2);const{a:T,b:E,c:S}=d0;if(T.fromBufferAttribute(u,h[0]),E.fromBufferAttribute(u,h[1]),S.fromBufferAttribute(u,h[2]),d0.getNormal(x_),g[0]=`${Math.round(T.x*r)},${Math.round(T.y*r)},${Math.round(T.z*r)}`,g[1]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,g[2]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let b=0;b<3;b++){const C=(b+1)%3,I=g[b],U=g[C],N=d0[m[b]],F=d0[m[C]],B=`${I}_${U}`,O=`${U}_${I}`;O in y&&y[O]?(x_.dot(y[O].normal)<=s&&(_.push(N.x,N.y,N.z),_.push(F.x,F.y,F.z)),y[O]=null):B in y||(y[B]={index0:h[b],index1:h[C],normal:x_.clone()})}}for(const M in y)if(y[M]){const{index0:T,index1:E}=y[M];c0.fromBufferAttribute(u,T),f0.fromBufferAttribute(u,E),_.push(c0.x,c0.y,c0.z),_.push(f0.x,f0.y,f0.z)}this.setAttribute("position",new At(_,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Cc extends Jp{constructor(e){super(e),this.uuid=ms(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Jp().fromJSON(r))}return this}}const j8={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=Gb(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let u,d,h,m,g,y,_;if(i&&(s=K8(n,e,s,t)),n.length>80*t){u=h=n[0],d=m=n[1];for(let M=t;M<r;M+=t)g=n[M],y=n[M+1],g<u&&(u=g),y<d&&(d=y),g>h&&(h=g),y>m&&(m=y);_=Math.max(h-u,m-d),_=_!==0?32767/_:0}return em(s,a,t,u,d,_,0),a}};function Gb(n,e,t,i,r){let s,a;if(r===aU(n,e,t,i)>0)for(s=e;s<t;s+=i)a=WE(s,n[s],n[s+1],a);else for(s=t-i;s>=e;s-=i)a=WE(s,n[s],n[s+1],a);return a&&Rv(a,a.next)&&(nm(a),a=a.next),a}function Dc(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Rv(t,t.next)||Qn(t.prev,t,t.next)===0)){if(nm(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function em(n,e,t,i,r,s,a){if(!n)return;!a&&s&&tU(n,i,r,s);let u=n,d,h;for(;n.prev!==n.next;){if(d=n.prev,h=n.next,s?Y8(n,i,r,s):X8(n)){e.push(d.i/t|0),e.push(n.i/t|0),e.push(h.i/t|0),nm(n),n=h.next,u=h.next;continue}if(n=h,n===u){a?a===1?(n=q8(Dc(n),e,t),em(n,e,t,i,r,s,2)):a===2&&Z8(n,e,t,i,r,s):em(Dc(n),e,t,i,r,s,1);break}}}function X8(n){const e=n.prev,t=n,i=n.next;if(Qn(e,t,i)>=0)return!1;const r=e.x,s=t.x,a=i.x,u=e.y,d=t.y,h=i.y,m=r<s?r<a?r:a:s<a?s:a,g=u<d?u<h?u:h:d<h?d:h,y=r>s?r>a?r:a:s>a?s:a,_=u>d?u>h?u:h:d>h?d:h;let M=i.next;for(;M!==e;){if(M.x>=m&&M.x<=y&&M.y>=g&&M.y<=_&&Td(r,u,s,d,a,h,M.x,M.y)&&Qn(M.prev,M,M.next)>=0)return!1;M=M.next}return!0}function Y8(n,e,t,i){const r=n.prev,s=n,a=n.next;if(Qn(r,s,a)>=0)return!1;const u=r.x,d=s.x,h=a.x,m=r.y,g=s.y,y=a.y,_=u<d?u<h?u:h:d<h?d:h,M=m<g?m<y?m:y:g<y?g:y,T=u>d?u>h?u:h:d>h?d:h,E=m>g?m>y?m:y:g>y?g:y,S=Dx(_,M,e,t,i),b=Dx(T,E,e,t,i);let C=n.prevZ,I=n.nextZ;for(;C&&C.z>=S&&I&&I.z<=b;){if(C.x>=_&&C.x<=T&&C.y>=M&&C.y<=E&&C!==r&&C!==a&&Td(u,m,d,g,h,y,C.x,C.y)&&Qn(C.prev,C,C.next)>=0||(C=C.prevZ,I.x>=_&&I.x<=T&&I.y>=M&&I.y<=E&&I!==r&&I!==a&&Td(u,m,d,g,h,y,I.x,I.y)&&Qn(I.prev,I,I.next)>=0))return!1;I=I.nextZ}for(;C&&C.z>=S;){if(C.x>=_&&C.x<=T&&C.y>=M&&C.y<=E&&C!==r&&C!==a&&Td(u,m,d,g,h,y,C.x,C.y)&&Qn(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;I&&I.z<=b;){if(I.x>=_&&I.x<=T&&I.y>=M&&I.y<=E&&I!==r&&I!==a&&Td(u,m,d,g,h,y,I.x,I.y)&&Qn(I.prev,I,I.next)>=0)return!1;I=I.nextZ}return!0}function q8(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!Rv(r,s)&&Wb(r,i,i.next,s)&&tm(r,s)&&tm(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),nm(i),nm(i.next),i=n=s),i=i.next}while(i!==n);return Dc(i)}function Z8(n,e,t,i,r,s){let a=n;do{let u=a.next.next;for(;u!==a.prev;){if(a.i!==u.i&&rU(a,u)){let d=jb(a,u);a=Dc(a,a.next),d=Dc(d,d.next),em(a,e,t,i,r,s,0),em(d,e,t,i,r,s,0);return}u=u.next}a=a.next}while(a!==n)}function K8(n,e,t,i){const r=[];let s,a,u,d,h;for(s=0,a=e.length;s<a;s++)u=e[s]*i,d=s<a-1?e[s+1]*i:n.length,h=Gb(n,u,d,i,!1),h===h.next&&(h.steiner=!0),r.push(iU(h));for(r.sort($8),s=0;s<r.length;s++)t=Q8(r[s],t);return t}function $8(n,e){return n.x-e.x}function Q8(n,e){const t=J8(n,e);if(!t)return e;const i=jb(t,n);return Dc(i,i.next),Dc(t,t.next)}function J8(n,e){let t=e,i=-1/0,r;const s=n.x,a=n.y;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const y=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=s&&y>i&&(i=y,r=t.x<t.next.x?t:t.next,y===s))return r}t=t.next}while(t!==e);if(!r)return null;const u=r,d=r.x,h=r.y;let m=1/0,g;t=r;do s>=t.x&&t.x>=d&&s!==t.x&&Td(a<h?s:i,a,d,h,a<h?i:s,a,t.x,t.y)&&(g=Math.abs(a-t.y)/(s-t.x),tm(t,n)&&(g<m||g===m&&(t.x>r.x||t.x===r.x&&eU(r,t)))&&(r=t,m=g)),t=t.next;while(t!==u);return r}function eU(n,e){return Qn(n.prev,n,e.prev)<0&&Qn(e.next,n,n.next)<0}function tU(n,e,t,i){let r=n;do r.z===0&&(r.z=Dx(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,nU(r)}function nU(n){let e,t,i,r,s,a,u,d,h=1;do{for(t=n,n=null,s=null,a=0;t;){for(a++,i=t,u=0,e=0;e<h&&(u++,i=i.nextZ,!!i);e++);for(d=h;u>0||d>0&&i;)u!==0&&(d===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,u--):(r=i,i=i.nextZ,d--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,h*=2}while(a>1);return n}function Dx(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function iU(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Td(n,e,t,i,r,s,a,u){return(r-a)*(e-u)>=(n-a)*(s-u)&&(n-a)*(i-u)>=(t-a)*(e-u)&&(t-a)*(s-u)>=(r-a)*(i-u)}function rU(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!sU(n,e)&&(tm(n,e)&&tm(e,n)&&oU(n,e)&&(Qn(n.prev,n,e.prev)||Qn(n,e.prev,e))||Rv(n,e)&&Qn(n.prev,n,n.next)>0&&Qn(e.prev,e,e.next)>0)}function Qn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Rv(n,e){return n.x===e.x&&n.y===e.y}function Wb(n,e,t,i){const r=p0(Qn(n,e,t)),s=p0(Qn(n,e,i)),a=p0(Qn(t,i,n)),u=p0(Qn(t,i,e));return!!(r!==s&&a!==u||r===0&&h0(n,t,e)||s===0&&h0(n,i,e)||a===0&&h0(t,n,i)||u===0&&h0(t,e,i))}function h0(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function p0(n){return n>0?1:n<0?-1:0}function sU(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Wb(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function tm(n,e){return Qn(n.prev,n,n.next)<0?Qn(n,e,n.next)>=0&&Qn(n,n.prev,e)>=0:Qn(n,e,n.prev)<0||Qn(n,n.next,e)<0}function oU(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function jb(n,e){const t=new Nx(n.i,n.x,n.y),i=new Nx(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function WE(n,e,t,i){const r=new Nx(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function nm(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Nx(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function aU(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}class $o{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return $o.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];jE(e),XE(i,e);let a=e.length;t.forEach(jE);for(let d=0;d<t.length;d++)r.push(a),a+=t[d].length,XE(i,t[d]);const u=j8.triangulate(i,r);for(let d=0;d<u.length;d+=3)s.push(u.slice(d,d+3));return s}}function jE(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function XE(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Iv extends sn{constructor(e=new Cc([new Le(.5,.5),new Le(-.5,.5),new Le(-.5,-.5),new Le(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let u=0,d=e.length;u<d;u++){const h=e[u];a(h)}this.setAttribute("position",new At(r,3)),this.setAttribute("uv",new At(s,2)),this.computeVertexNormals();function a(u){const d=[],h=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,_=t.bevelThickness!==void 0?t.bevelThickness:.2,M=t.bevelSize!==void 0?t.bevelSize:_-.1,T=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:lU;let C,I=!1,U,N,F,B;S&&(C=S.getSpacedPoints(m),I=!0,y=!1,U=S.computeFrenetFrames(m,!1),N=new X,F=new X,B=new X),y||(E=0,_=0,M=0,T=0);const O=u.extractPoints(h);let D=O.shape;const H=O.holes;if(!$o.isClockWise(D)){D=D.reverse();for(let be=0,Ne=H.length;be<Ne;be++){const Y=H[be];$o.isClockWise(Y)&&(H[be]=Y.reverse())}}const ee=$o.triangulateShape(D,H),pe=D;for(let be=0,Ne=H.length;be<Ne;be++){const Y=H[be];D=D.concat(Y)}function Me(be,Ne,Y){return Ne||console.error("THREE.ExtrudeGeometry: vec does not exist"),be.clone().addScaledVector(Ne,Y)}const he=D.length,me=ee.length;function G(be,Ne,Y){let xt,Be,at;const Xe=be.x-Ne.x,Rt=be.y-Ne.y,$e=Y.x-be.x,j=Y.y-be.y,z=Xe*Xe+Rt*Rt,de=Xe*j-Rt*$e;if(Math.abs(de)>Number.EPSILON){const Ae=Math.sqrt(z),Ue=Math.sqrt($e*$e+j*j),Ie=Ne.x-Rt/Ae,yt=Ne.y+Xe/Ae,Qe=Y.x-j/Ue,lt=Y.y+$e/Ue,Gt=((Qe-Ie)*j-(lt-yt)*$e)/(Xe*j-Rt*$e);xt=Ie+Xe*Gt-be.x,Be=yt+Rt*Gt-be.y;const ze=xt*xt+Be*Be;if(ze<=2)return new Le(xt,Be);at=Math.sqrt(ze/2)}else{let Ae=!1;Xe>Number.EPSILON?$e>Number.EPSILON&&(Ae=!0):Xe<-Number.EPSILON?$e<-Number.EPSILON&&(Ae=!0):Math.sign(Rt)===Math.sign(j)&&(Ae=!0),Ae?(xt=-Rt,Be=Xe,at=Math.sqrt(z)):(xt=Xe,Be=Rt,at=Math.sqrt(z/2))}return new Le(xt/at,Be/at)}const te=[];for(let be=0,Ne=pe.length,Y=Ne-1,xt=be+1;be<Ne;be++,Y++,xt++)Y===Ne&&(Y=0),xt===Ne&&(xt=0),te[be]=G(pe[be],pe[Y],pe[xt]);const $=[];let W,se=te.concat();for(let be=0,Ne=H.length;be<Ne;be++){const Y=H[be];W=[];for(let xt=0,Be=Y.length,at=Be-1,Xe=xt+1;xt<Be;xt++,at++,Xe++)at===Be&&(at=0),Xe===Be&&(Xe=0),W[xt]=G(Y[xt],Y[at],Y[Xe]);$.push(W),se=se.concat(W)}for(let be=0;be<E;be++){const Ne=be/E,Y=_*Math.cos(Ne*Math.PI/2),xt=M*Math.sin(Ne*Math.PI/2)+T;for(let Be=0,at=pe.length;Be<at;Be++){const Xe=Me(pe[Be],te[Be],xt);Re(Xe.x,Xe.y,-Y)}for(let Be=0,at=H.length;Be<at;Be++){const Xe=H[Be];W=$[Be];for(let Rt=0,$e=Xe.length;Rt<$e;Rt++){const j=Me(Xe[Rt],W[Rt],xt);Re(j.x,j.y,-Y)}}}const Oe=M+T;for(let be=0;be<he;be++){const Ne=y?Me(D[be],se[be],Oe):D[be];I?(F.copy(U.normals[0]).multiplyScalar(Ne.x),N.copy(U.binormals[0]).multiplyScalar(Ne.y),B.copy(C[0]).add(F).add(N),Re(B.x,B.y,B.z)):Re(Ne.x,Ne.y,0)}for(let be=1;be<=m;be++)for(let Ne=0;Ne<he;Ne++){const Y=y?Me(D[Ne],se[Ne],Oe):D[Ne];I?(F.copy(U.normals[be]).multiplyScalar(Y.x),N.copy(U.binormals[be]).multiplyScalar(Y.y),B.copy(C[be]).add(F).add(N),Re(B.x,B.y,B.z)):Re(Y.x,Y.y,g/m*be)}for(let be=E-1;be>=0;be--){const Ne=be/E,Y=_*Math.cos(Ne*Math.PI/2),xt=M*Math.sin(Ne*Math.PI/2)+T;for(let Be=0,at=pe.length;Be<at;Be++){const Xe=Me(pe[Be],te[Be],xt);Re(Xe.x,Xe.y,g+Y)}for(let Be=0,at=H.length;Be<at;Be++){const Xe=H[Be];W=$[Be];for(let Rt=0,$e=Xe.length;Rt<$e;Rt++){const j=Me(Xe[Rt],W[Rt],xt);I?Re(j.x,j.y+C[m-1].y,C[m-1].x+Y):Re(j.x,j.y,g+Y)}}}ue(),Ee();function ue(){const be=r.length/3;if(y){let Ne=0,Y=he*Ne;for(let xt=0;xt<me;xt++){const Be=ee[xt];We(Be[2]+Y,Be[1]+Y,Be[0]+Y)}Ne=m+E*2,Y=he*Ne;for(let xt=0;xt<me;xt++){const Be=ee[xt];We(Be[0]+Y,Be[1]+Y,Be[2]+Y)}}else{for(let Ne=0;Ne<me;Ne++){const Y=ee[Ne];We(Y[2],Y[1],Y[0])}for(let Ne=0;Ne<me;Ne++){const Y=ee[Ne];We(Y[0]+he*m,Y[1]+he*m,Y[2]+he*m)}}i.addGroup(be,r.length/3-be,0)}function Ee(){const be=r.length/3;let Ne=0;De(pe,Ne),Ne+=pe.length;for(let Y=0,xt=H.length;Y<xt;Y++){const Be=H[Y];De(Be,Ne),Ne+=Be.length}i.addGroup(be,r.length/3-be,1)}function De(be,Ne){let Y=be.length;for(;--Y>=0;){const xt=Y;let Be=Y-1;Be<0&&(Be=be.length-1);for(let at=0,Xe=m+E*2;at<Xe;at++){const Rt=he*at,$e=he*(at+1),j=Ne+xt+Rt,z=Ne+Be+Rt,de=Ne+Be+$e,Ae=Ne+xt+$e;Ke(j,z,de,Ae)}}}function Re(be,Ne,Y){d.push(be),d.push(Ne),d.push(Y)}function We(be,Ne,Y){ct(be),ct(Ne),ct(Y);const xt=r.length/3,Be=b.generateTopUV(i,r,xt-3,xt-2,xt-1);Pt(Be[0]),Pt(Be[1]),Pt(Be[2])}function Ke(be,Ne,Y,xt){ct(be),ct(Ne),ct(xt),ct(Ne),ct(Y),ct(xt);const Be=r.length/3,at=b.generateSideWallUV(i,r,Be-6,Be-3,Be-2,Be-1);Pt(at[0]),Pt(at[1]),Pt(at[3]),Pt(at[1]),Pt(at[2]),Pt(at[3])}function ct(be){r.push(d[be*3+0]),r.push(d[be*3+1]),r.push(d[be*3+2])}function Pt(be){s.push(be.x),s.push(be.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return uU(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const u=t[e.shapes[s]];i.push(u)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Vy[r.type]().fromJSON(r)),new Iv(i,e.options)}}const lU={generateTopUV:function(n,e,t,i,r){const s=e[t*3],a=e[t*3+1],u=e[i*3],d=e[i*3+1],h=e[r*3],m=e[r*3+1];return[new Le(s,a),new Le(u,d),new Le(h,m)]},generateSideWallUV:function(n,e,t,i,r,s){const a=e[t*3],u=e[t*3+1],d=e[t*3+2],h=e[i*3],m=e[i*3+1],g=e[i*3+2],y=e[r*3],_=e[r*3+1],M=e[r*3+2],T=e[s*3],E=e[s*3+1],S=e[s*3+2];return Math.abs(u-m)<Math.abs(a-h)?[new Le(a,1-d),new Le(h,1-g),new Le(y,1-M),new Le(T,1-S)]:[new Le(u,1-d),new Le(m,1-g),new Le(_,1-M),new Le(E,1-S)]}};function uU(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Lv extends ru{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Lv(e.radius,e.detail)}}class Cm extends ru{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Cm(e.radius,e.detail)}}class Kd extends sn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,u=Math.floor(i),d=Math.floor(r),h=u+1,m=d+1,g=e/u,y=t/d,_=[],M=[],T=[],E=[];for(let S=0;S<m;S++){const b=S*y-a;for(let C=0;C<h;C++){const I=C*g-s;M.push(I,-b,0),T.push(0,0,1),E.push(C/u),E.push(1-S/d)}}for(let S=0;S<d;S++)for(let b=0;b<u;b++){const C=b+h*S,I=b+h*(S+1),U=b+1+h*(S+1),N=b+1+h*S;_.push(C,I,N),_.push(I,U,N)}this.setIndex(_),this.setAttribute("position",new At(M,3)),this.setAttribute("normal",new At(T,3)),this.setAttribute("uv",new At(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kd(e.width,e.height,e.widthSegments,e.heightSegments)}}class Dv extends sn{constructor(e=.5,t=1,i=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const u=[],d=[],h=[],m=[];let g=e;const y=(t-e)/r,_=new X,M=new Le;for(let T=0;T<=r;T++){for(let E=0;E<=i;E++){const S=s+E/i*a;_.x=g*Math.cos(S),_.y=g*Math.sin(S),d.push(_.x,_.y,_.z),h.push(0,0,1),M.x=(_.x/t+1)/2,M.y=(_.y/t+1)/2,m.push(M.x,M.y)}g+=y}for(let T=0;T<r;T++){const E=T*(i+1);for(let S=0;S<i;S++){const b=S+E,C=b,I=b+i+1,U=b+i+2,N=b+1;u.push(C,I,N),u.push(I,U,N)}}this.setIndex(u),this.setAttribute("position",new At(d,3)),this.setAttribute("normal",new At(h,3)),this.setAttribute("uv",new At(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dv(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Nv extends sn{constructor(e=new Cc([new Le(0,.5),new Le(-.5,-.5),new Le(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],a=[];let u=0,d=0;if(Array.isArray(e)===!1)h(e);else for(let m=0;m<e.length;m++)h(e[m]),this.addGroup(u,d,m),u+=d,d=0;this.setIndex(i),this.setAttribute("position",new At(r,3)),this.setAttribute("normal",new At(s,3)),this.setAttribute("uv",new At(a,2));function h(m){const g=r.length/3,y=m.extractPoints(t);let _=y.shape;const M=y.holes;$o.isClockWise(_)===!1&&(_=_.reverse());for(let E=0,S=M.length;E<S;E++){const b=M[E];$o.isClockWise(b)===!0&&(M[E]=b.reverse())}const T=$o.triangulateShape(_,M);for(let E=0,S=M.length;E<S;E++){const b=M[E];_=_.concat(b)}for(let E=0,S=_.length;E<S;E++){const b=_[E];r.push(b.x,b.y,0),s.push(0,0,1),a.push(b.x,b.y)}for(let E=0,S=T.length;E<S;E++){const b=T[E],C=b[0]+g,I=b[1]+g,U=b[2]+g;i.push(C,I,U),d+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return cU(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];i.push(a)}return new Nv(i,e.curveSegments)}}function cU(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class bm extends sn{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,a=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:u},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const d=Math.min(a+u,Math.PI);let h=0;const m=[],g=new X,y=new X,_=[],M=[],T=[],E=[];for(let S=0;S<=i;S++){const b=[],C=S/i;let I=0;S===0&&a===0?I=.5/t:S===i&&d===Math.PI&&(I=-.5/t);for(let U=0;U<=t;U++){const N=U/t;g.x=-e*Math.cos(r+N*s)*Math.sin(a+C*u),g.y=e*Math.cos(a+C*u),g.z=e*Math.sin(r+N*s)*Math.sin(a+C*u),M.push(g.x,g.y,g.z),y.copy(g).normalize(),T.push(y.x,y.y,y.z),E.push(N+I,1-C),b.push(h++)}m.push(b)}for(let S=0;S<i;S++)for(let b=0;b<t;b++){const C=m[S][b+1],I=m[S][b],U=m[S+1][b],N=m[S+1][b+1];(S!==0||a>0)&&_.push(C,I,N),(S!==i-1||d<Math.PI)&&_.push(I,U,N)}this.setIndex(_),this.setAttribute("position",new At(M,3)),this.setAttribute("normal",new At(T,3)),this.setAttribute("uv",new At(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bm(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Uv extends ru{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Uv(e.radius,e.detail)}}class Ov extends sn{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const a=[],u=[],d=[],h=[],m=new X,g=new X,y=new X;for(let _=0;_<=i;_++)for(let M=0;M<=r;M++){const T=M/r*s,E=_/i*Math.PI*2;g.x=(e+t*Math.cos(E))*Math.cos(T),g.y=(e+t*Math.cos(E))*Math.sin(T),g.z=t*Math.sin(E),u.push(g.x,g.y,g.z),m.x=e*Math.cos(T),m.y=e*Math.sin(T),y.subVectors(g,m).normalize(),d.push(y.x,y.y,y.z),h.push(M/r),h.push(_/i)}for(let _=1;_<=i;_++)for(let M=1;M<=r;M++){const T=(r+1)*_+M-1,E=(r+1)*(_-1)+M-1,S=(r+1)*(_-1)+M,b=(r+1)*_+M;a.push(T,E,b),a.push(E,S,b)}this.setIndex(a),this.setAttribute("position",new At(u,3)),this.setAttribute("normal",new At(d,3)),this.setAttribute("uv",new At(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ov(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Fv extends sn{constructor(e=1,t=.4,i=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:a},i=Math.floor(i),r=Math.floor(r);const u=[],d=[],h=[],m=[],g=new X,y=new X,_=new X,M=new X,T=new X,E=new X,S=new X;for(let C=0;C<=i;++C){const I=C/i*s*Math.PI*2;b(I,s,a,e,_),b(I+.01,s,a,e,M),E.subVectors(M,_),S.addVectors(M,_),T.crossVectors(E,S),S.crossVectors(T,E),T.normalize(),S.normalize();for(let U=0;U<=r;++U){const N=U/r*Math.PI*2,F=-t*Math.cos(N),B=t*Math.sin(N);g.x=_.x+(F*S.x+B*T.x),g.y=_.y+(F*S.y+B*T.y),g.z=_.z+(F*S.z+B*T.z),d.push(g.x,g.y,g.z),y.subVectors(g,_).normalize(),h.push(y.x,y.y,y.z),m.push(C/i),m.push(U/r)}}for(let C=1;C<=i;C++)for(let I=1;I<=r;I++){const U=(r+1)*(C-1)+(I-1),N=(r+1)*C+(I-1),F=(r+1)*C+I,B=(r+1)*(C-1)+I;u.push(U,N,B),u.push(N,F,B)}this.setIndex(u),this.setAttribute("position",new At(d,3)),this.setAttribute("normal",new At(h,3)),this.setAttribute("uv",new At(m,2));function b(C,I,U,N,F){const B=Math.cos(C),O=Math.sin(C),D=U/I*C,H=Math.cos(D);F.x=N*(2+H)*.5*B,F.y=N*(2+H)*O*.5,F.z=N*Math.sin(D)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fv(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class kv extends sn{constructor(e=new a2(new X(-1,-1,0),new X(-1,1,0),new X(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const u=new X,d=new X,h=new Le;let m=new X;const g=[],y=[],_=[],M=[];T(),this.setIndex(M),this.setAttribute("position",new At(g,3)),this.setAttribute("normal",new At(y,3)),this.setAttribute("uv",new At(_,2));function T(){for(let C=0;C<t;C++)E(C);E(s===!1?t:0),b(),S()}function E(C){m=e.getPointAt(C/t,m);const I=a.normals[C],U=a.binormals[C];for(let N=0;N<=r;N++){const F=N/r*Math.PI*2,B=Math.sin(F),O=-Math.cos(F);d.x=O*I.x+B*U.x,d.y=O*I.y+B*U.y,d.z=O*I.z+B*U.z,d.normalize(),y.push(d.x,d.y,d.z),u.x=m.x+i*d.x,u.y=m.y+i*d.y,u.z=m.z+i*d.z,g.push(u.x,u.y,u.z)}}function S(){for(let C=1;C<=t;C++)for(let I=1;I<=r;I++){const U=(r+1)*(C-1)+(I-1),N=(r+1)*C+(I-1),F=(r+1)*C+I,B=(r+1)*(C-1)+I;M.push(U,N,B),M.push(N,F,B)}}function b(){for(let C=0;C<=t;C++)for(let I=0;I<=r;I++)h.x=C/t,h.y=I/r,_.push(h.x,h.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new kv(new Vy[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Xb extends sn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new X,s=new X;if(e.index!==null){const a=e.attributes.position,u=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:u.count,materialIndex:0}]);for(let h=0,m=d.length;h<m;++h){const g=d[h],y=g.start,_=g.count;for(let M=y,T=y+_;M<T;M+=3)for(let E=0;E<3;E++){const S=u.getX(M+E),b=u.getX(M+(E+1)%3);r.fromBufferAttribute(a,S),s.fromBufferAttribute(a,b),YE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let u=0,d=a.count/3;u<d;u++)for(let h=0;h<3;h++){const m=3*u+h,g=3*u+(h+1)%3;r.fromBufferAttribute(a,m),s.fromBufferAttribute(a,g),YE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new At(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function YE(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var qE=Object.freeze({__proto__:null,BoxGeometry:Fc,CapsuleGeometry:Av,CircleGeometry:Cv,ConeGeometry:bv,CylinderGeometry:Zd,DodecahedronGeometry:Pv,EdgesGeometry:Hb,ExtrudeGeometry:Iv,IcosahedronGeometry:Lv,LatheGeometry:Am,OctahedronGeometry:Cm,PlaneGeometry:Kd,PolyhedronGeometry:ru,RingGeometry:Dv,ShapeGeometry:Nv,SphereGeometry:bm,TetrahedronGeometry:Uv,TorusGeometry:Ov,TorusKnotGeometry:Fv,TubeGeometry:kv,WireframeGeometry:Xb});class Yb extends gr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new pt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class qb extends Vs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class u2 extends gr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new pt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ys,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Zb extends u2{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Le(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Yt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new pt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new pt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new pt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Kb extends gr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new pt(16777215),this.specular=new pt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ys,this.combine=xm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $b extends gr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new pt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Qb extends gr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Jb extends gr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ys,this.combine=xm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class c2 extends gr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=fb,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class f2 extends gr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class e4 extends gr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new pt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class t4 extends Dr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function _c(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function n4(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function i4(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function Ux(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,a=0;a!==i;++s){const u=t[s]*e;for(let d=0;d!==e;++d)r[a++]=n[u+d]}return r}function d2(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),t.push.apply(t,a)),s=n[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),t.push(a)),s=n[r++];while(s!==void 0)}function fU(n,e,t,i,r=30){const s=n.clone();s.name=e;const a=[];for(let d=0;d<s.tracks.length;++d){const h=s.tracks[d],m=h.getValueSize(),g=[],y=[];for(let _=0;_<h.times.length;++_){const M=h.times[_]*r;if(!(M<t||M>=i)){g.push(h.times[_]);for(let T=0;T<m;++T)y.push(h.values[_*m+T])}}g.length!==0&&(h.times=_c(g,h.times.constructor),h.values=_c(y,h.values.constructor),a.push(h))}s.tracks=a;let u=1/0;for(let d=0;d<s.tracks.length;++d)u>s.tracks[d].times[0]&&(u=s.tracks[d].times[0]);for(let d=0;d<s.tracks.length;++d)s.tracks[d].shift(-1*u);return s.resetDuration(),s}function dU(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let a=0;a<r;++a){const u=t.tracks[a],d=u.ValueTypeName;if(d==="bool"||d==="string")continue;const h=n.tracks.find(function(S){return S.name===u.name&&S.ValueTypeName===d});if(h===void 0)continue;let m=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let y=0;const _=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=_/3);const M=u.times.length-1;let T;if(s<=u.times[0]){const S=m,b=g-m;T=u.values.slice(S,b)}else if(s>=u.times[M]){const S=M*g+m,b=S+g-m;T=u.values.slice(S,b)}else{const S=u.createInterpolant(),b=m,C=g-m;S.evaluate(s),T=S.resultBuffer.slice(b,C)}d==="quaternion"&&new pr().fromArray(T).normalize().conjugate().toArray(T);const E=h.times.length;for(let S=0;S<E;++S){const b=S*_+y;if(d==="quaternion")pr.multiplyQuaternionsFlat(h.values,b,T,0,h.values,b);else{const C=_-y*2;for(let I=0;I<C;++I)h.values[b+I]-=T[I]}}}return n.blendMode=YS,n}const hU={convertArray:_c,isTypedArray:n4,getKeyframeOrder:i4,sortedArray:Ux,flattenJSON:d2,subclip:fU,makeClipAdditive:dU};class Pm{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let u=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===u)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(!(e>=s)){const u=t[1];e<u&&(i=2,s=u);for(let d=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===d)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const u=i+a>>>1;e<t[u]?a=u:i=u+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class r4 extends Pm{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:gc,endingEnd:gc}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,u=r[s],d=r[a];if(u===void 0)switch(this.getSettings_().endingStart){case yc:s=e,u=2*t-i;break;case qp:s=r.length-2,u=t+r[s]-r[s+1];break;default:s=e,u=i}if(d===void 0)switch(this.getSettings_().endingEnd){case yc:a=e,d=2*i-t;break;case qp:a=1,d=i+r[1]-r[0];break;default:a=e-1,d=t}const h=(i-t)*.5,m=this.valueSize;this._weightPrev=h/(t-u),this._weightNext=h/(d-i),this._offsetPrev=s*m,this._offsetNext=a*m}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,u=this.valueSize,d=e*u,h=d-u,m=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,_=this._weightNext,M=(i-t)/(r-t),T=M*M,E=T*M,S=-y*E+2*y*T-y*M,b=(1+y)*E+(-1.5-2*y)*T+(-.5+y)*M+1,C=(-1-_)*E+(1.5+_)*T+.5*M,I=_*E-_*T;for(let U=0;U!==u;++U)s[U]=S*a[m+U]+b*a[h+U]+C*a[d+U]+I*a[g+U];return s}}class h2 extends Pm{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,u=this.valueSize,d=e*u,h=d-u,m=(i-t)/(r-t),g=1-m;for(let y=0;y!==u;++y)s[y]=a[h+y]*g+a[d+y]*m;return s}}class s4 extends Pm{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ao{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=_c(t,this.TimeBufferType),this.values=_c(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:_c(e.times,Array),values:_c(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new s4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new h2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new r4(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Yp:t=this.InterpolantFactoryMethodDiscrete;break;case ky:t=this.InterpolantFactoryMethodLinear;break;case z0:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Yp;case this.InterpolantFactoryMethodLinear:return ky;case this.InterpolantFactoryMethodSmooth:return z0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const u=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*u,a*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let u=0;u!==s;u++){const d=i[u];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,d),e=!1;break}if(a!==null&&a>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,d,a),e=!1;break}a=d}if(r!==void 0&&n4(r))for(let u=0,d=r.length;u!==d;++u){const h=r[u];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,h),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===z0,s=e.length-1;let a=1;for(let u=1;u<s;++u){let d=!1;const h=e[u],m=e[u+1];if(h!==m&&(u!==1||h!==e[0]))if(r)d=!0;else{const g=u*i,y=g-i,_=g+i;for(let M=0;M!==i;++M){const T=t[g+M];if(T!==t[y+M]||T!==t[_+M]){d=!0;break}}}if(d){if(u!==a){e[a]=e[u];const g=u*i,y=a*i;for(let _=0;_!==i;++_)t[y+_]=t[g+_]}++a}}if(s>0){e[a]=e[s];for(let u=s*i,d=a*i,h=0;h!==i;++h)t[d+h]=t[u+h];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Ao.prototype.TimeBufferType=Float32Array;Ao.prototype.ValueBufferType=Float32Array;Ao.prototype.DefaultInterpolation=ky;class kc extends Ao{constructor(e,t,i){super(e,t,i)}}kc.prototype.ValueTypeName="bool";kc.prototype.ValueBufferType=Array;kc.prototype.DefaultInterpolation=Yp;kc.prototype.InterpolantFactoryMethodLinear=void 0;kc.prototype.InterpolantFactoryMethodSmooth=void 0;class p2 extends Ao{}p2.prototype.ValueTypeName="color";class im extends Ao{}im.prototype.ValueTypeName="number";class o4 extends Pm{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,u=this.valueSize,d=(i-t)/(r-t);let h=e*u;for(let m=h+u;h!==m;h+=4)pr.slerpFlat(s,0,a,h-u,a,h,d);return s}}class Rm extends Ao{InterpolantFactoryMethodLinear(e){return new o4(this.times,this.values,this.getValueSize(),e)}}Rm.prototype.ValueTypeName="quaternion";Rm.prototype.InterpolantFactoryMethodSmooth=void 0;class zc extends Ao{constructor(e,t,i){super(e,t,i)}}zc.prototype.ValueTypeName="string";zc.prototype.ValueBufferType=Array;zc.prototype.DefaultInterpolation=Yp;zc.prototype.InterpolantFactoryMethodLinear=void 0;zc.prototype.InterpolantFactoryMethodSmooth=void 0;class rm extends Ao{}rm.prototype.ValueTypeName="vector";class sm{constructor(e="",t=-1,i=[],r=yv){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=ms(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,u=i.length;a!==u;++a)t.push(mU(i[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)t.push(Ao.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,a=[];for(let u=0;u<s;u++){let d=[],h=[];d.push((u+s-1)%s,u,(u+1)%s),h.push(0,1,0);const m=i4(d);d=Ux(d,1,m),h=Ux(h,1,m),!r&&d[0]===0&&(d.push(s),h.push(h[0])),a.push(new im(".morphTargetInfluences["+t[u].name+"]",d,h).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let u=0,d=e.length;u<d;u++){const h=e[u],m=h.name.match(s);if(m&&m.length>1){const g=m[1];let y=r[g];y||(r[g]=y=[]),y.push(h)}}const a=[];for(const u in r)a.push(this.CreateFromMorphTargetSequence(u,r[u],t,i));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(g,y,_,M,T){if(_.length!==0){const E=[],S=[];d2(_,E,S,M),E.length!==0&&T.push(new g(y,E,S))}},r=[],s=e.name||"default",a=e.fps||30,u=e.blendMode;let d=e.length||-1;const h=e.hierarchy||[];for(let g=0;g<h.length;g++){const y=h[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const _={};let M;for(M=0;M<y.length;M++)if(y[M].morphTargets)for(let T=0;T<y[M].morphTargets.length;T++)_[y[M].morphTargets[T]]=-1;for(const T in _){const E=[],S=[];for(let b=0;b!==y[M].morphTargets.length;++b){const C=y[M];E.push(C.time),S.push(C.morphTarget===T?1:0)}r.push(new im(".morphTargetInfluence["+T+"]",E,S))}d=_.length*a}else{const _=".bones["+t[g].name+"]";i(rm,_+".position",y,"pos",r),i(Rm,_+".quaternion",y,"rot",r),i(rm,_+".scale",y,"scl",r)}}return r.length===0?null:new this(s,d,r,u)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function pU(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return im;case"vector":case"vector2":case"vector3":case"vector4":return rm;case"color":return p2;case"quaternion":return Rm;case"bool":case"boolean":return kc;case"string":return zc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function mU(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=pU(n.type);if(n.times===void 0){const t=[],i=[];d2(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Xa={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class m2{constructor(e,t,i){const r=this;let s=!1,a=0,u=0,d;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(m){u++,s===!1&&r.onStart!==void 0&&r.onStart(m,a,u),s=!0},this.itemEnd=function(m){a++,r.onProgress!==void 0&&r.onProgress(m,a,u),a===u&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return d?d(m):m},this.setURLModifier=function(m){return d=m,this},this.addHandler=function(m,g){return h.push(m,g),this},this.removeHandler=function(m){const g=h.indexOf(m);return g!==-1&&h.splice(g,2),this},this.getHandler=function(m){for(let g=0,y=h.length;g<y;g+=2){const _=h[g],M=h[g+1];if(_.global&&(_.lastIndex=0),_.test(m))return M}return null}}}const a4=new m2;class Qr{constructor(e){this.manager=e!==void 0?e:a4,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Qr.DEFAULT_MATERIAL_NAME="__DEFAULT";const za={};class gU extends Error{constructor(e,t){super(e),this.response=t}}class tl extends Qr{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Xa.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(za[e]!==void 0){za[e].push({onLoad:t,onProgress:i,onError:r});return}za[e]=[],za[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),u=this.mimeType,d=this.responseType;fetch(a).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const m=za[e],g=h.body.getReader(),y=h.headers.get("X-File-Size")||h.headers.get("Content-Length"),_=y?parseInt(y):0,M=_!==0;let T=0;const E=new ReadableStream({start(S){b();function b(){g.read().then(({done:C,value:I})=>{if(C)S.close();else{T+=I.byteLength;const U=new ProgressEvent("progress",{lengthComputable:M,loaded:T,total:_});for(let N=0,F=m.length;N<F;N++){const B=m[N];B.onProgress&&B.onProgress(U)}S.enqueue(I),b()}},C=>{S.error(C)})}}});return new Response(E)}else throw new gU(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(d){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(m=>new DOMParser().parseFromString(m,u));case"json":return h.json();default:if(u===void 0)return h.text();{const g=/charset="?([^;"\s]*)"?/i.exec(u),y=g&&g[1]?g[1].toLowerCase():void 0,_=new TextDecoder(y);return h.arrayBuffer().then(M=>_.decode(M))}}}).then(h=>{Xa.add(e,h);const m=za[e];delete za[e];for(let g=0,y=m.length;g<y;g++){const _=m[g];_.onLoad&&_.onLoad(h)}}).catch(h=>{const m=za[e];if(m===void 0)throw this.manager.itemError(e),h;delete za[e];for(let g=0,y=m.length;g<y;g++){const _=m[g];_.onError&&_.onError(h)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class yU extends Qr{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new tl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(u){try{t(s.parse(JSON.parse(u)))}catch(d){r?r(d):console.error(d),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=sm.parse(e[i]);t.push(r)}return t}}class vU extends Qr{constructor(e){super(e)}load(e,t,i,r){const s=this,a=[],u=new Ev,d=new tl(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(s.withCredentials);let h=0;function m(g){d.load(e[g],function(y){const _=s.parse(y,!0);a[g]={width:_.width,height:_.height,format:_.format,mipmaps:_.mipmaps},h+=1,h===6&&(_.mipmapCount===1&&(u.minFilter=Li),u.image=a,u.format=_.format,u.needsUpdate=!0,t&&t(u))},i,r)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)m(g);else d.load(e,function(g){const y=s.parse(g,!0);if(y.isCubemap){const _=y.mipmaps.length/y.mipmapCount;for(let M=0;M<_;M++){a[M]={mipmaps:[]};for(let T=0;T<y.mipmapCount;T++)a[M].mipmaps.push(y.mipmaps[M*y.mipmapCount+T]),a[M].format=y.format,a[M].width=y.width,a[M].height=y.height}u.image=a}else u.image.width=y.width,u.image.height=y.height,u.mipmaps=y.mipmaps;y.mipmapCount===1&&(u.minFilter=Li),u.format=y.format,u.needsUpdate=!0,t&&t(u)},i,r);return u}}class om extends Qr{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Xa.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const u=Qp("img");function d(){m(),Xa.add(e,this),t&&t(this),s.manager.itemEnd(e)}function h(g){m(),r&&r(g),s.manager.itemError(e),s.manager.itemEnd(e)}function m(){u.removeEventListener("load",d,!1),u.removeEventListener("error",h,!1)}return u.addEventListener("load",d,!1),u.addEventListener("error",h,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),s.manager.itemStart(e),u.src=e,u}}class _U extends Qr{constructor(e){super(e)}load(e,t,i,r){const s=new Em;s.colorSpace=qr;const a=new om(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let u=0;function d(h){a.load(e[h],function(m){s.images[h]=m,u++,u===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let h=0;h<e.length;++h)d(h);return s}}class xU extends Qr{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Ko,u=new tl(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(s.withCredentials),u.load(e,function(d){let h;try{h=s.parse(d)}catch(m){if(r!==void 0)r(m);else{console.error(m);return}}h.image!==void 0?a.image=h.image:h.data!==void 0&&(a.image.width=h.width,a.image.height=h.height,a.image.data=h.data),a.wrapS=h.wrapS!==void 0?h.wrapS:Fs,a.wrapT=h.wrapT!==void 0?h.wrapT:Fs,a.magFilter=h.magFilter!==void 0?h.magFilter:Li,a.minFilter=h.minFilter!==void 0?h.minFilter:Li,a.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.colorSpace!==void 0&&(a.colorSpace=h.colorSpace),h.flipY!==void 0&&(a.flipY=h.flipY),h.format!==void 0&&(a.format=h.format),h.type!==void 0&&(a.type=h.type),h.mipmaps!==void 0&&(a.mipmaps=h.mipmaps,a.minFilter=Xo),h.mipmapCount===1&&(a.minFilter=Li),h.generateMipmaps!==void 0&&(a.generateMipmaps=h.generateMipmaps),a.needsUpdate=!0,t&&t(a,h)},i,r),a}}class SU extends Qr{constructor(e){super(e)}load(e,t,i,r){const s=new si,a=new om(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(u){s.image=u,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class su extends Mn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new pt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class l4 extends su{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new pt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const S_=new Vt,ZE=new X,KE=new X;class g2{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Le(512,512),this.map=null,this.mapPass=null,this.matrix=new Vt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Tm,this._frameExtents=new Le(1,1),this._viewportCount=1,this._viewports=[new Sn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;ZE.setFromMatrixPosition(e.matrixWorld),t.position.copy(ZE),KE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(KE),t.updateMatrixWorld(),S_.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(S_),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(S_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class MU extends g2{constructor(){super(new fi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=zd*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class u4 extends su{constructor(e,t,i=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.target=new Mn,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new MU}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const $E=new Vt,sp=new X,M_=new X;class wU extends g2{constructor(){super(new fi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Le(4,2),this._viewportCount=6,this._viewports=[new Sn(2,1,1,1),new Sn(0,1,1,1),new Sn(3,1,1,1),new Sn(1,1,1,1),new Sn(3,0,1,1),new Sn(1,0,1,1)],this._cubeDirections=[new X(1,0,0),new X(-1,0,0),new X(0,0,1),new X(0,0,-1),new X(0,1,0),new X(0,-1,0)],this._cubeUps=[new X(0,1,0),new X(0,1,0),new X(0,1,0),new X(0,1,0),new X(0,0,1),new X(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),sp.setFromMatrixPosition(e.matrixWorld),i.position.copy(sp),M_.copy(i.position),M_.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(M_),i.updateMatrixWorld(),r.makeTranslation(-sp.x,-sp.y,-sp.z),$E.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix($E)}}class c4 extends su{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new wU}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Zl extends wm{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,u=r+t,d=r-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=h*this.view.offsetX,a=s+h*this.view.width,u-=m*this.view.offsetY,d=u-m*this.view.height}this.projectionMatrix.makeOrthographic(s,a,u,d,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class EU extends g2{constructor(){super(new Zl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class f4 extends su{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.target=new Mn,this.shadow=new EU}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class d4 extends su{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class h4 extends su{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class p4{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new X)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(i*s)),t.addScaledVector(a[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*i*s),t.addScaledVector(a[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class m4 extends su{constructor(e=new p4,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class zv extends Qr{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,a=new tl(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(u){try{t(s.parse(JSON.parse(u)))}catch(d){r?r(d):console.error(d),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new pt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=i(a.value);break;case"c":r.uniforms[s].value=new pt().setHex(a.value);break;case"v2":r.uniforms[s].value=new Le().fromArray(a.value);break;case"v3":r.uniforms[s].value=new X().fromArray(a.value);break;case"v4":r.uniforms[s].value=new Sn().fromArray(a.value);break;case"m3":r.uniforms[s].value=new Kt().fromArray(a.value);break;case"m4":r.uniforms[s].value=new Vt().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Le().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Le().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return zv.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:Yb,SpriteMaterial:JS,RawShaderMaterial:qb,ShaderMaterial:Vs,PointsMaterial:t2,MeshPhysicalMaterial:Zb,MeshStandardMaterial:u2,MeshPhongMaterial:Kb,MeshToonMaterial:$b,MeshNormalMaterial:Qb,MeshLambertMaterial:Jb,MeshDepthMaterial:c2,MeshDistanceMaterial:f2,MeshBasicMaterial:iu,MeshMatcapMaterial:e4,LineDashedMaterial:t4,LineBasicMaterial:Dr,Material:gr};return new t[e]}}class Ox{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class g4 extends sn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class y4 extends Qr{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new tl(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(u){try{t(s.parse(JSON.parse(u)))}catch(d){r?r(d):console.error(d),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(_,M){if(t[M]!==void 0)return t[M];const E=_.interleavedBuffers[M],S=s(_,E.buffer),b=wd(E.type,S),C=new Mv(b,E.stride);return C.uuid=E.uuid,t[M]=C,C}function s(_,M){if(i[M]!==void 0)return i[M];const E=_.arrayBuffers[M],S=new Uint32Array(E).buffer;return i[M]=S,S}const a=e.isInstancedBufferGeometry?new g4:new sn,u=e.data.index;if(u!==void 0){const _=wd(u.type,u.array);a.setIndex(new Nn(_,1))}const d=e.data.attributes;for(const _ in d){const M=d[_];let T;if(M.isInterleavedBufferAttribute){const E=r(e.data,M.data);T=new Lc(E,M.itemSize,M.offset,M.normalized)}else{const E=wd(M.type,M.array),S=M.isInstancedBufferAttribute?Vd:Nn;T=new S(E,M.itemSize,M.normalized)}M.name!==void 0&&(T.name=M.name),M.usage!==void 0&&T.setUsage(M.usage),a.setAttribute(_,T)}const h=e.data.morphAttributes;if(h)for(const _ in h){const M=h[_],T=[];for(let E=0,S=M.length;E<S;E++){const b=M[E];let C;if(b.isInterleavedBufferAttribute){const I=r(e.data,b.data);C=new Lc(I,b.itemSize,b.offset,b.normalized)}else{const I=wd(b.type,b.array);C=new Nn(I,b.itemSize,b.normalized)}b.name!==void 0&&(C.name=b.name),T.push(C)}a.morphAttributes[_]=T}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let _=0,M=g.length;_!==M;++_){const T=g[_];a.addGroup(T.start,T.count,T.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const _=new X;y.center!==void 0&&_.fromArray(y.center),a.boundingSphere=new mr(_,y.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class TU extends Qr{constructor(e){super(e)}load(e,t,i,r){const s=this,a=this.path===""?Ox.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const u=new tl(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(d){let h=null;try{h=JSON.parse(d)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const m=h.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(h,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Ox.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new tl(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),u=JSON.parse(a),d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(u)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(h)}),u=this.parseTextures(e.textures,a),d=this.parseMaterials(e.materials,u),h=this.parseObject(e.object,s,d,u,i),m=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,m),this.bindLightTargets(h),t!==void 0){let g=!1;for(const y in a)if(a[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(h)}return h}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),u=this.parseMaterials(e.materials,a),d=this.parseObject(e.object,r,u,a,t),h=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,h),this.bindLightTargets(d),d}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Cc().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const u=new wv().fromJSON(e[s],r);i[u.uuid]=u}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new y4;for(let s=0,a=e.length;s<a;s++){let u;const d=e[s];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":u=r.parse(d);break;default:d.type in qE?u=qE[d.type].fromJSON(d,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${d.type}"`)}u.uuid=d.uuid,d.name!==void 0&&(u.name=d.name),d.userData!==void 0&&(u.userData=d.userData),i[d.uuid]=u}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new zv;s.setTextures(t);for(let a=0,u=e.length;a<u;a++){const d=e[a];i[d.uuid]===void 0&&(i[d.uuid]=s.parse(d)),r[d.uuid]=i[d.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=sm.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function a(d){return i.manager.itemStart(d),s.load(d,function(){i.manager.itemEnd(d)},void 0,function(){i.manager.itemError(d),i.manager.itemEnd(d)})}function u(d){if(typeof d=="string"){const h=d,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:i.resourcePath+h;return a(m)}else return d.data?{data:wd(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new m2(t);s=new om(d),s.setCrossOrigin(this.crossOrigin);for(let h=0,m=e.length;h<m;h++){const g=e[h],y=g.url;if(Array.isArray(y)){const _=[];for(let M=0,T=y.length;M<T;M++){const E=y[M],S=u(E);S!==null&&(S instanceof HTMLImageElement?_.push(S):_.push(new Ko(S.data,S.width,S.height)))}r[g.uuid]=new vc(_)}else{const _=u(g.url);r[g.uuid]=new vc(_)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(a){if(typeof a=="string"){const u=a,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:t.resourcePath+u;return await r.loadAsync(d)}else return a.data?{data:wd(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new om(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,u=e.length;a<u;a++){const d=e[a],h=d.url;if(Array.isArray(h)){const m=[];for(let g=0,y=h.length;g<y;g++){const _=h[g],M=await s(_);M!==null&&(M instanceof HTMLImageElement?m.push(M):m.push(new Ko(M.data,M.width,M.height)))}i[d.uuid]=new vc(m)}else{const m=await s(d.url);i[d.uuid]=new vc(m)}}}return i}parseTextures(e,t){function i(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const u=e[s];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),t[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);const d=t[u.image],h=d.data;let m;Array.isArray(h)?(m=new Em,h.length===6&&(m.needsUpdate=!0)):(h&&h.data?m=new Ko:m=new si,h&&(m.needsUpdate=!0)),m.source=d,m.uuid=u.uuid,u.name!==void 0&&(m.name=u.name),u.mapping!==void 0&&(m.mapping=i(u.mapping,AU)),u.channel!==void 0&&(m.channel=u.channel),u.offset!==void 0&&m.offset.fromArray(u.offset),u.repeat!==void 0&&m.repeat.fromArray(u.repeat),u.center!==void 0&&m.center.fromArray(u.center),u.rotation!==void 0&&(m.rotation=u.rotation),u.wrap!==void 0&&(m.wrapS=i(u.wrap[0],QE),m.wrapT=i(u.wrap[1],QE)),u.format!==void 0&&(m.format=u.format),u.internalFormat!==void 0&&(m.internalFormat=u.internalFormat),u.type!==void 0&&(m.type=u.type),u.colorSpace!==void 0&&(m.colorSpace=u.colorSpace),u.minFilter!==void 0&&(m.minFilter=i(u.minFilter,JE)),u.magFilter!==void 0&&(m.magFilter=i(u.magFilter,JE)),u.anisotropy!==void 0&&(m.anisotropy=u.anisotropy),u.flipY!==void 0&&(m.flipY=u.flipY),u.generateMipmaps!==void 0&&(m.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(m.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(m.compareFunction=u.compareFunction),u.userData!==void 0&&(m.userData=u.userData),r[u.uuid]=m}return r}parseObject(e,t,i,r,s){let a;function u(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function d(y){if(y!==void 0){if(Array.isArray(y)){const _=[];for(let M=0,T=y.length;M<T;M++){const E=y[M];i[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),_.push(i[E])}return _}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function h(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let m,g;switch(e.type){case"Scene":a=new QS,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new pt(e.background):a.background=h(e.background)),e.environment!==void 0&&(a.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new Sv(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new xv(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new fi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Zl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new d4(e.color,e.intensity);break;case"DirectionalLight":a=new f4(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new c4(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new h4(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new u4(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new l4(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new m4().fromJSON(e);break;case"SkinnedMesh":m=u(e.geometry),g=d(e.material),a=new Lb(m,g),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":m=u(e.geometry),g=d(e.material),a=new Mi(m,g);break;case"InstancedMesh":m=u(e.geometry),g=d(e.material);const y=e.count,_=e.instanceMatrix,M=e.instanceColor;a=new Db(m,g,y),a.instanceMatrix=new Vd(new Float32Array(_.array),16),M!==void 0&&(a.instanceColor=new Vd(new Float32Array(M.array),M.itemSize));break;case"BatchedMesh":m=u(e.geometry),g=d(e.material),a=new Nb(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),a.geometry=m,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(T=>{const E=new Ir;E.min.fromArray(T.boxMin),E.max.fromArray(T.boxMax);const S=new mr;return S.radius=T.sphereRadius,S.center.fromArray(T.sphereCenter),{boxInitialized:T.boxInitialized,box:E,sphereInitialized:T.sphereInitialized,sphere:S}}),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=h(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=h(e.colorsTexture.uuid));break;case"LOD":a=new Ib;break;case"Line":a=new eu(u(e.geometry),d(e.material));break;case"LineLoop":a=new Ub(u(e.geometry),d(e.material));break;case"LineSegments":a=new ea(u(e.geometry),d(e.material));break;case"PointCloud":case"Points":a=new Ob(u(e.geometry),d(e.material));break;case"Sprite":a=new Rb(d(e.material));break;case"Group":a=new Ed;break;case"Bone":a=new e2;break;default:a=new Mn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let _=0;_<y.length;_++)a.add(this.parseObject(y[_],t,i,r,s))}if(e.animations!==void 0){const y=e.animations;for(let _=0;_<y.length;_++){const M=y[_];a.animations.push(s[M])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const y=e.levels;for(let _=0;_<y.length;_++){const M=y[_],T=a.getObjectByProperty("uuid",M.object);T!==void 0&&a.addLevel(T,M.distance,M.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new Mn}})}}const AU={UVMapping:cv,CubeReflectionMapping:Ja,CubeRefractionMapping:Jl,EquirectangularReflectionMapping:Gp,EquirectangularRefractionMapping:Wp,CubeUVReflectionMapping:Yd},QE={RepeatWrapping:jp,ClampToEdgeWrapping:Fs,MirroredRepeatWrapping:Xp},JE={NearestFilter:Ji,NearestMipmapNearestFilter:FS,NearestMipmapLinearFilter:Md,LinearFilter:Li,LinearMipmapNearestFilter:Tp,LinearMipmapLinearFilter:Xo};class CU extends Qr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Xa.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(h=>{t&&t(h),s.manager.itemEnd(e)}).catch(h=>{r&&r(h)});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader;const d=fetch(e,u).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(h){return Xa.add(e,h),t&&t(h),s.manager.itemEnd(e),h}).catch(function(h){r&&r(h),Xa.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Xa.add(e,d),s.manager.itemStart(e)}}let m0;class y2{static getContext(){return m0===void 0&&(m0=new(window.AudioContext||window.webkitAudioContext)),m0}static setContext(e){m0=e}}class bU extends Qr{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new tl(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(d){try{const h=d.slice(0);y2.getContext().decodeAudioData(h,function(g){t(g)}).catch(u)}catch(h){u(h)}},i,r);function u(d){r?r(d):console.error(d),s.manager.itemError(e)}}}const e3=new Vt,t3=new Vt,Qu=new Vt;class PU{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new fi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new fi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Qu.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(Tc*t.fov*.5)/t.zoom;let u,d;t3.elements[12]=-r,e3.elements[12]=r,u=-a*t.aspect+s,d=a*t.aspect+s,Qu.elements[0]=2*t.near/(d-u),Qu.elements[8]=(d+u)/(d-u),this.cameraL.projectionMatrix.copy(Qu),u=-a*t.aspect-s,d=a*t.aspect-s,Qu.elements[0]=2*t.near/(d-u),Qu.elements[8]=(d+u)/(d-u),this.cameraR.projectionMatrix.copy(Qu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(t3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(e3)}}class v4 extends fi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class v2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=n3(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=n3();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function n3(){return performance.now()}const Ju=new X,i3=new pr,RU=new X,ec=new X;class IU extends Mn{constructor(){super(),this.type="AudioListener",this.context=y2.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new v2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ju,i3,RU),ec.set(0,0,-1).applyQuaternion(i3),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ju.x,r),t.positionY.linearRampToValueAtTime(Ju.y,r),t.positionZ.linearRampToValueAtTime(Ju.z,r),t.forwardX.linearRampToValueAtTime(ec.x,r),t.forwardY.linearRampToValueAtTime(ec.y,r),t.forwardZ.linearRampToValueAtTime(ec.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Ju.x,Ju.y,Ju.z),t.setOrientation(ec.x,ec.y,ec.z,i.x,i.y,i.z)}}class _4 extends Mn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const tc=new X,r3=new pr,LU=new X,nc=new X;class DU extends _4{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(tc,r3,LU),nc.set(0,0,1).applyQuaternion(r3);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(tc.x,i),t.positionY.linearRampToValueAtTime(tc.y,i),t.positionZ.linearRampToValueAtTime(tc.z,i),t.orientationX.linearRampToValueAtTime(nc.x,i),t.orientationY.linearRampToValueAtTime(nc.y,i),t.orientationZ.linearRampToValueAtTime(nc.z,i)}else t.setPosition(tc.x,tc.y,tc.z),t.setOrientation(nc.x,nc.y,nc.z)}}class NU{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class x4{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let u=0;u!==r;++u)i[s+u]=i[u];a=t}else{a+=t;const u=t/a;this._mixBufferRegion(i,s,0,u,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const d=t*this._origIndex;this._mixBufferRegion(i,r,d,1-s,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let d=t,h=t+t;d!==h;++d)if(i[d]!==i[d+t]){u.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,a=r;s!==a;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){pr.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const a=this._workIndex*s;pr.multiplyQuaternionsFlat(e,a,e,t,e,i),pr.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,s){const a=1-r;for(let u=0;u!==s;++u){const d=t+u;e[d]=e[d]*a+e[i+u]*r}}_lerpAdditive(e,t,i,r,s){for(let a=0;a!==s;++a){const u=t+a;e[u]=e[u]+e[i+a]*r}}}const _2="\\[\\]\\.:\\/",UU=new RegExp("["+_2+"]","g"),x2="[^"+_2+"]",OU="[^"+_2.replace("\\.","")+"]",FU=/((?:WC+[\/:])*)/.source.replace("WC",x2),kU=/(WCOD+)?/.source.replace("WCOD",OU),zU=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",x2),BU=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",x2),VU=new RegExp("^"+FU+kU+zU+BU+"$"),HU=["material","materials","bones","map"];class GU{constructor(e,t,i){const r=i||xn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class xn{constructor(e,t,i){this.path=t,this.parsedPath=i||xn.parseTrackName(t),this.node=xn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new xn.Composite(e,t,i):new xn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(UU,"")}static parseTrackName(e){const t=VU.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);HU.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const u=s[a];if(u.name===t||u.uuid===t)return u;const d=i(u.children);if(d)return d}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=xn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let h=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===h){h=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(h!==void 0){if(e[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const a=e[r];if(a===void 0){const h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+r+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?u=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}d=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(d=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}xn.Composite=GU;xn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};xn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};xn.prototype.GetterByBindingType=[xn.prototype._getValue_direct,xn.prototype._getValue_array,xn.prototype._getValue_arrayElement,xn.prototype._getValue_toArray];xn.prototype.SetterByBindingTypeAndVersioning=[[xn.prototype._setValue_direct,xn.prototype._setValue_direct_setNeedsUpdate,xn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[xn.prototype._setValue_array,xn.prototype._setValue_array_setNeedsUpdate,xn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[xn.prototype._setValue_arrayElement,xn.prototype._setValue_arrayElement_setNeedsUpdate,xn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[xn.prototype._setValue_fromArray,xn.prototype._setValue_fromArray_setNeedsUpdate,xn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class WU{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ms(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let u,d=e.length,h=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const y=arguments[m],_=y.uuid;let M=t[_];if(M===void 0){M=d++,t[_]=M,e.push(y);for(let T=0,E=a;T!==E;++T)s[T].push(new xn(y,i[T],r[T]))}else if(M<h){u=e[M];const T=--h,E=e[T];t[E.uuid]=M,e[M]=E,t[_]=T,e[T]=y;for(let S=0,b=a;S!==b;++S){const C=s[S],I=C[T];let U=C[M];C[M]=I,U===void 0&&(U=new xn(y,i[S],r[S])),C[T]=U}}else e[M]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let a=0,u=arguments.length;a!==u;++a){const d=arguments[a],h=d.uuid,m=t[h];if(m!==void 0&&m>=s){const g=s++,y=e[g];t[y.uuid]=m,e[m]=y,t[h]=g,e[g]=d;for(let _=0,M=r;_!==M;++_){const T=i[_],E=T[g],S=T[m];T[m]=E,T[g]=S}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,a=e.length;for(let u=0,d=arguments.length;u!==d;++u){const h=arguments[u],m=h.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<s){const y=--s,_=e[y],M=--a,T=e[M];t[_.uuid]=g,e[g]=_,t[T.uuid]=y,e[y]=T,e.pop();for(let E=0,S=r;E!==S;++E){const b=i[E],C=b[y],I=b[M];b[g]=C,b[y]=I,b.pop()}}else{const y=--a,_=e[y];y>0&&(t[_.uuid]=g),e[g]=_,e.pop();for(let M=0,T=r;M!==T;++M){const E=i[M];E[g]=E[y],E.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,u=this._parsedPaths,d=this._objects,h=d.length,m=this.nCachedObjects_,g=new Array(h);r=s.length,i[e]=r,a.push(e),u.push(t),s.push(g);for(let y=m,_=d.length;y!==_;++y){const M=d[y];g[y]=new xn(M,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,u=a.length-1,d=a[u],h=e[u];t[h]=i,a[i]=d,a.pop(),s[i]=s[u],s.pop(),r[i]=r[u],r.pop()}}}class S4{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,a=s.length,u=new Array(a),d={endingStart:gc,endingEnd:gc};for(let h=0;h!==a;++h){const m=s[h].createInterpolant(null);u[h]=m,m.settings=d}this._interpolantSettings=d,this._interpolants=u,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ub,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,a=s/r,u=r/s;e.warp(1,a,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,a=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=r._lendControlInterpolant(),this._timeScaleInterpolant=u);const d=u.parameterPositions,h=u.sampleValues;return d[0]=s,d[1]=s+i,h[0]=e/a,h[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const d=(e-s)*i;d<0||i===0?t=0:(this._startTime=null,t=i*d)}t*=this._updateTimeScale(e);const a=this._updateTime(t),u=this._updateWeight(e);if(u>0){const d=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case YS:for(let m=0,g=d.length;m!==g;++m)d[m].evaluate(a),h[m].accumulateAdditive(u);break;case yv:default:for(let m=0,g=d.length;m!==g;++m)d[m].evaluate(a),h[m].accumulate(r,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const a=i===cb;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(i===lb){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const u=Math.floor(r/t);r-=t*u,s+=Math.abs(u);const d=this.repetitions-s;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const h=e<0;this._setEndings(h,!h,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=yc,r.endingEnd=yc):(e?r.endingStart=this.zeroSlopeAtStart?yc:gc:r.endingStart=qp,t?r.endingEnd=this.zeroSlopeAtEnd?yc:gc:r.endingEnd=qp)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const u=a.parameterPositions,d=a.sampleValues;return u[0]=s,d[0]=t,u[1]=s+e,d[1]=i,this}}const jU=new Float32Array(1);class XU extends Jo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,u=e._interpolants,d=i.uuid,h=this._bindingsByRootAndName;let m=h[d];m===void 0&&(m={},h[d]=m);for(let g=0;g!==s;++g){const y=r[g],_=y.name;let M=m[_];if(M!==void 0)++M.referenceCount,a[g]=M;else{if(M=a[g],M!==void 0){M._cacheIndex===null&&(++M.referenceCount,this._addInactiveBinding(M,d,_));continue}const T=t&&t._propertyBindings[g].binding.parsedPath;M=new x4(xn.create(i,_,T),y.ValueTypeName,y.getValueSize()),++M.referenceCount,this._addInactiveBinding(M,d,_),a[g]=M}u[g].resultBuffer=M.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const u=a.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,u=a[s],d=u.knownActions,h=d[d.length-1],m=e._byClipCacheIndex;h._byClipCacheIndex=m,d[m]=h,d.pop(),e._byClipCacheIndex=null;const g=u.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],d.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,u=a[r],d=t[t.length-1],h=e._cacheIndex;d._cacheIndex=h,t[h]=d,t.pop(),delete u[s],Object.keys(u).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new h2(new Float32Array(2),new Float32Array(2),1,jU),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?sm.findByName(r,e):e;const u=a!==null?a.uuid:e,d=this._actionsByClip[u];let h=null;if(i===void 0&&(a!==null?i=a.blendMode:i=yv),d!==void 0){const g=d.actionByRoot[s];if(g!==void 0&&g.blendMode===i)return g;h=d.knownActions[0],a===null&&(a=h._clip)}if(a===null)return null;const m=new S4(this,a,t,i);return this._bindAction(m,h),this._addInactiveAction(m,u,s),m}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?sm.findByName(i,e):e,a=s?s.uuid:e,u=this._actionsByClip[a];return u!==void 0&&u.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let h=0;h!==i;++h)t[h]._update(r,e,s,a);const u=this._bindings,d=this._nActiveBindings;for(let h=0;h!==d;++h)u[h].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const a=s.knownActions;for(let u=0,d=a.length;u!==d;++u){const h=a[u];this._deactivateAction(h);const m=h._cacheIndex,g=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(h)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const u=i[a].actionByRoot,d=u[t];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const u=s[a];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class YU extends vv{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new _v(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class qU extends vv{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTargetArray=!0,this.depth=i,this.texture=new Mm(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class S2{constructor(e){this.value=e}clone(){return new S2(this.value.clone===void 0?this.value:this.value.clone())}}let ZU=0;class KU extends Jo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:ZU++}),this.name="",this.usage=Kp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class $U extends Mv{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class QU{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const s3=new Vt;class M4{constructor(e,t,i=0,r=1/0){this.ray=new Oc(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Ac,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return s3.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(s3),this}intersectObject(e,t=!0,i=[]){return Fx(e,this,i,t),i.sort(o3),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)Fx(e[r],this,i,t);return i.sort(o3),i}}function o3(n,e){return n.distance-e.distance}function Fx(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let a=0,u=s.length;a<u;a++)Fx(s[a],e,t,!0)}}class Hy{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Yt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Yt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class JU{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class M2{constructor(e,t,i,r){M2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const a3=new Le;class eO{constructor(e=new Le(1/0,1/0),t=new Le(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=a3.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,a3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const l3=new X,g0=new X;class tO{constructor(e=new X,t=new X){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){l3.subVectors(e,this.start),g0.subVectors(this.end,this.start);const i=g0.dot(g0);let s=g0.dot(l3)/i;return t&&(s=Yt(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const u3=new X;class nO extends Mn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new sn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,u=1,d=32;a<d;a++,u++){const h=a/d*Math.PI*2,m=u/d*Math.PI*2;r.push(Math.cos(h),Math.sin(h),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new At(r,3));const s=new Dr({fog:!1,toneMapped:!1});this.cone=new ea(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),u3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(u3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Vl=new X,y0=new Vt,w_=new Vt;class iO extends ea{constructor(e){const t=w4(e),i=new sn,r=[],s=[],a=new pt(0,0,1),u=new pt(0,1,0);for(let h=0;h<t.length;h++){const m=t[h];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(u.r,u.g,u.b))}i.setAttribute("position",new At(r,3)),i.setAttribute("color",new At(s,3));const d=new Dr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,d),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");w_.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const u=t[s];u.parent&&u.parent.isBone&&(y0.multiplyMatrices(w_,u.matrixWorld),Vl.setFromMatrixPosition(y0),r.setXYZ(a,Vl.x,Vl.y,Vl.z),y0.multiplyMatrices(w_,u.parent.matrixWorld),Vl.setFromMatrixPosition(y0),r.setXYZ(a+1,Vl.x,Vl.y,Vl.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function w4(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,w4(n.children[t]));return e}class rO extends Mi{constructor(e,t,i){const r=new bm(t,4,2),s=new iu({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const sO=new X,c3=new pt,f3=new pt;class oO extends Mn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Cm(t);r.rotateY(Math.PI*.5),this.material=new iu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new Nn(a,3)),this.add(new Mi(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");c3.copy(this.light.color),f3.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?c3:f3;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(sO.setFromMatrixPosition(this.light.matrixWorld).negate())}}class aO extends ea{constructor(e=10,t=10,i=4473924,r=8947848){i=new pt(i),r=new pt(r);const s=t/2,a=e/t,u=e/2,d=[],h=[];for(let y=0,_=0,M=-u;y<=t;y++,M+=a){d.push(-u,0,M,u,0,M),d.push(M,0,-u,M,0,u);const T=y===s?i:r;T.toArray(h,_),_+=3,T.toArray(h,_),_+=3,T.toArray(h,_),_+=3,T.toArray(h,_),_+=3}const m=new sn;m.setAttribute("position",new At(d,3)),m.setAttribute("color",new At(h,3));const g=new Dr({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class lO extends ea{constructor(e=10,t=16,i=8,r=64,s=4473924,a=8947848){s=new pt(s),a=new pt(a);const u=[],d=[];if(t>1)for(let g=0;g<t;g++){const y=g/t*(Math.PI*2),_=Math.sin(y)*e,M=Math.cos(y)*e;u.push(0,0,0),u.push(_,0,M);const T=g&1?s:a;d.push(T.r,T.g,T.b),d.push(T.r,T.g,T.b)}for(let g=0;g<i;g++){const y=g&1?s:a,_=e-e/i*g;for(let M=0;M<r;M++){let T=M/r*(Math.PI*2),E=Math.sin(T)*_,S=Math.cos(T)*_;u.push(E,0,S),d.push(y.r,y.g,y.b),T=(M+1)/r*(Math.PI*2),E=Math.sin(T)*_,S=Math.cos(T)*_,u.push(E,0,S),d.push(y.r,y.g,y.b)}}const h=new sn;h.setAttribute("position",new At(u,3)),h.setAttribute("color",new At(d,3));const m=new Dr({vertexColors:!0,toneMapped:!1});super(h,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const d3=new X,v0=new X,h3=new X;class uO extends Mn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new sn;r.setAttribute("position",new At([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Dr({fog:!1,toneMapped:!1});this.lightPlane=new eu(r,s),this.add(this.lightPlane),r=new sn,r.setAttribute("position",new At([0,0,0,0,0,1],3)),this.targetLine=new eu(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),d3.setFromMatrixPosition(this.light.matrixWorld),v0.setFromMatrixPosition(this.light.target.matrixWorld),h3.subVectors(v0,d3),this.lightPlane.lookAt(v0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(v0),this.targetLine.scale.z=h3.length()}}const _0=new X,ii=new wm;class cO extends ea{constructor(e){const t=new sn,i=new Dr({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(M,T){d(M),d(T)}function d(M){r.push(0,0,0),s.push(0,0,0),a[M]===void 0&&(a[M]=[]),a[M].push(r.length/3-1)}t.setAttribute("position",new At(r,3)),t.setAttribute("color",new At(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const h=new pt(16755200),m=new pt(16711680),g=new pt(43775),y=new pt(16777215),_=new pt(3355443);this.setColors(h,m,g,y,_)}setColors(e,t,i,r,s){const u=this.geometry.getAttribute("color");u.setXYZ(0,e.r,e.g,e.b),u.setXYZ(1,e.r,e.g,e.b),u.setXYZ(2,e.r,e.g,e.b),u.setXYZ(3,e.r,e.g,e.b),u.setXYZ(4,e.r,e.g,e.b),u.setXYZ(5,e.r,e.g,e.b),u.setXYZ(6,e.r,e.g,e.b),u.setXYZ(7,e.r,e.g,e.b),u.setXYZ(8,e.r,e.g,e.b),u.setXYZ(9,e.r,e.g,e.b),u.setXYZ(10,e.r,e.g,e.b),u.setXYZ(11,e.r,e.g,e.b),u.setXYZ(12,e.r,e.g,e.b),u.setXYZ(13,e.r,e.g,e.b),u.setXYZ(14,e.r,e.g,e.b),u.setXYZ(15,e.r,e.g,e.b),u.setXYZ(16,e.r,e.g,e.b),u.setXYZ(17,e.r,e.g,e.b),u.setXYZ(18,e.r,e.g,e.b),u.setXYZ(19,e.r,e.g,e.b),u.setXYZ(20,e.r,e.g,e.b),u.setXYZ(21,e.r,e.g,e.b),u.setXYZ(22,e.r,e.g,e.b),u.setXYZ(23,e.r,e.g,e.b),u.setXYZ(24,t.r,t.g,t.b),u.setXYZ(25,t.r,t.g,t.b),u.setXYZ(26,t.r,t.g,t.b),u.setXYZ(27,t.r,t.g,t.b),u.setXYZ(28,t.r,t.g,t.b),u.setXYZ(29,t.r,t.g,t.b),u.setXYZ(30,t.r,t.g,t.b),u.setXYZ(31,t.r,t.g,t.b),u.setXYZ(32,i.r,i.g,i.b),u.setXYZ(33,i.r,i.g,i.b),u.setXYZ(34,i.r,i.g,i.b),u.setXYZ(35,i.r,i.g,i.b),u.setXYZ(36,i.r,i.g,i.b),u.setXYZ(37,i.r,i.g,i.b),u.setXYZ(38,r.r,r.g,r.b),u.setXYZ(39,r.r,r.g,r.b),u.setXYZ(40,s.r,s.g,s.b),u.setXYZ(41,s.r,s.g,s.b),u.setXYZ(42,s.r,s.g,s.b),u.setXYZ(43,s.r,s.g,s.b),u.setXYZ(44,s.r,s.g,s.b),u.setXYZ(45,s.r,s.g,s.b),u.setXYZ(46,s.r,s.g,s.b),u.setXYZ(47,s.r,s.g,s.b),u.setXYZ(48,s.r,s.g,s.b),u.setXYZ(49,s.r,s.g,s.b),u.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;ii.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===xo?-1:0;ui("c",t,e,ii,0,0,s),ui("t",t,e,ii,0,0,1),ui("n1",t,e,ii,-1,-1,s),ui("n2",t,e,ii,i,-1,s),ui("n3",t,e,ii,-1,r,s),ui("n4",t,e,ii,i,r,s),ui("f1",t,e,ii,-1,-1,1),ui("f2",t,e,ii,i,-1,1),ui("f3",t,e,ii,-1,r,1),ui("f4",t,e,ii,i,r,1),ui("u1",t,e,ii,i*.7,r*1.1,s),ui("u2",t,e,ii,-1*.7,r*1.1,s),ui("u3",t,e,ii,0,r*2,s),ui("cf1",t,e,ii,-1,0,1),ui("cf2",t,e,ii,i,0,1),ui("cf3",t,e,ii,0,-1,1),ui("cf4",t,e,ii,0,r,1),ui("cn1",t,e,ii,-1,0,s),ui("cn2",t,e,ii,i,0,s),ui("cn3",t,e,ii,0,-1,s),ui("cn4",t,e,ii,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ui(n,e,t,i,r,s,a){_0.set(r,s,a).unproject(i);const u=e[n];if(u!==void 0){const d=t.getAttribute("position");for(let h=0,m=u.length;h<m;h++)d.setXYZ(u[h],_0.x,_0.y,_0.z)}}const x0=new Ir;class fO extends ea{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new sn;s.setIndex(new Nn(i,1)),s.setAttribute("position",new Nn(r,3)),super(s,new Dr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&x0.setFromObject(this.object),x0.isEmpty())return;const t=x0.min,i=x0.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class dO extends ea{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new sn;s.setIndex(new Nn(i,1)),s.setAttribute("position",new At(r,3)),super(s,new Dr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class hO extends eu{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new sn;a.setAttribute("position",new At(s,3)),a.computeBoundingSphere(),super(a,new Dr({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new sn;d.setAttribute("position",new At(u,3)),d.computeBoundingSphere(),this.add(new Mi(d,new iu({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const p3=new X;let S0,E_;class pO extends Mn{constructor(e=new X(0,0,1),t=new X(0,0,0),i=1,r=16776960,s=i*.2,a=s*.2){super(),this.type="ArrowHelper",S0===void 0&&(S0=new sn,S0.setAttribute("position",new At([0,0,0,0,1,0],3)),E_=new Zd(0,.5,1,5,1),E_.translate(0,-.5,0)),this.position.copy(t),this.line=new eu(S0,new Dr({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mi(E_,new iu({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{p3.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(p3,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class mO extends ea{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new sn;r.setAttribute("position",new At(t,3)),r.setAttribute("color",new At(i,3));const s=new Dr({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new pt,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class gO{constructor(){this.type="ShapePath",this.color=new pt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Jp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.currentPath.bezierCurveTo(e,t,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const b=[];for(let C=0,I=S.length;C<I;C++){const U=S[C],N=new Cc;N.curves=U.curves,b.push(N)}return b}function i(S,b){const C=b.length;let I=!1;for(let U=C-1,N=0;N<C;U=N++){let F=b[U],B=b[N],O=B.x-F.x,D=B.y-F.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(F=b[N],O=-O,B=b[U],D=-D),S.y<F.y||S.y>B.y)continue;if(S.y===F.y){if(S.x===F.x)return!0}else{const H=D*(S.x-F.x)-O*(S.y-F.y);if(H===0)return!0;if(H<0)continue;I=!I}}else{if(S.y!==F.y)continue;if(B.x<=S.x&&S.x<=F.x||F.x<=S.x&&S.x<=B.x)return!0}}return I}const r=$o.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,u,d;const h=[];if(s.length===1)return u=s[0],d=new Cc,d.curves=u.curves,h.push(d),h;let m=!r(s[0].getPoints());m=e?!m:m;const g=[],y=[];let _=[],M=0,T;y[M]=void 0,_[M]=[];for(let S=0,b=s.length;S<b;S++)u=s[S],T=u.getPoints(),a=r(T),a=e?!a:a,a?(!m&&y[M]&&M++,y[M]={s:new Cc,p:T},y[M].s.curves=u.curves,m&&M++,_[M]=[]):_[M].push({h:u,p:T[0]});if(!y[0])return t(s);if(y.length>1){let S=!1,b=0;for(let C=0,I=y.length;C<I;C++)g[C]=[];for(let C=0,I=y.length;C<I;C++){const U=_[C];for(let N=0;N<U.length;N++){const F=U[N];let B=!0;for(let O=0;O<y.length;O++)i(F.p,y[O].p)&&(C!==O&&b++,B?(B=!1,g[O].push(F)):S=!0);B&&g[C].push(F)}}b>0&&S===!1&&(_=g)}let E;for(let S=0,b=y.length;S<b;S++){d=y[S].s,h.push(d),E=_[S];for(let C=0,I=E.length;C<I;C++)d.holes.push(E[C].h)}return h}}class yO extends Jo{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function vO(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function _O(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function xO(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function kx(n,e,t,i){const r=SO(i);switch(t){case VS:return n*e;case GS:return n*e;case WS:return n*e*2;case pv:return n*e/r.components*r.byteLength;case Sm:return n*e/r.components*r.byteLength;case jS:return n*e*2/r.components*r.byteLength;case mv:return n*e*2/r.components*r.byteLength;case HS:return n*e*3/r.components*r.byteLength;case hr:return n*e*4/r.components*r.byteLength;case gv:return n*e*4/r.components*r.byteLength;case Ap:case Cp:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case bp:case Pp:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case hy:case my:return Math.max(n,16)*Math.max(e,8)/4;case dy:case py:return Math.max(n,8)*Math.max(e,8)/2;case gy:case yy:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case vy:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case _y:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case xy:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case Sy:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case My:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case wy:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case Ey:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case Ty:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case Ay:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case Cy:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case by:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case Py:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case Ry:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case Iy:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case Ly:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Rp:case Dy:case Ny:return Math.ceil(n/4)*Math.ceil(e/4)*16;case XS:case Uy:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Oy:case Fy:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function SO(n){switch(n){case wo:case kS:return{byteLength:1,components:1};case kd:case zS:case qd:return{byteLength:2,components:1};case dv:case hv:return{byteLength:2,components:4};case el:case fv:case $r:return{byteLength:4,components:1};case BS:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}const MO={contain:vO,cover:_O,fill:xO,getByteLength:kx};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:_m}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=_m);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function E4(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function wO(n){const e=new WeakMap;function t(u,d){const h=u.array,m=u.usage,g=h.byteLength,y=n.createBuffer();n.bindBuffer(d,y),n.bufferData(d,h,m),u.onUploadCallback();let _;if(h instanceof Float32Array)_=n.FLOAT;else if(h instanceof Uint16Array)u.isFloat16BufferAttribute?_=n.HALF_FLOAT:_=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)_=n.SHORT;else if(h instanceof Uint32Array)_=n.UNSIGNED_INT;else if(h instanceof Int32Array)_=n.INT;else if(h instanceof Int8Array)_=n.BYTE;else if(h instanceof Uint8Array)_=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)_=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:y,type:_,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version,size:g}}function i(u,d,h){const m=d.array,g=d.updateRanges;if(n.bindBuffer(h,u),g.length===0)n.bufferSubData(h,0,m);else{g.sort((_,M)=>_.start-M.start);let y=0;for(let _=1;_<g.length;_++){const M=g[y],T=g[_];T.start<=M.start+M.count+1?M.count=Math.max(M.count,T.start+T.count-M.start):(++y,g[y]=T)}g.length=y+1;for(let _=0,M=g.length;_<M;_++){const T=g[_];n.bufferSubData(h,T.start*m.BYTES_PER_ELEMENT,m,T.start,T.count)}d.clearUpdateRanges()}d.onUploadCallback()}function r(u){return u.isInterleavedBufferAttribute&&(u=u.data),e.get(u)}function s(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=e.get(u);d&&(n.deleteBuffer(d.buffer),e.delete(u))}function a(u,d){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const m=e.get(u);(!m||m.version<u.version)&&e.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const h=e.get(u);if(h===void 0)e.set(u,t(u,d));else if(h.version<u.version){if(h.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(h.buffer,u,d),h.version=u.version}}return{get:r,remove:s,update:a}}var EO=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,TO=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,AO=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,CO=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,bO=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,PO=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,RO=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,IO=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,LO=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,DO=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,NO=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,UO=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,OO=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,FO=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,kO=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,zO=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,BO=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,VO=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,HO=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,GO=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,WO=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,jO=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,XO=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,YO=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,qO=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ZO=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,KO=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,$O=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,QO=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,JO=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,eF="gl_FragColor = linearToOutputTexel( gl_FragColor );",tF=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,nF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,iF=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,rF=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,sF=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,oF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,aF=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,lF=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,uF=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,cF=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,fF=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,dF=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,hF=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,pF=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,mF=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,gF=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,yF=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,vF=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,_F=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,xF=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,SF=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,MF=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,wF=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,EF=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,TF=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,AF=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,CF=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,bF=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,PF=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,RF=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,IF=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,LF=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,DF=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,NF=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,UF=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,OF=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,FF=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,kF=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,zF=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,BF=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,VF=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,HF=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,GF=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,WF=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,jF=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,XF=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,YF=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,qF=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,ZF=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,KF=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,$F=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,QF=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,JF=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,ek=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,tk=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,nk=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ik=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,rk=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,sk=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,ok=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,ak=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,lk=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,uk=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ck=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,fk=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,dk=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,hk=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,pk=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,mk=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,gk=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,yk=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,vk=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,_k=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,xk=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Sk=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Mk=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const wk=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Ek=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Tk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ak=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ck=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,bk=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Pk=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Rk=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Ik=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Lk=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Dk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Nk=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Uk=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ok=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Fk=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,kk=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zk=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bk=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vk=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Hk=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gk=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Wk=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,jk=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Xk=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yk=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,qk=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zk=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Kk=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$k=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Qk=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Jk=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ez=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,tz=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,nz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,rn={alphahash_fragment:EO,alphahash_pars_fragment:TO,alphamap_fragment:AO,alphamap_pars_fragment:CO,alphatest_fragment:bO,alphatest_pars_fragment:PO,aomap_fragment:RO,aomap_pars_fragment:IO,batching_pars_vertex:LO,batching_vertex:DO,begin_vertex:NO,beginnormal_vertex:UO,bsdfs:OO,iridescence_fragment:FO,bumpmap_pars_fragment:kO,clipping_planes_fragment:zO,clipping_planes_pars_fragment:BO,clipping_planes_pars_vertex:VO,clipping_planes_vertex:HO,color_fragment:GO,color_pars_fragment:WO,color_pars_vertex:jO,color_vertex:XO,common:YO,cube_uv_reflection_fragment:qO,defaultnormal_vertex:ZO,displacementmap_pars_vertex:KO,displacementmap_vertex:$O,emissivemap_fragment:QO,emissivemap_pars_fragment:JO,colorspace_fragment:eF,colorspace_pars_fragment:tF,envmap_fragment:nF,envmap_common_pars_fragment:iF,envmap_pars_fragment:rF,envmap_pars_vertex:sF,envmap_physical_pars_fragment:gF,envmap_vertex:oF,fog_vertex:aF,fog_pars_vertex:lF,fog_fragment:uF,fog_pars_fragment:cF,gradientmap_pars_fragment:fF,lightmap_pars_fragment:dF,lights_lambert_fragment:hF,lights_lambert_pars_fragment:pF,lights_pars_begin:mF,lights_toon_fragment:yF,lights_toon_pars_fragment:vF,lights_phong_fragment:_F,lights_phong_pars_fragment:xF,lights_physical_fragment:SF,lights_physical_pars_fragment:MF,lights_fragment_begin:wF,lights_fragment_maps:EF,lights_fragment_end:TF,logdepthbuf_fragment:AF,logdepthbuf_pars_fragment:CF,logdepthbuf_pars_vertex:bF,logdepthbuf_vertex:PF,map_fragment:RF,map_pars_fragment:IF,map_particle_fragment:LF,map_particle_pars_fragment:DF,metalnessmap_fragment:NF,metalnessmap_pars_fragment:UF,morphinstance_vertex:OF,morphcolor_vertex:FF,morphnormal_vertex:kF,morphtarget_pars_vertex:zF,morphtarget_vertex:BF,normal_fragment_begin:VF,normal_fragment_maps:HF,normal_pars_fragment:GF,normal_pars_vertex:WF,normal_vertex:jF,normalmap_pars_fragment:XF,clearcoat_normal_fragment_begin:YF,clearcoat_normal_fragment_maps:qF,clearcoat_pars_fragment:ZF,iridescence_pars_fragment:KF,opaque_fragment:$F,packing:QF,premultiplied_alpha_fragment:JF,project_vertex:ek,dithering_fragment:tk,dithering_pars_fragment:nk,roughnessmap_fragment:ik,roughnessmap_pars_fragment:rk,shadowmap_pars_fragment:sk,shadowmap_pars_vertex:ok,shadowmap_vertex:ak,shadowmask_pars_fragment:lk,skinbase_vertex:uk,skinning_pars_vertex:ck,skinning_vertex:fk,skinnormal_vertex:dk,specularmap_fragment:hk,specularmap_pars_fragment:pk,tonemapping_fragment:mk,tonemapping_pars_fragment:gk,transmission_fragment:yk,transmission_pars_fragment:vk,uv_pars_fragment:_k,uv_pars_vertex:xk,uv_vertex:Sk,worldpos_vertex:Mk,background_vert:wk,background_frag:Ek,backgroundCube_vert:Tk,backgroundCube_frag:Ak,cube_vert:Ck,cube_frag:bk,depth_vert:Pk,depth_frag:Rk,distanceRGBA_vert:Ik,distanceRGBA_frag:Lk,equirect_vert:Dk,equirect_frag:Nk,linedashed_vert:Uk,linedashed_frag:Ok,meshbasic_vert:Fk,meshbasic_frag:kk,meshlambert_vert:zk,meshlambert_frag:Bk,meshmatcap_vert:Vk,meshmatcap_frag:Hk,meshnormal_vert:Gk,meshnormal_frag:Wk,meshphong_vert:jk,meshphong_frag:Xk,meshphysical_vert:Yk,meshphysical_frag:qk,meshtoon_vert:Zk,meshtoon_frag:Kk,points_vert:$k,points_frag:Qk,shadow_vert:Jk,shadow_frag:ez,sprite_vert:tz,sprite_frag:nz},st={common:{diffuse:{value:new pt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Kt},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Kt}},envmap:{envMap:{value:null},envMapRotation:{value:new Kt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Kt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Kt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Kt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Kt},normalScale:{value:new Le(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Kt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Kt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Kt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Kt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new pt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new pt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0},uvTransform:{value:new Kt}},sprite:{diffuse:{value:new pt(16777215)},opacity:{value:1},center:{value:new Le(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Kt},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0}}},vo={basic:{uniforms:br([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.fog]),vertexShader:rn.meshbasic_vert,fragmentShader:rn.meshbasic_frag},lambert:{uniforms:br([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new pt(0)}}]),vertexShader:rn.meshlambert_vert,fragmentShader:rn.meshlambert_frag},phong:{uniforms:br([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new pt(0)},specular:{value:new pt(1118481)},shininess:{value:30}}]),vertexShader:rn.meshphong_vert,fragmentShader:rn.meshphong_frag},standard:{uniforms:br([st.common,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.roughnessmap,st.metalnessmap,st.fog,st.lights,{emissive:{value:new pt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag},toon:{uniforms:br([st.common,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.gradientmap,st.fog,st.lights,{emissive:{value:new pt(0)}}]),vertexShader:rn.meshtoon_vert,fragmentShader:rn.meshtoon_frag},matcap:{uniforms:br([st.common,st.bumpmap,st.normalmap,st.displacementmap,st.fog,{matcap:{value:null}}]),vertexShader:rn.meshmatcap_vert,fragmentShader:rn.meshmatcap_frag},points:{uniforms:br([st.points,st.fog]),vertexShader:rn.points_vert,fragmentShader:rn.points_frag},dashed:{uniforms:br([st.common,st.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:rn.linedashed_vert,fragmentShader:rn.linedashed_frag},depth:{uniforms:br([st.common,st.displacementmap]),vertexShader:rn.depth_vert,fragmentShader:rn.depth_frag},normal:{uniforms:br([st.common,st.bumpmap,st.normalmap,st.displacementmap,{opacity:{value:1}}]),vertexShader:rn.meshnormal_vert,fragmentShader:rn.meshnormal_frag},sprite:{uniforms:br([st.sprite,st.fog]),vertexShader:rn.sprite_vert,fragmentShader:rn.sprite_frag},background:{uniforms:{uvTransform:{value:new Kt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:rn.background_vert,fragmentShader:rn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Kt}},vertexShader:rn.backgroundCube_vert,fragmentShader:rn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:rn.cube_vert,fragmentShader:rn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:rn.equirect_vert,fragmentShader:rn.equirect_frag},distanceRGBA:{uniforms:br([st.common,st.displacementmap,{referencePosition:{value:new X},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:rn.distanceRGBA_vert,fragmentShader:rn.distanceRGBA_frag},shadow:{uniforms:br([st.lights,st.fog,{color:{value:new pt(0)},opacity:{value:1}}]),vertexShader:rn.shadow_vert,fragmentShader:rn.shadow_frag}};vo.physical={uniforms:br([vo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Kt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Kt},clearcoatNormalScale:{value:new Le(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Kt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Kt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Kt},sheen:{value:0},sheenColor:{value:new pt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Kt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Kt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Kt},transmissionSamplerSize:{value:new Le},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Kt},attenuationDistance:{value:0},attenuationColor:{value:new pt(0)},specularColor:{value:new pt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Kt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Kt},anisotropyVector:{value:new Le},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Kt}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag};const M0={r:0,b:0,g:0},ic=new ys,iz=new Vt;function rz(n,e,t,i,r,s,a){const u=new pt(0);let d=s===!0?0:1,h,m,g=null,y=0,_=null;function M(C){let I=C.isScene===!0?C.background:null;return I&&I.isTexture&&(I=(C.backgroundBlurriness>0?t:e).get(I)),I}function T(C){let I=!1;const U=M(C);U===null?S(u,d):U&&U.isColor&&(S(U,1),I=!0);const N=n.xr.getEnvironmentBlendMode();N==="additive"?i.buffers.color.setClear(0,0,0,1,a):N==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(n.autoClear||I)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function E(C,I){const U=M(I);U&&(U.isCubeTexture||U.mapping===Yd)?(m===void 0&&(m=new Mi(new Fc(1,1,1),new Vs({name:"BackgroundCubeMaterial",uniforms:Bd(vo.backgroundCube.uniforms),vertexShader:vo.backgroundCube.vertexShader,fragmentShader:vo.backgroundCube.fragmentShader,side:Rr,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(N,F,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),ic.copy(I.backgroundRotation),ic.x*=-1,ic.y*=-1,ic.z*=-1,U.isCubeTexture&&U.isRenderTargetTexture===!1&&(ic.y*=-1,ic.z*=-1),m.material.uniforms.envMap.value=U,m.material.uniforms.flipEnvMap.value=U.isCubeTexture&&U.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=I.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(iz.makeRotationFromEuler(ic)),m.material.toneMapped=vn.getTransfer(U.colorSpace)!==Pn,(g!==U||y!==U.version||_!==n.toneMapping)&&(m.material.needsUpdate=!0,g=U,y=U.version,_=n.toneMapping),m.layers.enableAll(),C.unshift(m,m.geometry,m.material,0,0,null)):U&&U.isTexture&&(h===void 0&&(h=new Mi(new Kd(2,2),new Vs({name:"BackgroundMaterial",uniforms:Bd(vo.background.uniforms),vertexShader:vo.background.vertexShader,fragmentShader:vo.background.fragmentShader,side:Qa,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(h)),h.material.uniforms.t2D.value=U,h.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,h.material.toneMapped=vn.getTransfer(U.colorSpace)!==Pn,U.matrixAutoUpdate===!0&&U.updateMatrix(),h.material.uniforms.uvTransform.value.copy(U.matrix),(g!==U||y!==U.version||_!==n.toneMapping)&&(h.material.needsUpdate=!0,g=U,y=U.version,_=n.toneMapping),h.layers.enableAll(),C.unshift(h,h.geometry,h.material,0,0,null))}function S(C,I){C.getRGB(M0,Tb(n)),i.buffers.color.setClear(M0.r,M0.g,M0.b,I,a)}function b(){m!==void 0&&(m.geometry.dispose(),m.material.dispose()),h!==void 0&&(h.geometry.dispose(),h.material.dispose())}return{getClearColor:function(){return u},setClearColor:function(C,I=1){u.set(C),d=I,S(u,d)},getClearAlpha:function(){return d},setClearAlpha:function(C){d=C,S(u,d)},render:T,addToRenderList:E,dispose:b}}function sz(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=y(null);let s=r,a=!1;function u(D,H,ne,ee,pe){let Me=!1;const he=g(ee,ne,H);s!==he&&(s=he,h(s.object)),Me=_(D,ee,ne,pe),Me&&M(D,ee,ne,pe),pe!==null&&e.update(pe,n.ELEMENT_ARRAY_BUFFER),(Me||a)&&(a=!1,I(D,H,ne,ee),pe!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(pe).buffer))}function d(){return n.createVertexArray()}function h(D){return n.bindVertexArray(D)}function m(D){return n.deleteVertexArray(D)}function g(D,H,ne){const ee=ne.wireframe===!0;let pe=i[D.id];pe===void 0&&(pe={},i[D.id]=pe);let Me=pe[H.id];Me===void 0&&(Me={},pe[H.id]=Me);let he=Me[ee];return he===void 0&&(he=y(d()),Me[ee]=he),he}function y(D){const H=[],ne=[],ee=[];for(let pe=0;pe<t;pe++)H[pe]=0,ne[pe]=0,ee[pe]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:ne,attributeDivisors:ee,object:D,attributes:{},index:null}}function _(D,H,ne,ee){const pe=s.attributes,Me=H.attributes;let he=0;const me=ne.getAttributes();for(const G in me)if(me[G].location>=0){const $=pe[G];let W=Me[G];if(W===void 0&&(G==="instanceMatrix"&&D.instanceMatrix&&(W=D.instanceMatrix),G==="instanceColor"&&D.instanceColor&&(W=D.instanceColor)),$===void 0||$.attribute!==W||W&&$.data!==W.data)return!0;he++}return s.attributesNum!==he||s.index!==ee}function M(D,H,ne,ee){const pe={},Me=H.attributes;let he=0;const me=ne.getAttributes();for(const G in me)if(me[G].location>=0){let $=Me[G];$===void 0&&(G==="instanceMatrix"&&D.instanceMatrix&&($=D.instanceMatrix),G==="instanceColor"&&D.instanceColor&&($=D.instanceColor));const W={};W.attribute=$,$&&$.data&&(W.data=$.data),pe[G]=W,he++}s.attributes=pe,s.attributesNum=he,s.index=ee}function T(){const D=s.newAttributes;for(let H=0,ne=D.length;H<ne;H++)D[H]=0}function E(D){S(D,0)}function S(D,H){const ne=s.newAttributes,ee=s.enabledAttributes,pe=s.attributeDivisors;ne[D]=1,ee[D]===0&&(n.enableVertexAttribArray(D),ee[D]=1),pe[D]!==H&&(n.vertexAttribDivisor(D,H),pe[D]=H)}function b(){const D=s.newAttributes,H=s.enabledAttributes;for(let ne=0,ee=H.length;ne<ee;ne++)H[ne]!==D[ne]&&(n.disableVertexAttribArray(ne),H[ne]=0)}function C(D,H,ne,ee,pe,Me,he){he===!0?n.vertexAttribIPointer(D,H,ne,pe,Me):n.vertexAttribPointer(D,H,ne,ee,pe,Me)}function I(D,H,ne,ee){T();const pe=ee.attributes,Me=ne.getAttributes(),he=H.defaultAttributeValues;for(const me in Me){const G=Me[me];if(G.location>=0){let te=pe[me];if(te===void 0&&(me==="instanceMatrix"&&D.instanceMatrix&&(te=D.instanceMatrix),me==="instanceColor"&&D.instanceColor&&(te=D.instanceColor)),te!==void 0){const $=te.normalized,W=te.itemSize,se=e.get(te);if(se===void 0)continue;const Oe=se.buffer,ue=se.type,Ee=se.bytesPerElement,De=ue===n.INT||ue===n.UNSIGNED_INT||te.gpuType===fv;if(te.isInterleavedBufferAttribute){const Re=te.data,We=Re.stride,Ke=te.offset;if(Re.isInstancedInterleavedBuffer){for(let ct=0;ct<G.locationSize;ct++)S(G.location+ct,Re.meshPerAttribute);D.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=Re.meshPerAttribute*Re.count)}else for(let ct=0;ct<G.locationSize;ct++)E(G.location+ct);n.bindBuffer(n.ARRAY_BUFFER,Oe);for(let ct=0;ct<G.locationSize;ct++)C(G.location+ct,W/G.locationSize,ue,$,We*Ee,(Ke+W/G.locationSize*ct)*Ee,De)}else{if(te.isInstancedBufferAttribute){for(let Re=0;Re<G.locationSize;Re++)S(G.location+Re,te.meshPerAttribute);D.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let Re=0;Re<G.locationSize;Re++)E(G.location+Re);n.bindBuffer(n.ARRAY_BUFFER,Oe);for(let Re=0;Re<G.locationSize;Re++)C(G.location+Re,W/G.locationSize,ue,$,W*Ee,W/G.locationSize*Re*Ee,De)}}else if(he!==void 0){const $=he[me];if($!==void 0)switch($.length){case 2:n.vertexAttrib2fv(G.location,$);break;case 3:n.vertexAttrib3fv(G.location,$);break;case 4:n.vertexAttrib4fv(G.location,$);break;default:n.vertexAttrib1fv(G.location,$)}}}}b()}function U(){B();for(const D in i){const H=i[D];for(const ne in H){const ee=H[ne];for(const pe in ee)m(ee[pe].object),delete ee[pe];delete H[ne]}delete i[D]}}function N(D){if(i[D.id]===void 0)return;const H=i[D.id];for(const ne in H){const ee=H[ne];for(const pe in ee)m(ee[pe].object),delete ee[pe];delete H[ne]}delete i[D.id]}function F(D){for(const H in i){const ne=i[H];if(ne[D.id]===void 0)continue;const ee=ne[D.id];for(const pe in ee)m(ee[pe].object),delete ee[pe];delete ne[D.id]}}function B(){O(),a=!0,s!==r&&(s=r,h(s.object))}function O(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:u,reset:B,resetDefaultState:O,dispose:U,releaseStatesOfGeometry:N,releaseStatesOfProgram:F,initAttributes:T,enableAttribute:E,disableUnusedAttributes:b}}function oz(n,e,t){let i;function r(h){i=h}function s(h,m){n.drawArrays(i,h,m),t.update(m,i,1)}function a(h,m,g){g!==0&&(n.drawArraysInstanced(i,h,m,g),t.update(m,i,g))}function u(h,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,h,0,m,0,g);let _=0;for(let M=0;M<g;M++)_+=m[M];t.update(_,i,1)}function d(h,m,g,y){if(g===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let M=0;M<h.length;M++)a(h[M],m[M],y[M]);else{_.multiDrawArraysInstancedWEBGL(i,h,0,m,0,y,0,g);let M=0;for(let T=0;T<g;T++)M+=m[T]*y[T];t.update(M,i,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function az(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(F){return!(F!==hr&&i.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(F){const B=F===qd&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(F!==wo&&i.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&F!==$r&&!B)}function d(F){if(F==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=t.precision!==void 0?t.precision:"highp";const m=d(h);m!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",m,"instead."),h=m);const g=t.logarithmicDepthBuffer===!0,y=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),_=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),M=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=n.getParameter(n.MAX_TEXTURE_SIZE),E=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),b=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),C=n.getParameter(n.MAX_VARYING_VECTORS),I=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),U=M>0,N=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:d,textureFormatReadable:a,textureTypeReadable:u,precision:h,logarithmicDepthBuffer:g,reverseDepthBuffer:y,maxTextures:_,maxVertexTextures:M,maxTextureSize:T,maxCubemapSize:E,maxAttributes:S,maxVertexUniforms:b,maxVaryings:C,maxFragmentUniforms:I,vertexTextures:U,maxSamples:N}}function lz(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new Ga,u=new Kt,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const _=g.length!==0||y||i!==0||r;return r=y,i=g.length,_},this.beginShadows=function(){s=!0,m(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(g,y){t=m(g,y,0)},this.setState=function(g,y,_){const M=g.clippingPlanes,T=g.clipIntersection,E=g.clipShadows,S=n.get(g);if(!r||M===null||M.length===0||s&&!E)s?m(null):h();else{const b=s?0:i,C=b*4;let I=S.clippingState||null;d.value=I,I=m(M,y,C,_);for(let U=0;U!==C;++U)I[U]=t[U];S.clippingState=I,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=b}};function h(){d.value!==t&&(d.value=t,d.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(g,y,_,M){const T=g!==null?g.length:0;let E=null;if(T!==0){if(E=d.value,M!==!0||E===null){const S=_+T*4,b=y.matrixWorldInverse;u.getNormalMatrix(b),(E===null||E.length<S)&&(E=new Float32Array(S));for(let C=0,I=_;C!==T;++C,I+=4)a.copy(g[C]).applyMatrix4(b,u),a.normal.toArray(E,I),E[I+3]=a.constant}d.value=E,d.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,E}}function uz(n){let e=new WeakMap;function t(a,u){return u===Gp?a.mapping=Ja:u===Wp&&(a.mapping=Jl),a}function i(a){if(a&&a.isTexture){const u=a.mapping;if(u===Gp||u===Wp)if(e.has(a)){const d=e.get(a).texture;return t(d,a.mapping)}else{const d=a.image;if(d&&d.height>0){const h=new bb(d.height);return h.fromEquirectangularTexture(n,a),e.set(a,h),a.addEventListener("dispose",r),t(h.texture,a.mapping)}else return null}}return a}function r(a){const u=a.target;u.removeEventListener("dispose",r);const d=e.get(u);d!==void 0&&(e.delete(u),d.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const Ad=4,m3=[.125,.215,.35,.446,.526,.582],dc=20,T_=new Zl,g3=new pt;let A_=null,C_=0,b_=0,P_=!1;const cc=(1+Math.sqrt(5))/2,cd=1/cc,y3=[new X(-cc,cd,0),new X(cc,cd,0),new X(-cd,0,cc),new X(cd,0,cc),new X(0,cc,-cd),new X(0,cc,cd),new X(-1,1,-1),new X(1,1,-1),new X(-1,1,1),new X(1,1,1)];class zx{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){A_=this._renderer.getRenderTarget(),C_=this._renderer.getActiveCubeFace(),b_=this._renderer.getActiveMipmapLevel(),P_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=x3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(A_,C_,b_),this._renderer.xr.enabled=P_,e.scissorTest=!1,w0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ja||e.mapping===Jl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),A_=this._renderer.getRenderTarget(),C_=this._renderer.getActiveCubeFace(),b_=this._renderer.getActiveMipmapLevel(),P_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Li,minFilter:Li,generateMipmaps:!1,type:qd,format:hr,colorSpace:Ic,depthBuffer:!1},r=v3(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=v3(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=cz(s)),this._blurMaterial=fz(s,e,t)}return r}_compileMaterial(e){const t=new Mi(this._lodPlanes[0],e);this._renderer.compile(t,T_)}_sceneToCubeUV(e,t,i,r){const u=new fi(90,1,t,i),d=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],m=this._renderer,g=m.autoClear,y=m.toneMapping;m.getClearColor(g3),m.toneMapping=Zo,m.autoClear=!1;const _=new iu({name:"PMREM.Background",side:Rr,depthWrite:!1,depthTest:!1}),M=new Mi(new Fc,_);let T=!1;const E=e.background;E?E.isColor&&(_.color.copy(E),e.background=null,T=!0):(_.color.copy(g3),T=!0);for(let S=0;S<6;S++){const b=S%3;b===0?(u.up.set(0,d[S],0),u.lookAt(h[S],0,0)):b===1?(u.up.set(0,0,d[S]),u.lookAt(0,h[S],0)):(u.up.set(0,d[S],0),u.lookAt(0,0,h[S]));const C=this._cubeSize;w0(r,b*C,S>2?C:0,C,C),m.setRenderTarget(r),T&&m.render(M,u),m.render(e,u)}M.geometry.dispose(),M.material.dispose(),m.toneMapping=y,m.autoClear=g,e.background=E}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Ja||e.mapping===Jl;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=x3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_3());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new Mi(this._lodPlanes[0],s),u=s.uniforms;u.envMap.value=e;const d=this._cubeSize;w0(t,0,0,3*d,2*d),i.setRenderTarget(t),i.render(a,T_)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),u=y3[(r-s-1)%y3.length];this._blur(e,s-1,s,a,u)}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,u){const d=this._renderer,h=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new Mi(this._lodPlanes[r],h),y=h.uniforms,_=this._sizeLods[i]-1,M=isFinite(s)?Math.PI/(2*_):2*Math.PI/(2*dc-1),T=s/M,E=isFinite(s)?1+Math.floor(m*T):dc;E>dc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${dc}`);const S=[];let b=0;for(let F=0;F<dc;++F){const B=F/T,O=Math.exp(-B*B/2);S.push(O),F===0?b+=O:F<E&&(b+=2*O)}for(let F=0;F<S.length;F++)S[F]=S[F]/b;y.envMap.value=e.texture,y.samples.value=E,y.weights.value=S,y.latitudinal.value=a==="latitudinal",u&&(y.poleAxis.value=u);const{_lodMax:C}=this;y.dTheta.value=M,y.mipInt.value=C-i;const I=this._sizeLods[r],U=3*I*(r>C-Ad?r-C+Ad:0),N=4*(this._cubeSize-I);w0(t,U,N,3*I,2*I),d.setRenderTarget(t),d.render(g,T_)}}function cz(n){const e=[],t=[],i=[];let r=n;const s=n-Ad+1+m3.length;for(let a=0;a<s;a++){const u=Math.pow(2,r);t.push(u);let d=1/u;a>n-Ad?d=m3[a-n+Ad-1]:a===0&&(d=0),i.push(d);const h=1/(u-2),m=-h,g=1+h,y=[m,m,g,m,g,g,m,m,g,g,m,g],_=6,M=6,T=3,E=2,S=1,b=new Float32Array(T*M*_),C=new Float32Array(E*M*_),I=new Float32Array(S*M*_);for(let N=0;N<_;N++){const F=N%3*2/3-1,B=N>2?0:-1,O=[F,B,0,F+2/3,B,0,F+2/3,B+1,0,F,B,0,F+2/3,B+1,0,F,B+1,0];b.set(O,T*M*N),C.set(y,E*M*N);const D=[N,N,N,N,N,N];I.set(D,S*M*N)}const U=new sn;U.setAttribute("position",new Nn(b,T)),U.setAttribute("uv",new Nn(C,E)),U.setAttribute("faceIndex",new Nn(I,S)),e.push(U),r>Ad&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function v3(n,e,t){const i=new Qo(n,e,t);return i.texture.mapping=Yd,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function w0(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function fz(n,e,t){const i=new Float32Array(dc),r=new X(0,1,0);return new Vs({name:"SphericalGaussianBlur",defines:{n:dc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:w2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Za,depthTest:!1,depthWrite:!1})}function _3(){return new Vs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:w2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Za,depthTest:!1,depthWrite:!1})}function x3(){return new Vs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:w2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Za,depthTest:!1,depthWrite:!1})}function w2(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function dz(n){let e=new WeakMap,t=null;function i(u){if(u&&u.isTexture){const d=u.mapping,h=d===Gp||d===Wp,m=d===Ja||d===Jl;if(h||m){let g=e.get(u);const y=g!==void 0?g.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==y)return t===null&&(t=new zx(n)),g=h?t.fromEquirectangular(u,g):t.fromCubemap(u,g),g.texture.pmremVersion=u.pmremVersion,e.set(u,g),g.texture;if(g!==void 0)return g.texture;{const _=u.image;return h&&_&&_.height>0||m&&_&&r(_)?(t===null&&(t=new zx(n)),g=h?t.fromEquirectangular(u):t.fromCubemap(u),g.texture.pmremVersion=u.pmremVersion,e.set(u,g),u.addEventListener("dispose",s),g.texture):null}}}return u}function r(u){let d=0;const h=6;for(let m=0;m<h;m++)u[m]!==void 0&&d++;return d===h}function s(u){const d=u.target;d.removeEventListener("dispose",s);const h=e.get(d);h!==void 0&&(e.delete(d),h.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function hz(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&hd("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function pz(n,e,t,i){const r={},s=new WeakMap;function a(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const M in y.attributes)e.remove(y.attributes[M]);y.removeEventListener("dispose",a),delete r[y.id];const _=s.get(y);_&&(e.remove(_),s.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function u(g,y){return r[y.id]===!0||(y.addEventListener("dispose",a),r[y.id]=!0,t.memory.geometries++),y}function d(g){const y=g.attributes;for(const _ in y)e.update(y[_],n.ARRAY_BUFFER)}function h(g){const y=[],_=g.index,M=g.attributes.position;let T=0;if(_!==null){const b=_.array;T=_.version;for(let C=0,I=b.length;C<I;C+=3){const U=b[C+0],N=b[C+1],F=b[C+2];y.push(U,N,N,F,F,U)}}else if(M!==void 0){const b=M.array;T=M.version;for(let C=0,I=b.length/3-1;C<I;C+=3){const U=C+0,N=C+1,F=C+2;y.push(U,N,N,F,F,U)}}else return;const E=new(Sb(y)?$S:KS)(y,1);E.version=T;const S=s.get(g);S&&e.remove(S),s.set(g,E)}function m(g){const y=s.get(g);if(y){const _=g.index;_!==null&&y.version<_.version&&h(g)}else h(g);return s.get(g)}return{get:u,update:d,getWireframeAttribute:m}}function mz(n,e,t){let i;function r(y){i=y}let s,a;function u(y){s=y.type,a=y.bytesPerElement}function d(y,_){n.drawElements(i,_,s,y*a),t.update(_,i,1)}function h(y,_,M){M!==0&&(n.drawElementsInstanced(i,_,s,y*a,M),t.update(_,i,M))}function m(y,_,M){if(M===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,_,0,s,y,0,M);let E=0;for(let S=0;S<M;S++)E+=_[S];t.update(E,i,1)}function g(y,_,M,T){if(M===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let S=0;S<y.length;S++)h(y[S]/a,_[S],T[S]);else{E.multiDrawElementsInstancedWEBGL(i,_,0,s,y,0,T,0,M);let S=0;for(let b=0;b<M;b++)S+=_[b]*T[b];t.update(S,i,1)}}this.setMode=r,this.setIndex=u,this.render=d,this.renderInstances=h,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function gz(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,u){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=u*(s/3);break;case n.LINES:t.lines+=u*(s/2);break;case n.LINE_STRIP:t.lines+=u*(s-1);break;case n.LINE_LOOP:t.lines+=u*s;break;case n.POINTS:t.points+=u*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function yz(n,e,t){const i=new WeakMap,r=new Sn;function s(a,u,d){const h=a.morphTargetInfluences,m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,g=m!==void 0?m.length:0;let y=i.get(u);if(y===void 0||y.count!==g){let D=function(){B.dispose(),i.delete(u),u.removeEventListener("dispose",D)};var _=D;y!==void 0&&y.texture.dispose();const M=u.morphAttributes.position!==void 0,T=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,S=u.morphAttributes.position||[],b=u.morphAttributes.normal||[],C=u.morphAttributes.color||[];let I=0;M===!0&&(I=1),T===!0&&(I=2),E===!0&&(I=3);let U=u.attributes.position.count*I,N=1;U>e.maxTextureSize&&(N=Math.ceil(U/e.maxTextureSize),U=e.maxTextureSize);const F=new Float32Array(U*N*4*g),B=new Mm(F,U,N,g);B.type=$r,B.needsUpdate=!0;const O=I*4;for(let H=0;H<g;H++){const ne=S[H],ee=b[H],pe=C[H],Me=U*N*4*H;for(let he=0;he<ne.count;he++){const me=he*O;M===!0&&(r.fromBufferAttribute(ne,he),F[Me+me+0]=r.x,F[Me+me+1]=r.y,F[Me+me+2]=r.z,F[Me+me+3]=0),T===!0&&(r.fromBufferAttribute(ee,he),F[Me+me+4]=r.x,F[Me+me+5]=r.y,F[Me+me+6]=r.z,F[Me+me+7]=0),E===!0&&(r.fromBufferAttribute(pe,he),F[Me+me+8]=r.x,F[Me+me+9]=r.y,F[Me+me+10]=r.z,F[Me+me+11]=pe.itemSize===4?r.w:1)}}y={count:g,texture:B,size:new Le(U,N)},i.set(u,y),u.addEventListener("dispose",D)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)d.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let M=0;for(let E=0;E<h.length;E++)M+=h[E];const T=u.morphTargetsRelative?1:1-M;d.getUniforms().setValue(n,"morphTargetBaseInfluence",T),d.getUniforms().setValue(n,"morphTargetInfluences",h)}d.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:s}}function vz(n,e,t,i){let r=new WeakMap;function s(d){const h=i.render.frame,m=d.geometry,g=e.get(d,m);if(r.get(g)!==h&&(e.update(g),r.set(g,h)),d.isInstancedMesh&&(d.hasEventListener("dispose",u)===!1&&d.addEventListener("dispose",u),r.get(d)!==h&&(t.update(d.instanceMatrix,n.ARRAY_BUFFER),d.instanceColor!==null&&t.update(d.instanceColor,n.ARRAY_BUFFER),r.set(d,h))),d.isSkinnedMesh){const y=d.skeleton;r.get(y)!==h&&(y.update(),r.set(y,h))}return g}function a(){r=new WeakMap}function u(d){const h=d.target;h.removeEventListener("dispose",u),t.remove(h.instanceMatrix),h.instanceColor!==null&&t.remove(h.instanceColor)}return{update:s,dispose:a}}const T4=new si,S3=new n2(1,1),A4=new Mm,C4=new _v,b4=new Em,M3=[],w3=[],E3=new Float32Array(16),T3=new Float32Array(9),A3=new Float32Array(4);function $d(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=M3[r];if(s===void 0&&(s=new Float32Array(r),M3[r]=s),e!==0){i.toArray(s,0);for(let a=1,u=0;a!==e;++a)u+=t,n[a].toArray(s,u)}return s}function Di(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Ni(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Bv(n,e){let t=w3[e];t===void 0&&(t=new Int32Array(e),w3[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function _z(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function xz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Di(t,e))return;n.uniform2fv(this.addr,e),Ni(t,e)}}function Sz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Di(t,e))return;n.uniform3fv(this.addr,e),Ni(t,e)}}function Mz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Di(t,e))return;n.uniform4fv(this.addr,e),Ni(t,e)}}function wz(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Di(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ni(t,e)}else{if(Di(t,i))return;A3.set(i),n.uniformMatrix2fv(this.addr,!1,A3),Ni(t,i)}}function Ez(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Di(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ni(t,e)}else{if(Di(t,i))return;T3.set(i),n.uniformMatrix3fv(this.addr,!1,T3),Ni(t,i)}}function Tz(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Di(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ni(t,e)}else{if(Di(t,i))return;E3.set(i),n.uniformMatrix4fv(this.addr,!1,E3),Ni(t,i)}}function Az(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Cz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Di(t,e))return;n.uniform2iv(this.addr,e),Ni(t,e)}}function bz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Di(t,e))return;n.uniform3iv(this.addr,e),Ni(t,e)}}function Pz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Di(t,e))return;n.uniform4iv(this.addr,e),Ni(t,e)}}function Rz(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Iz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Di(t,e))return;n.uniform2uiv(this.addr,e),Ni(t,e)}}function Lz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Di(t,e))return;n.uniform3uiv(this.addr,e),Ni(t,e)}}function Dz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Di(t,e))return;n.uniform4uiv(this.addr,e),Ni(t,e)}}function Nz(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(S3.compareFunction=qS,s=S3):s=T4,t.setTexture2D(e||s,r)}function Uz(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||C4,r)}function Oz(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||b4,r)}function Fz(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||A4,r)}function kz(n){switch(n){case 5126:return _z;case 35664:return xz;case 35665:return Sz;case 35666:return Mz;case 35674:return wz;case 35675:return Ez;case 35676:return Tz;case 5124:case 35670:return Az;case 35667:case 35671:return Cz;case 35668:case 35672:return bz;case 35669:case 35673:return Pz;case 5125:return Rz;case 36294:return Iz;case 36295:return Lz;case 36296:return Dz;case 35678:case 36198:case 36298:case 36306:case 35682:return Nz;case 35679:case 36299:case 36307:return Uz;case 35680:case 36300:case 36308:case 36293:return Oz;case 36289:case 36303:case 36311:case 36292:return Fz}}function zz(n,e){n.uniform1fv(this.addr,e)}function Bz(n,e){const t=$d(e,this.size,2);n.uniform2fv(this.addr,t)}function Vz(n,e){const t=$d(e,this.size,3);n.uniform3fv(this.addr,t)}function Hz(n,e){const t=$d(e,this.size,4);n.uniform4fv(this.addr,t)}function Gz(n,e){const t=$d(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Wz(n,e){const t=$d(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function jz(n,e){const t=$d(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Xz(n,e){n.uniform1iv(this.addr,e)}function Yz(n,e){n.uniform2iv(this.addr,e)}function qz(n,e){n.uniform3iv(this.addr,e)}function Zz(n,e){n.uniform4iv(this.addr,e)}function Kz(n,e){n.uniform1uiv(this.addr,e)}function $z(n,e){n.uniform2uiv(this.addr,e)}function Qz(n,e){n.uniform3uiv(this.addr,e)}function Jz(n,e){n.uniform4uiv(this.addr,e)}function e7(n,e,t){const i=this.cache,r=e.length,s=Bv(t,r);Di(i,s)||(n.uniform1iv(this.addr,s),Ni(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||T4,s[a])}function t7(n,e,t){const i=this.cache,r=e.length,s=Bv(t,r);Di(i,s)||(n.uniform1iv(this.addr,s),Ni(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||C4,s[a])}function n7(n,e,t){const i=this.cache,r=e.length,s=Bv(t,r);Di(i,s)||(n.uniform1iv(this.addr,s),Ni(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||b4,s[a])}function i7(n,e,t){const i=this.cache,r=e.length,s=Bv(t,r);Di(i,s)||(n.uniform1iv(this.addr,s),Ni(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||A4,s[a])}function r7(n){switch(n){case 5126:return zz;case 35664:return Bz;case 35665:return Vz;case 35666:return Hz;case 35674:return Gz;case 35675:return Wz;case 35676:return jz;case 5124:case 35670:return Xz;case 35667:case 35671:return Yz;case 35668:case 35672:return qz;case 35669:case 35673:return Zz;case 5125:return Kz;case 36294:return $z;case 36295:return Qz;case 36296:return Jz;case 35678:case 36198:case 36298:case 36306:case 35682:return e7;case 35679:case 36299:case 36307:return t7;case 35680:case 36300:case 36308:case 36293:return n7;case 36289:case 36303:case 36311:case 36292:return i7}}class s7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=kz(t.type)}}class o7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=r7(t.type)}}class a7{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const u=r[s];u.setValue(e,t[u.id],i)}}}const R_=/(\w+)(\])?(\[|\.)?/g;function C3(n,e){n.seq.push(e),n.map[e.id]=e}function l7(n,e,t){const i=n.name,r=i.length;for(R_.lastIndex=0;;){const s=R_.exec(i),a=R_.lastIndex;let u=s[1];const d=s[2]==="]",h=s[3];if(d&&(u=u|0),h===void 0||h==="["&&a+2===r){C3(t,h===void 0?new s7(u,n,e):new o7(u,n,e));break}else{let g=t.map[u];g===void 0&&(g=new a7(u),C3(t,g)),t=g}}}class B0{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);l7(s,a,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){const u=t[s],d=i[u.id];d.needsUpdate!==!1&&u.setValue(e,d.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function b3(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const u7=37297;let c7=0;function f7(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const u=a+1;i.push(`${u===e?">":" "} ${u}: ${t[a]}`)}return i.join(`
`)}const P3=new Kt;function d7(n){vn._getMatrix(P3,vn.workingColorSpace,n);const e=`mat3( ${P3.elements.map(t=>t.toFixed(4))} )`;switch(vn.getTransfer(n)){case Zp:return[e,"LinearTransferOETF"];case Pn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function R3(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+f7(n.getShaderSource(e),a)}else return r}function h7(n,e){const t=d7(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function p7(n,e){let t;switch(e){case tb:t="Linear";break;case nb:t="Reinhard";break;case ib:t="Cineon";break;case OS:t="ACESFilmic";break;case sb:t="AgX";break;case ob:t="Neutral";break;case rb:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const E0=new X;function m7(){vn.getLuminanceCoefficients(E0);const n=E0.x.toFixed(4),e=E0.y.toFixed(4),t=E0.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function g7(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(gp).join(`
`)}function y7(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function v7(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let u=1;s.type===n.FLOAT_MAT2&&(u=2),s.type===n.FLOAT_MAT3&&(u=3),s.type===n.FLOAT_MAT4&&(u=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:u}}return t}function gp(n){return n!==""}function I3(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function L3(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const _7=/^[ \t]*#include +<([\w\d./]+)>/gm;function Bx(n){return n.replace(_7,S7)}const x7=new Map;function S7(n,e){let t=rn[e];if(t===void 0){const i=x7.get(e);if(i!==void 0)t=rn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return Bx(t)}const M7=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function D3(n){return n.replace(M7,w7)}function w7(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function N3(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function E7(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===uv?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Ep?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===yo&&(e="SHADOWMAP_TYPE_VSM"),e}function T7(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ja:case Jl:e="ENVMAP_TYPE_CUBE";break;case Yd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function A7(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Jl:e="ENVMAP_MODE_REFRACTION";break}return e}function C7(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case xm:e="ENVMAP_BLENDING_MULTIPLY";break;case JC:e="ENVMAP_BLENDING_MIX";break;case eb:e="ENVMAP_BLENDING_ADD";break}return e}function b7(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function P7(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,u=t.fragmentShader;const d=E7(t),h=T7(t),m=A7(t),g=C7(t),y=b7(t),_=g7(t),M=y7(s),T=r.createProgram();let E,S,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter(gp).join(`
`),E.length>0&&(E+=`
`),S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter(gp).join(`
`),S.length>0&&(S+=`
`)):(E=[N3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(gp).join(`
`),S=[N3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Zo?"#define TONE_MAPPING":"",t.toneMapping!==Zo?rn.tonemapping_pars_fragment:"",t.toneMapping!==Zo?p7("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",rn.colorspace_pars_fragment,h7("linearToOutputTexel",t.outputColorSpace),m7(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(gp).join(`
`)),a=Bx(a),a=I3(a,t),a=L3(a,t),u=Bx(u),u=I3(u,t),u=L3(u,t),a=D3(a),u=D3(u),t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,E=[_,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,S=["#define varying in",t.glslVersion===Ix?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Ix?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const C=b+E+a,I=b+S+u,U=b3(r,r.VERTEX_SHADER,C),N=b3(r,r.FRAGMENT_SHADER,I);r.attachShader(T,U),r.attachShader(T,N),t.index0AttributeName!==void 0?r.bindAttribLocation(T,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(T,0,"position"),r.linkProgram(T);function F(H){if(n.debug.checkShaderErrors){const ne=r.getProgramInfoLog(T).trim(),ee=r.getShaderInfoLog(U).trim(),pe=r.getShaderInfoLog(N).trim();let Me=!0,he=!0;if(r.getProgramParameter(T,r.LINK_STATUS)===!1)if(Me=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,T,U,N);else{const me=R3(r,U,"vertex"),G=R3(r,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(T,r.VALIDATE_STATUS)+`

Material Name: `+H.name+`
Material Type: `+H.type+`

Program Info Log: `+ne+`
`+me+`
`+G)}else ne!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ne):(ee===""||pe==="")&&(he=!1);he&&(H.diagnostics={runnable:Me,programLog:ne,vertexShader:{log:ee,prefix:E},fragmentShader:{log:pe,prefix:S}})}r.deleteShader(U),r.deleteShader(N),B=new B0(r,T),O=v7(r,T)}let B;this.getUniforms=function(){return B===void 0&&F(this),B};let O;this.getAttributes=function(){return O===void 0&&F(this),O};let D=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return D===!1&&(D=r.getProgramParameter(T,u7)),D},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(T),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=c7++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=U,this.fragmentShader=N,this}let R7=0;class I7{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new L7(e),t.set(e,i)),i}}class L7{constructor(e){this.id=R7++,this.code=e,this.usedTimes=0}}function D7(n,e,t,i,r,s,a){const u=new Ac,d=new I7,h=new Set,m=[],g=r.logarithmicDepthBuffer,y=r.vertexTextures;let _=r.precision;const M={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(O){return h.add(O),O===0?"uv":`uv${O}`}function E(O,D,H,ne,ee){const pe=ne.fog,Me=ee.geometry,he=O.isMeshStandardMaterial?ne.environment:null,me=(O.isMeshStandardMaterial?t:e).get(O.envMap||he),G=me&&me.mapping===Yd?me.image.height:null,te=M[O.type];O.precision!==null&&(_=r.getMaxPrecision(O.precision),_!==O.precision&&console.warn("THREE.WebGLProgram.getParameters:",O.precision,"not supported, using",_,"instead."));const $=Me.morphAttributes.position||Me.morphAttributes.normal||Me.morphAttributes.color,W=$!==void 0?$.length:0;let se=0;Me.morphAttributes.position!==void 0&&(se=1),Me.morphAttributes.normal!==void 0&&(se=2),Me.morphAttributes.color!==void 0&&(se=3);let Oe,ue,Ee,De;if(te){const $t=vo[te];Oe=$t.vertexShader,ue=$t.fragmentShader}else Oe=O.vertexShader,ue=O.fragmentShader,d.update(O),Ee=d.getVertexShaderID(O),De=d.getFragmentShaderID(O);const Re=n.getRenderTarget(),We=n.state.buffers.depth.getReversed(),Ke=ee.isInstancedMesh===!0,ct=ee.isBatchedMesh===!0,Pt=!!O.map,be=!!O.matcap,Ne=!!me,Y=!!O.aoMap,xt=!!O.lightMap,Be=!!O.bumpMap,at=!!O.normalMap,Xe=!!O.displacementMap,Rt=!!O.emissiveMap,$e=!!O.metalnessMap,j=!!O.roughnessMap,z=O.anisotropy>0,de=O.clearcoat>0,Ae=O.dispersion>0,Ue=O.iridescence>0,Ie=O.sheen>0,yt=O.transmission>0,Qe=z&&!!O.anisotropyMap,lt=de&&!!O.clearcoatMap,Gt=de&&!!O.clearcoatNormalMap,ze=de&&!!O.clearcoatRoughnessMap,mt=Ue&&!!O.iridescenceMap,Lt=Ue&&!!O.iridescenceThicknessMap,Ut=Ie&&!!O.sheenColorMap,dt=Ie&&!!O.sheenRoughnessMap,Q=!!O.specularMap,Ce=!!O.specularColorMap,tt=!!O.specularIntensityMap,K=yt&&!!O.transmissionMap,He=yt&&!!O.thicknessMap,xe=!!O.gradientMap,Pe=!!O.alphaMap,ot=O.alphaTest>0,nt=!!O.alphaHash,It=!!O.extensions;let hn=Zo;O.toneMapped&&(Re===null||Re.isXRRenderTarget===!0)&&(hn=n.toneMapping);const Rn={shaderID:te,shaderType:O.type,shaderName:O.name,vertexShader:Oe,fragmentShader:ue,defines:O.defines,customVertexShaderID:Ee,customFragmentShaderID:De,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:_,batching:ct,batchingColor:ct&&ee._colorsTexture!==null,instancing:Ke,instancingColor:Ke&&ee.instanceColor!==null,instancingMorph:Ke&&ee.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:Re===null?n.outputColorSpace:Re.isXRRenderTarget===!0?Re.texture.colorSpace:Ic,alphaToCoverage:!!O.alphaToCoverage,map:Pt,matcap:be,envMap:Ne,envMapMode:Ne&&me.mapping,envMapCubeUVHeight:G,aoMap:Y,lightMap:xt,bumpMap:Be,normalMap:at,displacementMap:y&&Xe,emissiveMap:Rt,normalMapObjectSpace:at&&O.normalMapType===hb,normalMapTangentSpace:at&&O.normalMapType===nu,metalnessMap:$e,roughnessMap:j,anisotropy:z,anisotropyMap:Qe,clearcoat:de,clearcoatMap:lt,clearcoatNormalMap:Gt,clearcoatRoughnessMap:ze,dispersion:Ae,iridescence:Ue,iridescenceMap:mt,iridescenceThicknessMap:Lt,sheen:Ie,sheenColorMap:Ut,sheenRoughnessMap:dt,specularMap:Q,specularColorMap:Ce,specularIntensityMap:tt,transmission:yt,transmissionMap:K,thicknessMap:He,gradientMap:xe,opaque:O.transparent===!1&&O.blending===wc&&O.alphaToCoverage===!1,alphaMap:Pe,alphaTest:ot,alphaHash:nt,combine:O.combine,mapUv:Pt&&T(O.map.channel),aoMapUv:Y&&T(O.aoMap.channel),lightMapUv:xt&&T(O.lightMap.channel),bumpMapUv:Be&&T(O.bumpMap.channel),normalMapUv:at&&T(O.normalMap.channel),displacementMapUv:Xe&&T(O.displacementMap.channel),emissiveMapUv:Rt&&T(O.emissiveMap.channel),metalnessMapUv:$e&&T(O.metalnessMap.channel),roughnessMapUv:j&&T(O.roughnessMap.channel),anisotropyMapUv:Qe&&T(O.anisotropyMap.channel),clearcoatMapUv:lt&&T(O.clearcoatMap.channel),clearcoatNormalMapUv:Gt&&T(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ze&&T(O.clearcoatRoughnessMap.channel),iridescenceMapUv:mt&&T(O.iridescenceMap.channel),iridescenceThicknessMapUv:Lt&&T(O.iridescenceThicknessMap.channel),sheenColorMapUv:Ut&&T(O.sheenColorMap.channel),sheenRoughnessMapUv:dt&&T(O.sheenRoughnessMap.channel),specularMapUv:Q&&T(O.specularMap.channel),specularColorMapUv:Ce&&T(O.specularColorMap.channel),specularIntensityMapUv:tt&&T(O.specularIntensityMap.channel),transmissionMapUv:K&&T(O.transmissionMap.channel),thicknessMapUv:He&&T(O.thicknessMap.channel),alphaMapUv:Pe&&T(O.alphaMap.channel),vertexTangents:!!Me.attributes.tangent&&(at||z),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!Me.attributes.color&&Me.attributes.color.itemSize===4,pointsUvs:ee.isPoints===!0&&!!Me.attributes.uv&&(Pt||Pe),fog:!!pe,useFog:O.fog===!0,fogExp2:!!pe&&pe.isFogExp2,flatShading:O.flatShading===!0,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:g,reverseDepthBuffer:We,skinning:ee.isSkinnedMesh===!0,morphTargets:Me.morphAttributes.position!==void 0,morphNormals:Me.morphAttributes.normal!==void 0,morphColors:Me.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:se,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numSpotLightMaps:D.spotLightMap.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numSpotLightShadowsWithMaps:D.numSpotLightShadowsWithMaps,numLightProbes:D.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:O.dithering,shadowMapEnabled:n.shadowMap.enabled&&H.length>0,shadowMapType:n.shadowMap.type,toneMapping:hn,decodeVideoTexture:Pt&&O.map.isVideoTexture===!0&&vn.getTransfer(O.map.colorSpace)===Pn,decodeVideoTextureEmissive:Rt&&O.emissiveMap.isVideoTexture===!0&&vn.getTransfer(O.emissiveMap.colorSpace)===Pn,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===jo,flipSided:O.side===Rr,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionClipCullDistance:It&&O.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(It&&O.extensions.multiDraw===!0||ct)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()};return Rn.vertexUv1s=h.has(1),Rn.vertexUv2s=h.has(2),Rn.vertexUv3s=h.has(3),h.clear(),Rn}function S(O){const D=[];if(O.shaderID?D.push(O.shaderID):(D.push(O.customVertexShaderID),D.push(O.customFragmentShaderID)),O.defines!==void 0)for(const H in O.defines)D.push(H),D.push(O.defines[H]);return O.isRawShaderMaterial===!1&&(b(D,O),C(D,O),D.push(n.outputColorSpace)),D.push(O.customProgramCacheKey),D.join()}function b(O,D){O.push(D.precision),O.push(D.outputColorSpace),O.push(D.envMapMode),O.push(D.envMapCubeUVHeight),O.push(D.mapUv),O.push(D.alphaMapUv),O.push(D.lightMapUv),O.push(D.aoMapUv),O.push(D.bumpMapUv),O.push(D.normalMapUv),O.push(D.displacementMapUv),O.push(D.emissiveMapUv),O.push(D.metalnessMapUv),O.push(D.roughnessMapUv),O.push(D.anisotropyMapUv),O.push(D.clearcoatMapUv),O.push(D.clearcoatNormalMapUv),O.push(D.clearcoatRoughnessMapUv),O.push(D.iridescenceMapUv),O.push(D.iridescenceThicknessMapUv),O.push(D.sheenColorMapUv),O.push(D.sheenRoughnessMapUv),O.push(D.specularMapUv),O.push(D.specularColorMapUv),O.push(D.specularIntensityMapUv),O.push(D.transmissionMapUv),O.push(D.thicknessMapUv),O.push(D.combine),O.push(D.fogExp2),O.push(D.sizeAttenuation),O.push(D.morphTargetsCount),O.push(D.morphAttributeCount),O.push(D.numDirLights),O.push(D.numPointLights),O.push(D.numSpotLights),O.push(D.numSpotLightMaps),O.push(D.numHemiLights),O.push(D.numRectAreaLights),O.push(D.numDirLightShadows),O.push(D.numPointLightShadows),O.push(D.numSpotLightShadows),O.push(D.numSpotLightShadowsWithMaps),O.push(D.numLightProbes),O.push(D.shadowMapType),O.push(D.toneMapping),O.push(D.numClippingPlanes),O.push(D.numClipIntersection),O.push(D.depthPacking)}function C(O,D){u.disableAll(),D.supportsVertexTextures&&u.enable(0),D.instancing&&u.enable(1),D.instancingColor&&u.enable(2),D.instancingMorph&&u.enable(3),D.matcap&&u.enable(4),D.envMap&&u.enable(5),D.normalMapObjectSpace&&u.enable(6),D.normalMapTangentSpace&&u.enable(7),D.clearcoat&&u.enable(8),D.iridescence&&u.enable(9),D.alphaTest&&u.enable(10),D.vertexColors&&u.enable(11),D.vertexAlphas&&u.enable(12),D.vertexUv1s&&u.enable(13),D.vertexUv2s&&u.enable(14),D.vertexUv3s&&u.enable(15),D.vertexTangents&&u.enable(16),D.anisotropy&&u.enable(17),D.alphaHash&&u.enable(18),D.batching&&u.enable(19),D.dispersion&&u.enable(20),D.batchingColor&&u.enable(21),O.push(u.mask),u.disableAll(),D.fog&&u.enable(0),D.useFog&&u.enable(1),D.flatShading&&u.enable(2),D.logarithmicDepthBuffer&&u.enable(3),D.reverseDepthBuffer&&u.enable(4),D.skinning&&u.enable(5),D.morphTargets&&u.enable(6),D.morphNormals&&u.enable(7),D.morphColors&&u.enable(8),D.premultipliedAlpha&&u.enable(9),D.shadowMapEnabled&&u.enable(10),D.doubleSided&&u.enable(11),D.flipSided&&u.enable(12),D.useDepthPacking&&u.enable(13),D.dithering&&u.enable(14),D.transmission&&u.enable(15),D.sheen&&u.enable(16),D.opaque&&u.enable(17),D.pointsUvs&&u.enable(18),D.decodeVideoTexture&&u.enable(19),D.decodeVideoTextureEmissive&&u.enable(20),D.alphaToCoverage&&u.enable(21),O.push(u.mask)}function I(O){const D=M[O.type];let H;if(D){const ne=vo[D];H=Ab.clone(ne.uniforms)}else H=O.uniforms;return H}function U(O,D){let H;for(let ne=0,ee=m.length;ne<ee;ne++){const pe=m[ne];if(pe.cacheKey===D){H=pe,++H.usedTimes;break}}return H===void 0&&(H=new P7(n,D,O,s),m.push(H)),H}function N(O){if(--O.usedTimes===0){const D=m.indexOf(O);m[D]=m[m.length-1],m.pop(),O.destroy()}}function F(O){d.remove(O)}function B(){d.dispose()}return{getParameters:E,getProgramCacheKey:S,getUniforms:I,acquireProgram:U,releaseProgram:N,releaseShaderCache:F,programs:m,dispose:B}}function N7(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let u=n.get(a);return u===void 0&&(u={},n.set(a,u)),u}function i(a){n.delete(a)}function r(a,u,d){n.get(a)[u]=d}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function U7(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function U3(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function O3(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function a(g,y,_,M,T,E){let S=n[e];return S===void 0?(S={id:g.id,object:g,geometry:y,material:_,groupOrder:M,renderOrder:g.renderOrder,z:T,group:E},n[e]=S):(S.id=g.id,S.object=g,S.geometry=y,S.material=_,S.groupOrder=M,S.renderOrder=g.renderOrder,S.z=T,S.group=E),e++,S}function u(g,y,_,M,T,E){const S=a(g,y,_,M,T,E);_.transmission>0?i.push(S):_.transparent===!0?r.push(S):t.push(S)}function d(g,y,_,M,T,E){const S=a(g,y,_,M,T,E);_.transmission>0?i.unshift(S):_.transparent===!0?r.unshift(S):t.unshift(S)}function h(g,y){t.length>1&&t.sort(g||U7),i.length>1&&i.sort(y||U3),r.length>1&&r.sort(y||U3)}function m(){for(let g=e,y=n.length;g<y;g++){const _=n[g];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:u,unshift:d,finish:m,sort:h}}function O7(){let n=new WeakMap;function e(i,r){const s=n.get(i);let a;return s===void 0?(a=new O3,n.set(i,[a])):r>=s.length?(a=new O3,s.push(a)):a=s[r],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function F7(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new X,color:new pt};break;case"SpotLight":t={position:new X,direction:new X,color:new pt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new X,color:new pt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new X,skyColor:new pt,groundColor:new pt};break;case"RectAreaLight":t={color:new pt,position:new X,halfWidth:new X,halfHeight:new X};break}return n[e.id]=t,t}}}function k7(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let z7=0;function B7(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function V7(n){const e=new F7,t=k7(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new X);const r=new X,s=new Vt,a=new Vt;function u(h){let m=0,g=0,y=0;for(let O=0;O<9;O++)i.probe[O].set(0,0,0);let _=0,M=0,T=0,E=0,S=0,b=0,C=0,I=0,U=0,N=0,F=0;h.sort(B7);for(let O=0,D=h.length;O<D;O++){const H=h[O],ne=H.color,ee=H.intensity,pe=H.distance,Me=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)m+=ne.r*ee,g+=ne.g*ee,y+=ne.b*ee;else if(H.isLightProbe){for(let he=0;he<9;he++)i.probe[he].addScaledVector(H.sh.coefficients[he],ee);F++}else if(H.isDirectionalLight){const he=e.get(H);if(he.color.copy(H.color).multiplyScalar(H.intensity),H.castShadow){const me=H.shadow,G=t.get(H);G.shadowIntensity=me.intensity,G.shadowBias=me.bias,G.shadowNormalBias=me.normalBias,G.shadowRadius=me.radius,G.shadowMapSize=me.mapSize,i.directionalShadow[_]=G,i.directionalShadowMap[_]=Me,i.directionalShadowMatrix[_]=H.shadow.matrix,b++}i.directional[_]=he,_++}else if(H.isSpotLight){const he=e.get(H);he.position.setFromMatrixPosition(H.matrixWorld),he.color.copy(ne).multiplyScalar(ee),he.distance=pe,he.coneCos=Math.cos(H.angle),he.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),he.decay=H.decay,i.spot[T]=he;const me=H.shadow;if(H.map&&(i.spotLightMap[U]=H.map,U++,me.updateMatrices(H),H.castShadow&&N++),i.spotLightMatrix[T]=me.matrix,H.castShadow){const G=t.get(H);G.shadowIntensity=me.intensity,G.shadowBias=me.bias,G.shadowNormalBias=me.normalBias,G.shadowRadius=me.radius,G.shadowMapSize=me.mapSize,i.spotShadow[T]=G,i.spotShadowMap[T]=Me,I++}T++}else if(H.isRectAreaLight){const he=e.get(H);he.color.copy(ne).multiplyScalar(ee),he.halfWidth.set(H.width*.5,0,0),he.halfHeight.set(0,H.height*.5,0),i.rectArea[E]=he,E++}else if(H.isPointLight){const he=e.get(H);if(he.color.copy(H.color).multiplyScalar(H.intensity),he.distance=H.distance,he.decay=H.decay,H.castShadow){const me=H.shadow,G=t.get(H);G.shadowIntensity=me.intensity,G.shadowBias=me.bias,G.shadowNormalBias=me.normalBias,G.shadowRadius=me.radius,G.shadowMapSize=me.mapSize,G.shadowCameraNear=me.camera.near,G.shadowCameraFar=me.camera.far,i.pointShadow[M]=G,i.pointShadowMap[M]=Me,i.pointShadowMatrix[M]=H.shadow.matrix,C++}i.point[M]=he,M++}else if(H.isHemisphereLight){const he=e.get(H);he.skyColor.copy(H.color).multiplyScalar(ee),he.groundColor.copy(H.groundColor).multiplyScalar(ee),i.hemi[S]=he,S++}}E>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=st.LTC_FLOAT_1,i.rectAreaLTC2=st.LTC_FLOAT_2):(i.rectAreaLTC1=st.LTC_HALF_1,i.rectAreaLTC2=st.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=g,i.ambient[2]=y;const B=i.hash;(B.directionalLength!==_||B.pointLength!==M||B.spotLength!==T||B.rectAreaLength!==E||B.hemiLength!==S||B.numDirectionalShadows!==b||B.numPointShadows!==C||B.numSpotShadows!==I||B.numSpotMaps!==U||B.numLightProbes!==F)&&(i.directional.length=_,i.spot.length=T,i.rectArea.length=E,i.point.length=M,i.hemi.length=S,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=I,i.spotShadowMap.length=I,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=I+U-N,i.spotLightMap.length=U,i.numSpotLightShadowsWithMaps=N,i.numLightProbes=F,B.directionalLength=_,B.pointLength=M,B.spotLength=T,B.rectAreaLength=E,B.hemiLength=S,B.numDirectionalShadows=b,B.numPointShadows=C,B.numSpotShadows=I,B.numSpotMaps=U,B.numLightProbes=F,i.version=z7++)}function d(h,m){let g=0,y=0,_=0,M=0,T=0;const E=m.matrixWorldInverse;for(let S=0,b=h.length;S<b;S++){const C=h[S];if(C.isDirectionalLight){const I=i.directional[g];I.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),I.direction.sub(r),I.direction.transformDirection(E),g++}else if(C.isSpotLight){const I=i.spot[_];I.position.setFromMatrixPosition(C.matrixWorld),I.position.applyMatrix4(E),I.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),I.direction.sub(r),I.direction.transformDirection(E),_++}else if(C.isRectAreaLight){const I=i.rectArea[M];I.position.setFromMatrixPosition(C.matrixWorld),I.position.applyMatrix4(E),a.identity(),s.copy(C.matrixWorld),s.premultiply(E),a.extractRotation(s),I.halfWidth.set(C.width*.5,0,0),I.halfHeight.set(0,C.height*.5,0),I.halfWidth.applyMatrix4(a),I.halfHeight.applyMatrix4(a),M++}else if(C.isPointLight){const I=i.point[y];I.position.setFromMatrixPosition(C.matrixWorld),I.position.applyMatrix4(E),y++}else if(C.isHemisphereLight){const I=i.hemi[T];I.direction.setFromMatrixPosition(C.matrixWorld),I.direction.transformDirection(E),T++}}}return{setup:u,setupView:d,state:i}}function F3(n){const e=new V7(n),t=[],i=[];function r(m){h.camera=m,t.length=0,i.length=0}function s(m){t.push(m)}function a(m){i.push(m)}function u(){e.setup(t)}function d(m){e.setupView(t,m)}const h={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:h,setupLights:u,setupLightsView:d,pushLight:s,pushShadow:a}}function H7(n){let e=new WeakMap;function t(r,s=0){const a=e.get(r);let u;return a===void 0?(u=new F3(n),e.set(r,[u])):s>=a.length?(u=new F3(n),a.push(u)):u=a[s],u}function i(){e=new WeakMap}return{get:t,dispose:i}}const G7=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,W7=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function j7(n,e,t){let i=new Tm;const r=new Le,s=new Le,a=new Sn,u=new c2({depthPacking:db}),d=new f2,h={},m=t.maxTextureSize,g={[Qa]:Rr,[Rr]:Qa,[jo]:jo},y=new Vs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Le},radius:{value:4}},vertexShader:G7,fragmentShader:W7}),_=y.clone();_.defines.HORIZONTAL_PASS=1;const M=new sn;M.setAttribute("position",new Nn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new Mi(M,y),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=uv;let S=this.type;this.render=function(N,F,B){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||N.length===0)return;const O=n.getRenderTarget(),D=n.getActiveCubeFace(),H=n.getActiveMipmapLevel(),ne=n.state;ne.setBlending(Za),ne.buffers.color.setClear(1,1,1,1),ne.buffers.depth.setTest(!0),ne.setScissorTest(!1);const ee=S!==yo&&this.type===yo,pe=S===yo&&this.type!==yo;for(let Me=0,he=N.length;Me<he;Me++){const me=N[Me],G=me.shadow;if(G===void 0){console.warn("THREE.WebGLShadowMap:",me,"has no shadow.");continue}if(G.autoUpdate===!1&&G.needsUpdate===!1)continue;r.copy(G.mapSize);const te=G.getFrameExtents();if(r.multiply(te),s.copy(G.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(s.x=Math.floor(m/te.x),r.x=s.x*te.x,G.mapSize.x=s.x),r.y>m&&(s.y=Math.floor(m/te.y),r.y=s.y*te.y,G.mapSize.y=s.y)),G.map===null||ee===!0||pe===!0){const W=this.type!==yo?{minFilter:Ji,magFilter:Ji}:{};G.map!==null&&G.map.dispose(),G.map=new Qo(r.x,r.y,W),G.map.texture.name=me.name+".shadowMap",G.camera.updateProjectionMatrix()}n.setRenderTarget(G.map),n.clear();const $=G.getViewportCount();for(let W=0;W<$;W++){const se=G.getViewport(W);a.set(s.x*se.x,s.y*se.y,s.x*se.z,s.y*se.w),ne.viewport(a),G.updateMatrices(me,W),i=G.getFrustum(),I(F,B,G.camera,me,this.type)}G.isPointLightShadow!==!0&&this.type===yo&&b(G,B),G.needsUpdate=!1}S=this.type,E.needsUpdate=!1,n.setRenderTarget(O,D,H)};function b(N,F){const B=e.update(T);y.defines.VSM_SAMPLES!==N.blurSamples&&(y.defines.VSM_SAMPLES=N.blurSamples,_.defines.VSM_SAMPLES=N.blurSamples,y.needsUpdate=!0,_.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new Qo(r.x,r.y)),y.uniforms.shadow_pass.value=N.map.texture,y.uniforms.resolution.value=N.mapSize,y.uniforms.radius.value=N.radius,n.setRenderTarget(N.mapPass),n.clear(),n.renderBufferDirect(F,null,B,y,T,null),_.uniforms.shadow_pass.value=N.mapPass.texture,_.uniforms.resolution.value=N.mapSize,_.uniforms.radius.value=N.radius,n.setRenderTarget(N.map),n.clear(),n.renderBufferDirect(F,null,B,_,T,null)}function C(N,F,B,O){let D=null;const H=B.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(H!==void 0)D=H;else if(D=B.isPointLight===!0?d:u,n.localClippingEnabled&&F.clipShadows===!0&&Array.isArray(F.clippingPlanes)&&F.clippingPlanes.length!==0||F.displacementMap&&F.displacementScale!==0||F.alphaMap&&F.alphaTest>0||F.map&&F.alphaTest>0){const ne=D.uuid,ee=F.uuid;let pe=h[ne];pe===void 0&&(pe={},h[ne]=pe);let Me=pe[ee];Me===void 0&&(Me=D.clone(),pe[ee]=Me,F.addEventListener("dispose",U)),D=Me}if(D.visible=F.visible,D.wireframe=F.wireframe,O===yo?D.side=F.shadowSide!==null?F.shadowSide:F.side:D.side=F.shadowSide!==null?F.shadowSide:g[F.side],D.alphaMap=F.alphaMap,D.alphaTest=F.alphaTest,D.map=F.map,D.clipShadows=F.clipShadows,D.clippingPlanes=F.clippingPlanes,D.clipIntersection=F.clipIntersection,D.displacementMap=F.displacementMap,D.displacementScale=F.displacementScale,D.displacementBias=F.displacementBias,D.wireframeLinewidth=F.wireframeLinewidth,D.linewidth=F.linewidth,B.isPointLight===!0&&D.isMeshDistanceMaterial===!0){const ne=n.properties.get(D);ne.light=B}return D}function I(N,F,B,O,D){if(N.visible===!1)return;if(N.layers.test(F.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&D===yo)&&(!N.frustumCulled||i.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,N.matrixWorld);const ee=e.update(N),pe=N.material;if(Array.isArray(pe)){const Me=ee.groups;for(let he=0,me=Me.length;he<me;he++){const G=Me[he],te=pe[G.materialIndex];if(te&&te.visible){const $=C(N,te,O,D);N.onBeforeShadow(n,N,F,B,ee,$,G),n.renderBufferDirect(B,null,ee,$,N,G),N.onAfterShadow(n,N,F,B,ee,$,G)}}}else if(pe.visible){const Me=C(N,pe,O,D);N.onBeforeShadow(n,N,F,B,ee,Me,null),n.renderBufferDirect(B,null,ee,Me,N,null),N.onAfterShadow(n,N,F,B,ee,Me,null)}}const ne=N.children;for(let ee=0,pe=ne.length;ee<pe;ee++)I(ne[ee],F,B,O,D)}function U(N){N.target.removeEventListener("dispose",U);for(const B in h){const O=h[B],D=N.target.uuid;D in O&&(O[D].dispose(),delete O[D])}}}const X7={[sy]:oy,[ay]:cy,[ly]:fy,[bc]:uy,[oy]:sy,[cy]:ay,[fy]:ly,[uy]:bc};function Y7(n,e){function t(){let K=!1;const He=new Sn;let xe=null;const Pe=new Sn(0,0,0,0);return{setMask:function(ot){xe!==ot&&!K&&(n.colorMask(ot,ot,ot,ot),xe=ot)},setLocked:function(ot){K=ot},setClear:function(ot,nt,It,hn,Rn){Rn===!0&&(ot*=hn,nt*=hn,It*=hn),He.set(ot,nt,It,hn),Pe.equals(He)===!1&&(n.clearColor(ot,nt,It,hn),Pe.copy(He))},reset:function(){K=!1,xe=null,Pe.set(-1,0,0,0)}}}function i(){let K=!1,He=!1,xe=null,Pe=null,ot=null;return{setReversed:function(nt){if(He!==nt){const It=e.get("EXT_clip_control");He?It.clipControlEXT(It.LOWER_LEFT_EXT,It.ZERO_TO_ONE_EXT):It.clipControlEXT(It.LOWER_LEFT_EXT,It.NEGATIVE_ONE_TO_ONE_EXT);const hn=ot;ot=null,this.setClear(hn)}He=nt},getReversed:function(){return He},setTest:function(nt){nt?Re(n.DEPTH_TEST):We(n.DEPTH_TEST)},setMask:function(nt){xe!==nt&&!K&&(n.depthMask(nt),xe=nt)},setFunc:function(nt){if(He&&(nt=X7[nt]),Pe!==nt){switch(nt){case sy:n.depthFunc(n.NEVER);break;case oy:n.depthFunc(n.ALWAYS);break;case ay:n.depthFunc(n.LESS);break;case bc:n.depthFunc(n.LEQUAL);break;case ly:n.depthFunc(n.EQUAL);break;case uy:n.depthFunc(n.GEQUAL);break;case cy:n.depthFunc(n.GREATER);break;case fy:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Pe=nt}},setLocked:function(nt){K=nt},setClear:function(nt){ot!==nt&&(He&&(nt=1-nt),n.clearDepth(nt),ot=nt)},reset:function(){K=!1,xe=null,Pe=null,ot=null,He=!1}}}function r(){let K=!1,He=null,xe=null,Pe=null,ot=null,nt=null,It=null,hn=null,Rn=null;return{setTest:function($t){K||($t?Re(n.STENCIL_TEST):We(n.STENCIL_TEST))},setMask:function($t){He!==$t&&!K&&(n.stencilMask($t),He=$t)},setFunc:function($t,Yn,Jn){(xe!==$t||Pe!==Yn||ot!==Jn)&&(n.stencilFunc($t,Yn,Jn),xe=$t,Pe=Yn,ot=Jn)},setOp:function($t,Yn,Jn){(nt!==$t||It!==Yn||hn!==Jn)&&(n.stencilOp($t,Yn,Jn),nt=$t,It=Yn,hn=Jn)},setLocked:function($t){K=$t},setClear:function($t){Rn!==$t&&(n.clearStencil($t),Rn=$t)},reset:function(){K=!1,He=null,xe=null,Pe=null,ot=null,nt=null,It=null,hn=null,Rn=null}}}const s=new t,a=new i,u=new r,d=new WeakMap,h=new WeakMap;let m={},g={},y=new WeakMap,_=[],M=null,T=!1,E=null,S=null,b=null,C=null,I=null,U=null,N=null,F=new pt(0,0,0),B=0,O=!1,D=null,H=null,ne=null,ee=null,pe=null;const Me=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let he=!1,me=0;const G=n.getParameter(n.VERSION);G.indexOf("WebGL")!==-1?(me=parseFloat(/^WebGL (\d)/.exec(G)[1]),he=me>=1):G.indexOf("OpenGL ES")!==-1&&(me=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),he=me>=2);let te=null,$={};const W=n.getParameter(n.SCISSOR_BOX),se=n.getParameter(n.VIEWPORT),Oe=new Sn().fromArray(W),ue=new Sn().fromArray(se);function Ee(K,He,xe,Pe){const ot=new Uint8Array(4),nt=n.createTexture();n.bindTexture(K,nt),n.texParameteri(K,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(K,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let It=0;It<xe;It++)K===n.TEXTURE_3D||K===n.TEXTURE_2D_ARRAY?n.texImage3D(He,0,n.RGBA,1,1,Pe,0,n.RGBA,n.UNSIGNED_BYTE,ot):n.texImage2D(He+It,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,ot);return nt}const De={};De[n.TEXTURE_2D]=Ee(n.TEXTURE_2D,n.TEXTURE_2D,1),De[n.TEXTURE_CUBE_MAP]=Ee(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),De[n.TEXTURE_2D_ARRAY]=Ee(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),De[n.TEXTURE_3D]=Ee(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),u.setClear(0),Re(n.DEPTH_TEST),a.setFunc(bc),Be(!1),at(Ax),Re(n.CULL_FACE),Y(Za);function Re(K){m[K]!==!0&&(n.enable(K),m[K]=!0)}function We(K){m[K]!==!1&&(n.disable(K),m[K]=!1)}function Ke(K,He){return g[K]!==He?(n.bindFramebuffer(K,He),g[K]=He,K===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=He),K===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=He),!0):!1}function ct(K,He){let xe=_,Pe=!1;if(K){xe=y.get(He),xe===void 0&&(xe=[],y.set(He,xe));const ot=K.textures;if(xe.length!==ot.length||xe[0]!==n.COLOR_ATTACHMENT0){for(let nt=0,It=ot.length;nt<It;nt++)xe[nt]=n.COLOR_ATTACHMENT0+nt;xe.length=ot.length,Pe=!0}}else xe[0]!==n.BACK&&(xe[0]=n.BACK,Pe=!0);Pe&&n.drawBuffers(xe)}function Pt(K){return M!==K?(n.useProgram(K),M=K,!0):!1}const be={[Xl]:n.FUNC_ADD,[OC]:n.FUNC_SUBTRACT,[FC]:n.FUNC_REVERSE_SUBTRACT};be[kC]=n.MIN,be[zC]=n.MAX;const Ne={[BC]:n.ZERO,[VC]:n.ONE,[HC]:n.SRC_COLOR,[iy]:n.SRC_ALPHA,[qC]:n.SRC_ALPHA_SATURATE,[XC]:n.DST_COLOR,[WC]:n.DST_ALPHA,[GC]:n.ONE_MINUS_SRC_COLOR,[ry]:n.ONE_MINUS_SRC_ALPHA,[YC]:n.ONE_MINUS_DST_COLOR,[jC]:n.ONE_MINUS_DST_ALPHA,[ZC]:n.CONSTANT_COLOR,[KC]:n.ONE_MINUS_CONSTANT_COLOR,[$C]:n.CONSTANT_ALPHA,[QC]:n.ONE_MINUS_CONSTANT_ALPHA};function Y(K,He,xe,Pe,ot,nt,It,hn,Rn,$t){if(K===Za){T===!0&&(We(n.BLEND),T=!1);return}if(T===!1&&(Re(n.BLEND),T=!0),K!==UC){if(K!==E||$t!==O){if((S!==Xl||I!==Xl)&&(n.blendEquation(n.FUNC_ADD),S=Xl,I=Xl),$t)switch(K){case wc:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case ny:n.blendFunc(n.ONE,n.ONE);break;case Cx:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case bx:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}else switch(K){case wc:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case ny:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case Cx:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case bx:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}b=null,C=null,U=null,N=null,F.set(0,0,0),B=0,E=K,O=$t}return}ot=ot||He,nt=nt||xe,It=It||Pe,(He!==S||ot!==I)&&(n.blendEquationSeparate(be[He],be[ot]),S=He,I=ot),(xe!==b||Pe!==C||nt!==U||It!==N)&&(n.blendFuncSeparate(Ne[xe],Ne[Pe],Ne[nt],Ne[It]),b=xe,C=Pe,U=nt,N=It),(hn.equals(F)===!1||Rn!==B)&&(n.blendColor(hn.r,hn.g,hn.b,Rn),F.copy(hn),B=Rn),E=K,O=!1}function xt(K,He){K.side===jo?We(n.CULL_FACE):Re(n.CULL_FACE);let xe=K.side===Rr;He&&(xe=!xe),Be(xe),K.blending===wc&&K.transparent===!1?Y(Za):Y(K.blending,K.blendEquation,K.blendSrc,K.blendDst,K.blendEquationAlpha,K.blendSrcAlpha,K.blendDstAlpha,K.blendColor,K.blendAlpha,K.premultipliedAlpha),a.setFunc(K.depthFunc),a.setTest(K.depthTest),a.setMask(K.depthWrite),s.setMask(K.colorWrite);const Pe=K.stencilWrite;u.setTest(Pe),Pe&&(u.setMask(K.stencilWriteMask),u.setFunc(K.stencilFunc,K.stencilRef,K.stencilFuncMask),u.setOp(K.stencilFail,K.stencilZFail,K.stencilZPass)),Rt(K.polygonOffset,K.polygonOffsetFactor,K.polygonOffsetUnits),K.alphaToCoverage===!0?Re(n.SAMPLE_ALPHA_TO_COVERAGE):We(n.SAMPLE_ALPHA_TO_COVERAGE)}function Be(K){D!==K&&(K?n.frontFace(n.CW):n.frontFace(n.CCW),D=K)}function at(K){K!==LC?(Re(n.CULL_FACE),K!==H&&(K===Ax?n.cullFace(n.BACK):K===DC?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):We(n.CULL_FACE),H=K}function Xe(K){K!==ne&&(he&&n.lineWidth(K),ne=K)}function Rt(K,He,xe){K?(Re(n.POLYGON_OFFSET_FILL),(ee!==He||pe!==xe)&&(n.polygonOffset(He,xe),ee=He,pe=xe)):We(n.POLYGON_OFFSET_FILL)}function $e(K){K?Re(n.SCISSOR_TEST):We(n.SCISSOR_TEST)}function j(K){K===void 0&&(K=n.TEXTURE0+Me-1),te!==K&&(n.activeTexture(K),te=K)}function z(K,He,xe){xe===void 0&&(te===null?xe=n.TEXTURE0+Me-1:xe=te);let Pe=$[xe];Pe===void 0&&(Pe={type:void 0,texture:void 0},$[xe]=Pe),(Pe.type!==K||Pe.texture!==He)&&(te!==xe&&(n.activeTexture(xe),te=xe),n.bindTexture(K,He||De[K]),Pe.type=K,Pe.texture=He)}function de(){const K=$[te];K!==void 0&&K.type!==void 0&&(n.bindTexture(K.type,null),K.type=void 0,K.texture=void 0)}function Ae(){try{n.compressedTexImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ue(){try{n.compressedTexImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ie(){try{n.texSubImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function yt(){try{n.texSubImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Qe(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function lt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Gt(){try{n.texStorage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ze(){try{n.texStorage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function mt(){try{n.texImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Lt(){try{n.texImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ut(K){Oe.equals(K)===!1&&(n.scissor(K.x,K.y,K.z,K.w),Oe.copy(K))}function dt(K){ue.equals(K)===!1&&(n.viewport(K.x,K.y,K.z,K.w),ue.copy(K))}function Q(K,He){let xe=h.get(He);xe===void 0&&(xe=new WeakMap,h.set(He,xe));let Pe=xe.get(K);Pe===void 0&&(Pe=n.getUniformBlockIndex(He,K.name),xe.set(K,Pe))}function Ce(K,He){const Pe=h.get(He).get(K);d.get(He)!==Pe&&(n.uniformBlockBinding(He,Pe,K.__bindingPointIndex),d.set(He,Pe))}function tt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},te=null,$={},g={},y=new WeakMap,_=[],M=null,T=!1,E=null,S=null,b=null,C=null,I=null,U=null,N=null,F=new pt(0,0,0),B=0,O=!1,D=null,H=null,ne=null,ee=null,pe=null,Oe.set(0,0,n.canvas.width,n.canvas.height),ue.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),u.reset()}return{buffers:{color:s,depth:a,stencil:u},enable:Re,disable:We,bindFramebuffer:Ke,drawBuffers:ct,useProgram:Pt,setBlending:Y,setMaterial:xt,setFlipSided:Be,setCullFace:at,setLineWidth:Xe,setPolygonOffset:Rt,setScissorTest:$e,activeTexture:j,bindTexture:z,unbindTexture:de,compressedTexImage2D:Ae,compressedTexImage3D:Ue,texImage2D:mt,texImage3D:Lt,updateUBOMapping:Q,uniformBlockBinding:Ce,texStorage2D:Gt,texStorage3D:ze,texSubImage2D:Ie,texSubImage3D:yt,compressedTexSubImage2D:Qe,compressedTexSubImage3D:lt,scissor:Ut,viewport:dt,reset:tt}}function q7(n,e,t,i,r,s,a){const u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new Le,m=new WeakMap;let g;const y=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function M(j,z){return _?new OffscreenCanvas(j,z):Qp("canvas")}function T(j,z,de){let Ae=1;const Ue=$e(j);if((Ue.width>de||Ue.height>de)&&(Ae=de/Math.max(Ue.width,Ue.height)),Ae<1)if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&j instanceof ImageBitmap||typeof VideoFrame<"u"&&j instanceof VideoFrame){const Ie=Math.floor(Ae*Ue.width),yt=Math.floor(Ae*Ue.height);g===void 0&&(g=M(Ie,yt));const Qe=z?M(Ie,yt):g;return Qe.width=Ie,Qe.height=yt,Qe.getContext("2d").drawImage(j,0,0,Ie,yt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ue.width+"x"+Ue.height+") to ("+Ie+"x"+yt+")."),Qe}else return"data"in j&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ue.width+"x"+Ue.height+")."),j;return j}function E(j){return j.generateMipmaps}function S(j){n.generateMipmap(j)}function b(j){return j.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:j.isWebGL3DRenderTarget?n.TEXTURE_3D:j.isWebGLArrayRenderTarget||j.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function C(j,z,de,Ae,Ue=!1){if(j!==null){if(n[j]!==void 0)return n[j];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+j+"'")}let Ie=z;if(z===n.RED&&(de===n.FLOAT&&(Ie=n.R32F),de===n.HALF_FLOAT&&(Ie=n.R16F),de===n.UNSIGNED_BYTE&&(Ie=n.R8)),z===n.RED_INTEGER&&(de===n.UNSIGNED_BYTE&&(Ie=n.R8UI),de===n.UNSIGNED_SHORT&&(Ie=n.R16UI),de===n.UNSIGNED_INT&&(Ie=n.R32UI),de===n.BYTE&&(Ie=n.R8I),de===n.SHORT&&(Ie=n.R16I),de===n.INT&&(Ie=n.R32I)),z===n.RG&&(de===n.FLOAT&&(Ie=n.RG32F),de===n.HALF_FLOAT&&(Ie=n.RG16F),de===n.UNSIGNED_BYTE&&(Ie=n.RG8)),z===n.RG_INTEGER&&(de===n.UNSIGNED_BYTE&&(Ie=n.RG8UI),de===n.UNSIGNED_SHORT&&(Ie=n.RG16UI),de===n.UNSIGNED_INT&&(Ie=n.RG32UI),de===n.BYTE&&(Ie=n.RG8I),de===n.SHORT&&(Ie=n.RG16I),de===n.INT&&(Ie=n.RG32I)),z===n.RGB_INTEGER&&(de===n.UNSIGNED_BYTE&&(Ie=n.RGB8UI),de===n.UNSIGNED_SHORT&&(Ie=n.RGB16UI),de===n.UNSIGNED_INT&&(Ie=n.RGB32UI),de===n.BYTE&&(Ie=n.RGB8I),de===n.SHORT&&(Ie=n.RGB16I),de===n.INT&&(Ie=n.RGB32I)),z===n.RGBA_INTEGER&&(de===n.UNSIGNED_BYTE&&(Ie=n.RGBA8UI),de===n.UNSIGNED_SHORT&&(Ie=n.RGBA16UI),de===n.UNSIGNED_INT&&(Ie=n.RGBA32UI),de===n.BYTE&&(Ie=n.RGBA8I),de===n.SHORT&&(Ie=n.RGBA16I),de===n.INT&&(Ie=n.RGBA32I)),z===n.RGB&&de===n.UNSIGNED_INT_5_9_9_9_REV&&(Ie=n.RGB9_E5),z===n.RGBA){const yt=Ue?Zp:vn.getTransfer(Ae);de===n.FLOAT&&(Ie=n.RGBA32F),de===n.HALF_FLOAT&&(Ie=n.RGBA16F),de===n.UNSIGNED_BYTE&&(Ie=yt===Pn?n.SRGB8_ALPHA8:n.RGBA8),de===n.UNSIGNED_SHORT_4_4_4_4&&(Ie=n.RGBA4),de===n.UNSIGNED_SHORT_5_5_5_1&&(Ie=n.RGB5_A1)}return(Ie===n.R16F||Ie===n.R32F||Ie===n.RG16F||Ie===n.RG32F||Ie===n.RGBA16F||Ie===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ie}function I(j,z){let de;return j?z===null||z===el||z===Pc?de=n.DEPTH24_STENCIL8:z===$r?de=n.DEPTH32F_STENCIL8:z===kd&&(de=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):z===null||z===el||z===Pc?de=n.DEPTH_COMPONENT24:z===$r?de=n.DEPTH_COMPONENT32F:z===kd&&(de=n.DEPTH_COMPONENT16),de}function U(j,z){return E(j)===!0||j.isFramebufferTexture&&j.minFilter!==Ji&&j.minFilter!==Li?Math.log2(Math.max(z.width,z.height))+1:j.mipmaps!==void 0&&j.mipmaps.length>0?j.mipmaps.length:j.isCompressedTexture&&Array.isArray(j.image)?z.mipmaps.length:1}function N(j){const z=j.target;z.removeEventListener("dispose",N),B(z),z.isVideoTexture&&m.delete(z)}function F(j){const z=j.target;z.removeEventListener("dispose",F),D(z)}function B(j){const z=i.get(j);if(z.__webglInit===void 0)return;const de=j.source,Ae=y.get(de);if(Ae){const Ue=Ae[z.__cacheKey];Ue.usedTimes--,Ue.usedTimes===0&&O(j),Object.keys(Ae).length===0&&y.delete(de)}i.remove(j)}function O(j){const z=i.get(j);n.deleteTexture(z.__webglTexture);const de=j.source,Ae=y.get(de);delete Ae[z.__cacheKey],a.memory.textures--}function D(j){const z=i.get(j);if(j.depthTexture&&(j.depthTexture.dispose(),i.remove(j.depthTexture)),j.isWebGLCubeRenderTarget)for(let Ae=0;Ae<6;Ae++){if(Array.isArray(z.__webglFramebuffer[Ae]))for(let Ue=0;Ue<z.__webglFramebuffer[Ae].length;Ue++)n.deleteFramebuffer(z.__webglFramebuffer[Ae][Ue]);else n.deleteFramebuffer(z.__webglFramebuffer[Ae]);z.__webglDepthbuffer&&n.deleteRenderbuffer(z.__webglDepthbuffer[Ae])}else{if(Array.isArray(z.__webglFramebuffer))for(let Ae=0;Ae<z.__webglFramebuffer.length;Ae++)n.deleteFramebuffer(z.__webglFramebuffer[Ae]);else n.deleteFramebuffer(z.__webglFramebuffer);if(z.__webglDepthbuffer&&n.deleteRenderbuffer(z.__webglDepthbuffer),z.__webglMultisampledFramebuffer&&n.deleteFramebuffer(z.__webglMultisampledFramebuffer),z.__webglColorRenderbuffer)for(let Ae=0;Ae<z.__webglColorRenderbuffer.length;Ae++)z.__webglColorRenderbuffer[Ae]&&n.deleteRenderbuffer(z.__webglColorRenderbuffer[Ae]);z.__webglDepthRenderbuffer&&n.deleteRenderbuffer(z.__webglDepthRenderbuffer)}const de=j.textures;for(let Ae=0,Ue=de.length;Ae<Ue;Ae++){const Ie=i.get(de[Ae]);Ie.__webglTexture&&(n.deleteTexture(Ie.__webglTexture),a.memory.textures--),i.remove(de[Ae])}i.remove(j)}let H=0;function ne(){H=0}function ee(){const j=H;return j>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+j+" texture units while this GPU supports only "+r.maxTextures),H+=1,j}function pe(j){const z=[];return z.push(j.wrapS),z.push(j.wrapT),z.push(j.wrapR||0),z.push(j.magFilter),z.push(j.minFilter),z.push(j.anisotropy),z.push(j.internalFormat),z.push(j.format),z.push(j.type),z.push(j.generateMipmaps),z.push(j.premultiplyAlpha),z.push(j.flipY),z.push(j.unpackAlignment),z.push(j.colorSpace),z.join()}function Me(j,z){const de=i.get(j);if(j.isVideoTexture&&Xe(j),j.isRenderTargetTexture===!1&&j.version>0&&de.__version!==j.version){const Ae=j.image;if(Ae===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ae.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ue(de,j,z);return}}t.bindTexture(n.TEXTURE_2D,de.__webglTexture,n.TEXTURE0+z)}function he(j,z){const de=i.get(j);if(j.version>0&&de.__version!==j.version){ue(de,j,z);return}t.bindTexture(n.TEXTURE_2D_ARRAY,de.__webglTexture,n.TEXTURE0+z)}function me(j,z){const de=i.get(j);if(j.version>0&&de.__version!==j.version){ue(de,j,z);return}t.bindTexture(n.TEXTURE_3D,de.__webglTexture,n.TEXTURE0+z)}function G(j,z){const de=i.get(j);if(j.version>0&&de.__version!==j.version){Ee(de,j,z);return}t.bindTexture(n.TEXTURE_CUBE_MAP,de.__webglTexture,n.TEXTURE0+z)}const te={[jp]:n.REPEAT,[Fs]:n.CLAMP_TO_EDGE,[Xp]:n.MIRRORED_REPEAT},$={[Ji]:n.NEAREST,[FS]:n.NEAREST_MIPMAP_NEAREST,[Md]:n.NEAREST_MIPMAP_LINEAR,[Li]:n.LINEAR,[Tp]:n.LINEAR_MIPMAP_NEAREST,[Xo]:n.LINEAR_MIPMAP_LINEAR},W={[pb]:n.NEVER,[xb]:n.ALWAYS,[mb]:n.LESS,[qS]:n.LEQUAL,[gb]:n.EQUAL,[_b]:n.GEQUAL,[yb]:n.GREATER,[vb]:n.NOTEQUAL};function se(j,z){if(z.type===$r&&e.has("OES_texture_float_linear")===!1&&(z.magFilter===Li||z.magFilter===Tp||z.magFilter===Md||z.magFilter===Xo||z.minFilter===Li||z.minFilter===Tp||z.minFilter===Md||z.minFilter===Xo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(j,n.TEXTURE_WRAP_S,te[z.wrapS]),n.texParameteri(j,n.TEXTURE_WRAP_T,te[z.wrapT]),(j===n.TEXTURE_3D||j===n.TEXTURE_2D_ARRAY)&&n.texParameteri(j,n.TEXTURE_WRAP_R,te[z.wrapR]),n.texParameteri(j,n.TEXTURE_MAG_FILTER,$[z.magFilter]),n.texParameteri(j,n.TEXTURE_MIN_FILTER,$[z.minFilter]),z.compareFunction&&(n.texParameteri(j,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(j,n.TEXTURE_COMPARE_FUNC,W[z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(z.magFilter===Ji||z.minFilter!==Md&&z.minFilter!==Xo||z.type===$r&&e.has("OES_texture_float_linear")===!1)return;if(z.anisotropy>1||i.get(z).__currentAnisotropy){const de=e.get("EXT_texture_filter_anisotropic");n.texParameterf(j,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,r.getMaxAnisotropy())),i.get(z).__currentAnisotropy=z.anisotropy}}}function Oe(j,z){let de=!1;j.__webglInit===void 0&&(j.__webglInit=!0,z.addEventListener("dispose",N));const Ae=z.source;let Ue=y.get(Ae);Ue===void 0&&(Ue={},y.set(Ae,Ue));const Ie=pe(z);if(Ie!==j.__cacheKey){Ue[Ie]===void 0&&(Ue[Ie]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,de=!0),Ue[Ie].usedTimes++;const yt=Ue[j.__cacheKey];yt!==void 0&&(Ue[j.__cacheKey].usedTimes--,yt.usedTimes===0&&O(z)),j.__cacheKey=Ie,j.__webglTexture=Ue[Ie].texture}return de}function ue(j,z,de){let Ae=n.TEXTURE_2D;(z.isDataArrayTexture||z.isCompressedArrayTexture)&&(Ae=n.TEXTURE_2D_ARRAY),z.isData3DTexture&&(Ae=n.TEXTURE_3D);const Ue=Oe(j,z),Ie=z.source;t.bindTexture(Ae,j.__webglTexture,n.TEXTURE0+de);const yt=i.get(Ie);if(Ie.version!==yt.__version||Ue===!0){t.activeTexture(n.TEXTURE0+de);const Qe=vn.getPrimaries(vn.workingColorSpace),lt=z.colorSpace===Wa?null:vn.getPrimaries(z.colorSpace),Gt=z.colorSpace===Wa||Qe===lt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Gt);let ze=T(z.image,!1,r.maxTextureSize);ze=Rt(z,ze);const mt=s.convert(z.format,z.colorSpace),Lt=s.convert(z.type);let Ut=C(z.internalFormat,mt,Lt,z.colorSpace,z.isVideoTexture);se(Ae,z);let dt;const Q=z.mipmaps,Ce=z.isVideoTexture!==!0,tt=yt.__version===void 0||Ue===!0,K=Ie.dataReady,He=U(z,ze);if(z.isDepthTexture)Ut=I(z.format===Rc,z.type),tt&&(Ce?t.texStorage2D(n.TEXTURE_2D,1,Ut,ze.width,ze.height):t.texImage2D(n.TEXTURE_2D,0,Ut,ze.width,ze.height,0,mt,Lt,null));else if(z.isDataTexture)if(Q.length>0){Ce&&tt&&t.texStorage2D(n.TEXTURE_2D,He,Ut,Q[0].width,Q[0].height);for(let xe=0,Pe=Q.length;xe<Pe;xe++)dt=Q[xe],Ce?K&&t.texSubImage2D(n.TEXTURE_2D,xe,0,0,dt.width,dt.height,mt,Lt,dt.data):t.texImage2D(n.TEXTURE_2D,xe,Ut,dt.width,dt.height,0,mt,Lt,dt.data);z.generateMipmaps=!1}else Ce?(tt&&t.texStorage2D(n.TEXTURE_2D,He,Ut,ze.width,ze.height),K&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ze.width,ze.height,mt,Lt,ze.data)):t.texImage2D(n.TEXTURE_2D,0,Ut,ze.width,ze.height,0,mt,Lt,ze.data);else if(z.isCompressedTexture)if(z.isCompressedArrayTexture){Ce&&tt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,He,Ut,Q[0].width,Q[0].height,ze.depth);for(let xe=0,Pe=Q.length;xe<Pe;xe++)if(dt=Q[xe],z.format!==hr)if(mt!==null)if(Ce){if(K)if(z.layerUpdates.size>0){const ot=kx(dt.width,dt.height,z.format,z.type);for(const nt of z.layerUpdates){const It=dt.data.subarray(nt*ot/dt.data.BYTES_PER_ELEMENT,(nt+1)*ot/dt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,xe,0,0,nt,dt.width,dt.height,1,mt,It)}z.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,xe,0,0,0,dt.width,dt.height,ze.depth,mt,dt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,xe,Ut,dt.width,dt.height,ze.depth,0,dt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ce?K&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,xe,0,0,0,dt.width,dt.height,ze.depth,mt,Lt,dt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,xe,Ut,dt.width,dt.height,ze.depth,0,mt,Lt,dt.data)}else{Ce&&tt&&t.texStorage2D(n.TEXTURE_2D,He,Ut,Q[0].width,Q[0].height);for(let xe=0,Pe=Q.length;xe<Pe;xe++)dt=Q[xe],z.format!==hr?mt!==null?Ce?K&&t.compressedTexSubImage2D(n.TEXTURE_2D,xe,0,0,dt.width,dt.height,mt,dt.data):t.compressedTexImage2D(n.TEXTURE_2D,xe,Ut,dt.width,dt.height,0,dt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ce?K&&t.texSubImage2D(n.TEXTURE_2D,xe,0,0,dt.width,dt.height,mt,Lt,dt.data):t.texImage2D(n.TEXTURE_2D,xe,Ut,dt.width,dt.height,0,mt,Lt,dt.data)}else if(z.isDataArrayTexture)if(Ce){if(tt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,He,Ut,ze.width,ze.height,ze.depth),K)if(z.layerUpdates.size>0){const xe=kx(ze.width,ze.height,z.format,z.type);for(const Pe of z.layerUpdates){const ot=ze.data.subarray(Pe*xe/ze.data.BYTES_PER_ELEMENT,(Pe+1)*xe/ze.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Pe,ze.width,ze.height,1,mt,Lt,ot)}z.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ze.width,ze.height,ze.depth,mt,Lt,ze.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ut,ze.width,ze.height,ze.depth,0,mt,Lt,ze.data);else if(z.isData3DTexture)Ce?(tt&&t.texStorage3D(n.TEXTURE_3D,He,Ut,ze.width,ze.height,ze.depth),K&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ze.width,ze.height,ze.depth,mt,Lt,ze.data)):t.texImage3D(n.TEXTURE_3D,0,Ut,ze.width,ze.height,ze.depth,0,mt,Lt,ze.data);else if(z.isFramebufferTexture){if(tt)if(Ce)t.texStorage2D(n.TEXTURE_2D,He,Ut,ze.width,ze.height);else{let xe=ze.width,Pe=ze.height;for(let ot=0;ot<He;ot++)t.texImage2D(n.TEXTURE_2D,ot,Ut,xe,Pe,0,mt,Lt,null),xe>>=1,Pe>>=1}}else if(Q.length>0){if(Ce&&tt){const xe=$e(Q[0]);t.texStorage2D(n.TEXTURE_2D,He,Ut,xe.width,xe.height)}for(let xe=0,Pe=Q.length;xe<Pe;xe++)dt=Q[xe],Ce?K&&t.texSubImage2D(n.TEXTURE_2D,xe,0,0,mt,Lt,dt):t.texImage2D(n.TEXTURE_2D,xe,Ut,mt,Lt,dt);z.generateMipmaps=!1}else if(Ce){if(tt){const xe=$e(ze);t.texStorage2D(n.TEXTURE_2D,He,Ut,xe.width,xe.height)}K&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,mt,Lt,ze)}else t.texImage2D(n.TEXTURE_2D,0,Ut,mt,Lt,ze);E(z)&&S(Ae),yt.__version=Ie.version,z.onUpdate&&z.onUpdate(z)}j.__version=z.version}function Ee(j,z,de){if(z.image.length!==6)return;const Ae=Oe(j,z),Ue=z.source;t.bindTexture(n.TEXTURE_CUBE_MAP,j.__webglTexture,n.TEXTURE0+de);const Ie=i.get(Ue);if(Ue.version!==Ie.__version||Ae===!0){t.activeTexture(n.TEXTURE0+de);const yt=vn.getPrimaries(vn.workingColorSpace),Qe=z.colorSpace===Wa?null:vn.getPrimaries(z.colorSpace),lt=z.colorSpace===Wa||yt===Qe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,lt);const Gt=z.isCompressedTexture||z.image[0].isCompressedTexture,ze=z.image[0]&&z.image[0].isDataTexture,mt=[];for(let Pe=0;Pe<6;Pe++)!Gt&&!ze?mt[Pe]=T(z.image[Pe],!0,r.maxCubemapSize):mt[Pe]=ze?z.image[Pe].image:z.image[Pe],mt[Pe]=Rt(z,mt[Pe]);const Lt=mt[0],Ut=s.convert(z.format,z.colorSpace),dt=s.convert(z.type),Q=C(z.internalFormat,Ut,dt,z.colorSpace),Ce=z.isVideoTexture!==!0,tt=Ie.__version===void 0||Ae===!0,K=Ue.dataReady;let He=U(z,Lt);se(n.TEXTURE_CUBE_MAP,z);let xe;if(Gt){Ce&&tt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,He,Q,Lt.width,Lt.height);for(let Pe=0;Pe<6;Pe++){xe=mt[Pe].mipmaps;for(let ot=0;ot<xe.length;ot++){const nt=xe[ot];z.format!==hr?Ut!==null?Ce?K&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,ot,0,0,nt.width,nt.height,Ut,nt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,ot,Q,nt.width,nt.height,0,nt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ce?K&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,ot,0,0,nt.width,nt.height,Ut,dt,nt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,ot,Q,nt.width,nt.height,0,Ut,dt,nt.data)}}}else{if(xe=z.mipmaps,Ce&&tt){xe.length>0&&He++;const Pe=$e(mt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,He,Q,Pe.width,Pe.height)}for(let Pe=0;Pe<6;Pe++)if(ze){Ce?K&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,0,0,mt[Pe].width,mt[Pe].height,Ut,dt,mt[Pe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,Q,mt[Pe].width,mt[Pe].height,0,Ut,dt,mt[Pe].data);for(let ot=0;ot<xe.length;ot++){const It=xe[ot].image[Pe].image;Ce?K&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,ot+1,0,0,It.width,It.height,Ut,dt,It.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,ot+1,Q,It.width,It.height,0,Ut,dt,It.data)}}else{Ce?K&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,0,0,Ut,dt,mt[Pe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,Q,Ut,dt,mt[Pe]);for(let ot=0;ot<xe.length;ot++){const nt=xe[ot];Ce?K&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,ot+1,0,0,Ut,dt,nt.image[Pe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,ot+1,Q,Ut,dt,nt.image[Pe])}}}E(z)&&S(n.TEXTURE_CUBE_MAP),Ie.__version=Ue.version,z.onUpdate&&z.onUpdate(z)}j.__version=z.version}function De(j,z,de,Ae,Ue,Ie){const yt=s.convert(de.format,de.colorSpace),Qe=s.convert(de.type),lt=C(de.internalFormat,yt,Qe,de.colorSpace),Gt=i.get(z),ze=i.get(de);if(ze.__renderTarget=z,!Gt.__hasExternalTextures){const mt=Math.max(1,z.width>>Ie),Lt=Math.max(1,z.height>>Ie);Ue===n.TEXTURE_3D||Ue===n.TEXTURE_2D_ARRAY?t.texImage3D(Ue,Ie,lt,mt,Lt,z.depth,0,yt,Qe,null):t.texImage2D(Ue,Ie,lt,mt,Lt,0,yt,Qe,null)}t.bindFramebuffer(n.FRAMEBUFFER,j),at(z)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ae,Ue,ze.__webglTexture,0,Be(z)):(Ue===n.TEXTURE_2D||Ue>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ue<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ae,Ue,ze.__webglTexture,Ie),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Re(j,z,de){if(n.bindRenderbuffer(n.RENDERBUFFER,j),z.depthBuffer){const Ae=z.depthTexture,Ue=Ae&&Ae.isDepthTexture?Ae.type:null,Ie=I(z.stencilBuffer,Ue),yt=z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Qe=Be(z);at(z)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Qe,Ie,z.width,z.height):de?n.renderbufferStorageMultisample(n.RENDERBUFFER,Qe,Ie,z.width,z.height):n.renderbufferStorage(n.RENDERBUFFER,Ie,z.width,z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,yt,n.RENDERBUFFER,j)}else{const Ae=z.textures;for(let Ue=0;Ue<Ae.length;Ue++){const Ie=Ae[Ue],yt=s.convert(Ie.format,Ie.colorSpace),Qe=s.convert(Ie.type),lt=C(Ie.internalFormat,yt,Qe,Ie.colorSpace),Gt=Be(z);de&&at(z)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Gt,lt,z.width,z.height):at(z)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Gt,lt,z.width,z.height):n.renderbufferStorage(n.RENDERBUFFER,lt,z.width,z.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function We(j,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,j),!(z.depthTexture&&z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ae=i.get(z.depthTexture);Ae.__renderTarget=z,(!Ae.__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),Me(z.depthTexture,0);const Ue=Ae.__webglTexture,Ie=Be(z);if(z.depthTexture.format===Ec)at(z)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ue,0,Ie):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ue,0);else if(z.depthTexture.format===Rc)at(z)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ue,0,Ie):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ue,0);else throw new Error("Unknown depthTexture format")}function Ke(j){const z=i.get(j),de=j.isWebGLCubeRenderTarget===!0;if(z.__boundDepthTexture!==j.depthTexture){const Ae=j.depthTexture;if(z.__depthDisposeCallback&&z.__depthDisposeCallback(),Ae){const Ue=()=>{delete z.__boundDepthTexture,delete z.__depthDisposeCallback,Ae.removeEventListener("dispose",Ue)};Ae.addEventListener("dispose",Ue),z.__depthDisposeCallback=Ue}z.__boundDepthTexture=Ae}if(j.depthTexture&&!z.__autoAllocateDepthBuffer){if(de)throw new Error("target.depthTexture not supported in Cube render targets");We(z.__webglFramebuffer,j)}else if(de){z.__webglDepthbuffer=[];for(let Ae=0;Ae<6;Ae++)if(t.bindFramebuffer(n.FRAMEBUFFER,z.__webglFramebuffer[Ae]),z.__webglDepthbuffer[Ae]===void 0)z.__webglDepthbuffer[Ae]=n.createRenderbuffer(),Re(z.__webglDepthbuffer[Ae],j,!1);else{const Ue=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=z.__webglDepthbuffer[Ae];n.bindRenderbuffer(n.RENDERBUFFER,Ie),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ue,n.RENDERBUFFER,Ie)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,z.__webglFramebuffer),z.__webglDepthbuffer===void 0)z.__webglDepthbuffer=n.createRenderbuffer(),Re(z.__webglDepthbuffer,j,!1);else{const Ae=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ue=z.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ue),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ae,n.RENDERBUFFER,Ue)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function ct(j,z,de){const Ae=i.get(j);z!==void 0&&De(Ae.__webglFramebuffer,j,j.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),de!==void 0&&Ke(j)}function Pt(j){const z=j.texture,de=i.get(j),Ae=i.get(z);j.addEventListener("dispose",F);const Ue=j.textures,Ie=j.isWebGLCubeRenderTarget===!0,yt=Ue.length>1;if(yt||(Ae.__webglTexture===void 0&&(Ae.__webglTexture=n.createTexture()),Ae.__version=z.version,a.memory.textures++),Ie){de.__webglFramebuffer=[];for(let Qe=0;Qe<6;Qe++)if(z.mipmaps&&z.mipmaps.length>0){de.__webglFramebuffer[Qe]=[];for(let lt=0;lt<z.mipmaps.length;lt++)de.__webglFramebuffer[Qe][lt]=n.createFramebuffer()}else de.__webglFramebuffer[Qe]=n.createFramebuffer()}else{if(z.mipmaps&&z.mipmaps.length>0){de.__webglFramebuffer=[];for(let Qe=0;Qe<z.mipmaps.length;Qe++)de.__webglFramebuffer[Qe]=n.createFramebuffer()}else de.__webglFramebuffer=n.createFramebuffer();if(yt)for(let Qe=0,lt=Ue.length;Qe<lt;Qe++){const Gt=i.get(Ue[Qe]);Gt.__webglTexture===void 0&&(Gt.__webglTexture=n.createTexture(),a.memory.textures++)}if(j.samples>0&&at(j)===!1){de.__webglMultisampledFramebuffer=n.createFramebuffer(),de.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,de.__webglMultisampledFramebuffer);for(let Qe=0;Qe<Ue.length;Qe++){const lt=Ue[Qe];de.__webglColorRenderbuffer[Qe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,de.__webglColorRenderbuffer[Qe]);const Gt=s.convert(lt.format,lt.colorSpace),ze=s.convert(lt.type),mt=C(lt.internalFormat,Gt,ze,lt.colorSpace,j.isXRRenderTarget===!0),Lt=Be(j);n.renderbufferStorageMultisample(n.RENDERBUFFER,Lt,mt,j.width,j.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Qe,n.RENDERBUFFER,de.__webglColorRenderbuffer[Qe])}n.bindRenderbuffer(n.RENDERBUFFER,null),j.depthBuffer&&(de.__webglDepthRenderbuffer=n.createRenderbuffer(),Re(de.__webglDepthRenderbuffer,j,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ie){t.bindTexture(n.TEXTURE_CUBE_MAP,Ae.__webglTexture),se(n.TEXTURE_CUBE_MAP,z);for(let Qe=0;Qe<6;Qe++)if(z.mipmaps&&z.mipmaps.length>0)for(let lt=0;lt<z.mipmaps.length;lt++)De(de.__webglFramebuffer[Qe][lt],j,z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,lt);else De(de.__webglFramebuffer[Qe],j,z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0);E(z)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(yt){for(let Qe=0,lt=Ue.length;Qe<lt;Qe++){const Gt=Ue[Qe],ze=i.get(Gt);t.bindTexture(n.TEXTURE_2D,ze.__webglTexture),se(n.TEXTURE_2D,Gt),De(de.__webglFramebuffer,j,Gt,n.COLOR_ATTACHMENT0+Qe,n.TEXTURE_2D,0),E(Gt)&&S(n.TEXTURE_2D)}t.unbindTexture()}else{let Qe=n.TEXTURE_2D;if((j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(Qe=j.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Qe,Ae.__webglTexture),se(Qe,z),z.mipmaps&&z.mipmaps.length>0)for(let lt=0;lt<z.mipmaps.length;lt++)De(de.__webglFramebuffer[lt],j,z,n.COLOR_ATTACHMENT0,Qe,lt);else De(de.__webglFramebuffer,j,z,n.COLOR_ATTACHMENT0,Qe,0);E(z)&&S(Qe),t.unbindTexture()}j.depthBuffer&&Ke(j)}function be(j){const z=j.textures;for(let de=0,Ae=z.length;de<Ae;de++){const Ue=z[de];if(E(Ue)){const Ie=b(j),yt=i.get(Ue).__webglTexture;t.bindTexture(Ie,yt),S(Ie),t.unbindTexture()}}}const Ne=[],Y=[];function xt(j){if(j.samples>0){if(at(j)===!1){const z=j.textures,de=j.width,Ae=j.height;let Ue=n.COLOR_BUFFER_BIT;const Ie=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,yt=i.get(j),Qe=z.length>1;if(Qe)for(let lt=0;lt<z.length;lt++)t.bindFramebuffer(n.FRAMEBUFFER,yt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,yt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,yt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,yt.__webglFramebuffer);for(let lt=0;lt<z.length;lt++){if(j.resolveDepthBuffer&&(j.depthBuffer&&(Ue|=n.DEPTH_BUFFER_BIT),j.stencilBuffer&&j.resolveStencilBuffer&&(Ue|=n.STENCIL_BUFFER_BIT)),Qe){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,yt.__webglColorRenderbuffer[lt]);const Gt=i.get(z[lt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Gt,0)}n.blitFramebuffer(0,0,de,Ae,0,0,de,Ae,Ue,n.NEAREST),d===!0&&(Ne.length=0,Y.length=0,Ne.push(n.COLOR_ATTACHMENT0+lt),j.depthBuffer&&j.resolveDepthBuffer===!1&&(Ne.push(Ie),Y.push(Ie),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Y)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ne))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Qe)for(let lt=0;lt<z.length;lt++){t.bindFramebuffer(n.FRAMEBUFFER,yt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.RENDERBUFFER,yt.__webglColorRenderbuffer[lt]);const Gt=i.get(z[lt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,yt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.TEXTURE_2D,Gt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,yt.__webglMultisampledFramebuffer)}else if(j.depthBuffer&&j.resolveDepthBuffer===!1&&d){const z=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[z])}}}function Be(j){return Math.min(r.maxSamples,j.samples)}function at(j){const z=i.get(j);return j.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&z.__useRenderToTexture!==!1}function Xe(j){const z=a.render.frame;m.get(j)!==z&&(m.set(j,z),j.update())}function Rt(j,z){const de=j.colorSpace,Ae=j.format,Ue=j.type;return j.isCompressedTexture===!0||j.isVideoTexture===!0||de!==Ic&&de!==Wa&&(vn.getTransfer(de)===Pn?(Ae!==hr||Ue!==wo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",de)),z}function $e(j){return typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement?(h.width=j.naturalWidth||j.width,h.height=j.naturalHeight||j.height):typeof VideoFrame<"u"&&j instanceof VideoFrame?(h.width=j.displayWidth,h.height=j.displayHeight):(h.width=j.width,h.height=j.height),h}this.allocateTextureUnit=ee,this.resetTextureUnits=ne,this.setTexture2D=Me,this.setTexture2DArray=he,this.setTexture3D=me,this.setTextureCube=G,this.rebindTextures=ct,this.setupRenderTarget=Pt,this.updateRenderTargetMipmap=be,this.updateMultisampleRenderTarget=xt,this.setupDepthRenderbuffer=Ke,this.setupFrameBufferTexture=De,this.useMultisampledRTT=at}function P4(n,e){function t(i,r=Wa){let s;const a=vn.getTransfer(r);if(i===wo)return n.UNSIGNED_BYTE;if(i===dv)return n.UNSIGNED_SHORT_4_4_4_4;if(i===hv)return n.UNSIGNED_SHORT_5_5_5_1;if(i===BS)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===kS)return n.BYTE;if(i===zS)return n.SHORT;if(i===kd)return n.UNSIGNED_SHORT;if(i===fv)return n.INT;if(i===el)return n.UNSIGNED_INT;if(i===$r)return n.FLOAT;if(i===qd)return n.HALF_FLOAT;if(i===VS)return n.ALPHA;if(i===HS)return n.RGB;if(i===hr)return n.RGBA;if(i===GS)return n.LUMINANCE;if(i===WS)return n.LUMINANCE_ALPHA;if(i===Ec)return n.DEPTH_COMPONENT;if(i===Rc)return n.DEPTH_STENCIL;if(i===pv)return n.RED;if(i===Sm)return n.RED_INTEGER;if(i===jS)return n.RG;if(i===mv)return n.RG_INTEGER;if(i===gv)return n.RGBA_INTEGER;if(i===Ap||i===Cp||i===bp||i===Pp)if(a===Pn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===Ap)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Cp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===bp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Pp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===Ap)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Cp)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===bp)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Pp)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===dy||i===hy||i===py||i===my)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===dy)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===hy)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===py)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===my)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===gy||i===yy||i===vy)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===gy||i===yy)return a===Pn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===vy)return a===Pn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===_y||i===xy||i===Sy||i===My||i===wy||i===Ey||i===Ty||i===Ay||i===Cy||i===by||i===Py||i===Ry||i===Iy||i===Ly)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===_y)return a===Pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===xy)return a===Pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Sy)return a===Pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===My)return a===Pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===wy)return a===Pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Ey)return a===Pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Ty)return a===Pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Ay)return a===Pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Cy)return a===Pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===by)return a===Pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Py)return a===Pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Ry)return a===Pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Iy)return a===Pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Ly)return a===Pn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Rp||i===Dy||i===Ny)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===Rp)return a===Pn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===Dy)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Ny)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===XS||i===Uy||i===Oy||i===Fy)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===Rp)return s.COMPRESSED_RED_RGTC1_EXT;if(i===Uy)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Oy)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Fy)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Pc?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const Z7={type:"move"};class I_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ed,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ed,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new X,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new X),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ed,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new X,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new X),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const u=this._targetRay,d=this._grip,h=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(h&&e.hand){a=!0;for(const T of e.hand.values()){const E=t.getJointPose(T,i),S=this._getHandJoint(h,T);E!==null&&(S.matrix.fromArray(E.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=E.radius),S.visible=E!==null}const m=h.joints["index-finger-tip"],g=h.joints["thumb-tip"],y=m.position.distanceTo(g.position),_=.02,M=.005;h.inputState.pinching&&y>_+M?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&y<=_-M&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(d.matrix.fromArray(s.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,s.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(s.linearVelocity)):d.hasLinearVelocity=!1,s.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(s.angularVelocity)):d.hasAngularVelocity=!1));u!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(Z7)))}return u!==null&&(u.visible=r!==null),d!==null&&(d.visible=s!==null),h!==null&&(h.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Ed;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}const K7=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,$7=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Q7{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new si,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Vs({vertexShader:K7,fragmentShader:$7,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Mi(new Kd(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class J7 extends Jo{constructor(e,t){super();const i=this;let r=null,s=1,a=null,u="local-floor",d=1,h=null,m=null,g=null,y=null,_=null,M=null;const T=new Q7,E=t.getContextAttributes();let S=null,b=null;const C=[],I=[],U=new Le;let N=null;const F=new fi;F.viewport=new Sn;const B=new fi;B.viewport=new Sn;const O=[F,B],D=new v4;let H=null,ne=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ue){let Ee=C[ue];return Ee===void 0&&(Ee=new I_,C[ue]=Ee),Ee.getTargetRaySpace()},this.getControllerGrip=function(ue){let Ee=C[ue];return Ee===void 0&&(Ee=new I_,C[ue]=Ee),Ee.getGripSpace()},this.getHand=function(ue){let Ee=C[ue];return Ee===void 0&&(Ee=new I_,C[ue]=Ee),Ee.getHandSpace()};function ee(ue){const Ee=I.indexOf(ue.inputSource);if(Ee===-1)return;const De=C[Ee];De!==void 0&&(De.update(ue.inputSource,ue.frame,h||a),De.dispatchEvent({type:ue.type,data:ue.inputSource}))}function pe(){r.removeEventListener("select",ee),r.removeEventListener("selectstart",ee),r.removeEventListener("selectend",ee),r.removeEventListener("squeeze",ee),r.removeEventListener("squeezestart",ee),r.removeEventListener("squeezeend",ee),r.removeEventListener("end",pe),r.removeEventListener("inputsourceschange",Me);for(let ue=0;ue<C.length;ue++){const Ee=I[ue];Ee!==null&&(I[ue]=null,C[ue].disconnect(Ee))}H=null,ne=null,T.reset(),e.setRenderTarget(S),_=null,y=null,g=null,r=null,b=null,Oe.stop(),i.isPresenting=!1,e.setPixelRatio(N),e.setSize(U.width,U.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ue){s=ue,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ue){u=ue,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||a},this.setReferenceSpace=function(ue){h=ue},this.getBaseLayer=function(){return y!==null?y:_},this.getBinding=function(){return g},this.getFrame=function(){return M},this.getSession=function(){return r},this.setSession=async function(ue){if(r=ue,r!==null){if(S=e.getRenderTarget(),r.addEventListener("select",ee),r.addEventListener("selectstart",ee),r.addEventListener("selectend",ee),r.addEventListener("squeeze",ee),r.addEventListener("squeezestart",ee),r.addEventListener("squeezeend",ee),r.addEventListener("end",pe),r.addEventListener("inputsourceschange",Me),E.xrCompatible!==!0&&await t.makeXRCompatible(),N=e.getPixelRatio(),e.getSize(U),r.enabledFeatures!==void 0&&r.enabledFeatures.includes("layers")){let De=null,Re=null,We=null;E.depth&&(We=E.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,De=E.stencil?Rc:Ec,Re=E.stencil?Pc:el);const Ke={colorFormat:t.RGBA8,depthFormat:We,scaleFactor:s};g=new XRWebGLBinding(r,t),y=g.createProjectionLayer(Ke),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),b=new Qo(y.textureWidth,y.textureHeight,{format:hr,type:wo,depthTexture:new n2(y.textureWidth,y.textureHeight,Re,void 0,void 0,void 0,void 0,void 0,void 0,De),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1})}else{const De={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:s};_=new XRWebGLLayer(r,t,De),r.updateRenderState({baseLayer:_}),e.setPixelRatio(1),e.setSize(_.framebufferWidth,_.framebufferHeight,!1),b=new Qo(_.framebufferWidth,_.framebufferHeight,{format:hr,type:wo,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil})}b.isXRRenderTarget=!0,this.setFoveation(d),h=null,a=await r.requestReferenceSpace(u),Oe.setContext(r),Oe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function Me(ue){for(let Ee=0;Ee<ue.removed.length;Ee++){const De=ue.removed[Ee],Re=I.indexOf(De);Re>=0&&(I[Re]=null,C[Re].disconnect(De))}for(let Ee=0;Ee<ue.added.length;Ee++){const De=ue.added[Ee];let Re=I.indexOf(De);if(Re===-1){for(let Ke=0;Ke<C.length;Ke++)if(Ke>=I.length){I.push(De),Re=Ke;break}else if(I[Ke]===null){I[Ke]=De,Re=Ke;break}if(Re===-1)break}const We=C[Re];We&&We.connect(De)}}const he=new X,me=new X;function G(ue,Ee,De){he.setFromMatrixPosition(Ee.matrixWorld),me.setFromMatrixPosition(De.matrixWorld);const Re=he.distanceTo(me),We=Ee.projectionMatrix.elements,Ke=De.projectionMatrix.elements,ct=We[14]/(We[10]-1),Pt=We[14]/(We[10]+1),be=(We[9]+1)/We[5],Ne=(We[9]-1)/We[5],Y=(We[8]-1)/We[0],xt=(Ke[8]+1)/Ke[0],Be=ct*Y,at=ct*xt,Xe=Re/(-Y+xt),Rt=Xe*-Y;if(Ee.matrixWorld.decompose(ue.position,ue.quaternion,ue.scale),ue.translateX(Rt),ue.translateZ(Xe),ue.matrixWorld.compose(ue.position,ue.quaternion,ue.scale),ue.matrixWorldInverse.copy(ue.matrixWorld).invert(),We[10]===-1)ue.projectionMatrix.copy(Ee.projectionMatrix),ue.projectionMatrixInverse.copy(Ee.projectionMatrixInverse);else{const $e=ct+Xe,j=Pt+Xe,z=Be-Rt,de=at+(Re-Rt),Ae=be*Pt/j*$e,Ue=Ne*Pt/j*$e;ue.projectionMatrix.makePerspective(z,de,Ae,Ue,$e,j),ue.projectionMatrixInverse.copy(ue.projectionMatrix).invert()}}function te(ue,Ee){Ee===null?ue.matrixWorld.copy(ue.matrix):ue.matrixWorld.multiplyMatrices(Ee.matrixWorld,ue.matrix),ue.matrixWorldInverse.copy(ue.matrixWorld).invert()}this.updateCamera=function(ue){if(r===null)return;let Ee=ue.near,De=ue.far;T.texture!==null&&(T.depthNear>0&&(Ee=T.depthNear),T.depthFar>0&&(De=T.depthFar)),D.near=B.near=F.near=Ee,D.far=B.far=F.far=De,(H!==D.near||ne!==D.far)&&(r.updateRenderState({depthNear:D.near,depthFar:D.far}),H=D.near,ne=D.far),F.layers.mask=ue.layers.mask|2,B.layers.mask=ue.layers.mask|4,D.layers.mask=F.layers.mask|B.layers.mask;const Re=ue.parent,We=D.cameras;te(D,Re);for(let Ke=0;Ke<We.length;Ke++)te(We[Ke],Re);We.length===2?G(D,F,B):D.projectionMatrix.copy(F.projectionMatrix),$(ue,D,Re)};function $(ue,Ee,De){De===null?ue.matrix.copy(Ee.matrixWorld):(ue.matrix.copy(De.matrixWorld),ue.matrix.invert(),ue.matrix.multiply(Ee.matrixWorld)),ue.matrix.decompose(ue.position,ue.quaternion,ue.scale),ue.updateMatrixWorld(!0),ue.projectionMatrix.copy(Ee.projectionMatrix),ue.projectionMatrixInverse.copy(Ee.projectionMatrixInverse),ue.isPerspectiveCamera&&(ue.fov=zd*2*Math.atan(1/ue.projectionMatrix.elements[5]),ue.zoom=1)}this.getCamera=function(){return D},this.getFoveation=function(){if(!(y===null&&_===null))return d},this.setFoveation=function(ue){d=ue,y!==null&&(y.fixedFoveation=ue),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=ue)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(D)};let W=null;function se(ue,Ee){if(m=Ee.getViewerPose(h||a),M=Ee,m!==null){const De=m.views;_!==null&&(e.setRenderTargetFramebuffer(b,_.framebuffer),e.setRenderTarget(b));let Re=!1;De.length!==D.cameras.length&&(D.cameras.length=0,Re=!0);for(let Ke=0;Ke<De.length;Ke++){const ct=De[Ke];let Pt=null;if(_!==null)Pt=_.getViewport(ct);else{const Ne=g.getViewSubImage(y,ct);Pt=Ne.viewport,Ke===0&&(e.setRenderTargetTextures(b,Ne.colorTexture,y.ignoreDepthValues?void 0:Ne.depthStencilTexture),e.setRenderTarget(b))}let be=O[Ke];be===void 0&&(be=new fi,be.layers.enable(Ke),be.viewport=new Sn,O[Ke]=be),be.matrix.fromArray(ct.transform.matrix),be.matrix.decompose(be.position,be.quaternion,be.scale),be.projectionMatrix.fromArray(ct.projectionMatrix),be.projectionMatrixInverse.copy(be.projectionMatrix).invert(),be.viewport.set(Pt.x,Pt.y,Pt.width,Pt.height),Ke===0&&(D.matrix.copy(be.matrix),D.matrix.decompose(D.position,D.quaternion,D.scale)),Re===!0&&D.cameras.push(be)}const We=r.enabledFeatures;if(We&&We.includes("depth-sensing")){const Ke=g.getDepthInformation(De[0]);Ke&&Ke.isValid&&Ke.texture&&T.init(e,Ke,r.renderState)}}for(let De=0;De<C.length;De++){const Re=I[De],We=C[De];Re!==null&&We!==void 0&&We.update(Re,Ee,h||a)}W&&W(ue,Ee),Ee.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Ee}),M=null}const Oe=new E4;Oe.setAnimationLoop(se),this.setAnimationLoop=function(ue){W=ue},this.dispose=function(){}}}const rc=new ys,e9=new Vt;function t9(n,e){function t(E,S){E.matrixAutoUpdate===!0&&E.updateMatrix(),S.value.copy(E.matrix)}function i(E,S){S.color.getRGB(E.fogColor.value,Tb(n)),S.isFog?(E.fogNear.value=S.near,E.fogFar.value=S.far):S.isFogExp2&&(E.fogDensity.value=S.density)}function r(E,S,b,C,I){S.isMeshBasicMaterial||S.isMeshLambertMaterial?s(E,S):S.isMeshToonMaterial?(s(E,S),g(E,S)):S.isMeshPhongMaterial?(s(E,S),m(E,S)):S.isMeshStandardMaterial?(s(E,S),y(E,S),S.isMeshPhysicalMaterial&&_(E,S,I)):S.isMeshMatcapMaterial?(s(E,S),M(E,S)):S.isMeshDepthMaterial?s(E,S):S.isMeshDistanceMaterial?(s(E,S),T(E,S)):S.isMeshNormalMaterial?s(E,S):S.isLineBasicMaterial?(a(E,S),S.isLineDashedMaterial&&u(E,S)):S.isPointsMaterial?d(E,S,b,C):S.isSpriteMaterial?h(E,S):S.isShadowMaterial?(E.color.value.copy(S.color),E.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function s(E,S){E.opacity.value=S.opacity,S.color&&E.diffuse.value.copy(S.color),S.emissive&&E.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(E.map.value=S.map,t(S.map,E.mapTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,t(S.alphaMap,E.alphaMapTransform)),S.bumpMap&&(E.bumpMap.value=S.bumpMap,t(S.bumpMap,E.bumpMapTransform),E.bumpScale.value=S.bumpScale,S.side===Rr&&(E.bumpScale.value*=-1)),S.normalMap&&(E.normalMap.value=S.normalMap,t(S.normalMap,E.normalMapTransform),E.normalScale.value.copy(S.normalScale),S.side===Rr&&E.normalScale.value.negate()),S.displacementMap&&(E.displacementMap.value=S.displacementMap,t(S.displacementMap,E.displacementMapTransform),E.displacementScale.value=S.displacementScale,E.displacementBias.value=S.displacementBias),S.emissiveMap&&(E.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,E.emissiveMapTransform)),S.specularMap&&(E.specularMap.value=S.specularMap,t(S.specularMap,E.specularMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest);const b=e.get(S),C=b.envMap,I=b.envMapRotation;C&&(E.envMap.value=C,rc.copy(I),rc.x*=-1,rc.y*=-1,rc.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(rc.y*=-1,rc.z*=-1),E.envMapRotation.value.setFromMatrix4(e9.makeRotationFromEuler(rc)),E.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=S.reflectivity,E.ior.value=S.ior,E.refractionRatio.value=S.refractionRatio),S.lightMap&&(E.lightMap.value=S.lightMap,E.lightMapIntensity.value=S.lightMapIntensity,t(S.lightMap,E.lightMapTransform)),S.aoMap&&(E.aoMap.value=S.aoMap,E.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,E.aoMapTransform))}function a(E,S){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,S.map&&(E.map.value=S.map,t(S.map,E.mapTransform))}function u(E,S){E.dashSize.value=S.dashSize,E.totalSize.value=S.dashSize+S.gapSize,E.scale.value=S.scale}function d(E,S,b,C){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,E.size.value=S.size*b,E.scale.value=C*.5,S.map&&(E.map.value=S.map,t(S.map,E.uvTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,t(S.alphaMap,E.alphaMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest)}function h(E,S){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,E.rotation.value=S.rotation,S.map&&(E.map.value=S.map,t(S.map,E.mapTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,t(S.alphaMap,E.alphaMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest)}function m(E,S){E.specular.value.copy(S.specular),E.shininess.value=Math.max(S.shininess,1e-4)}function g(E,S){S.gradientMap&&(E.gradientMap.value=S.gradientMap)}function y(E,S){E.metalness.value=S.metalness,S.metalnessMap&&(E.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,E.metalnessMapTransform)),E.roughness.value=S.roughness,S.roughnessMap&&(E.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,E.roughnessMapTransform)),S.envMap&&(E.envMapIntensity.value=S.envMapIntensity)}function _(E,S,b){E.ior.value=S.ior,S.sheen>0&&(E.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),E.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(E.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,E.sheenColorMapTransform)),S.sheenRoughnessMap&&(E.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,E.sheenRoughnessMapTransform))),S.clearcoat>0&&(E.clearcoat.value=S.clearcoat,E.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(E.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,E.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(E.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===Rr&&E.clearcoatNormalScale.value.negate())),S.dispersion>0&&(E.dispersion.value=S.dispersion),S.iridescence>0&&(E.iridescence.value=S.iridescence,E.iridescenceIOR.value=S.iridescenceIOR,E.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(E.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,E.iridescenceMapTransform)),S.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),S.transmission>0&&(E.transmission.value=S.transmission,E.transmissionSamplerMap.value=b.texture,E.transmissionSamplerSize.value.set(b.width,b.height),S.transmissionMap&&(E.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,E.transmissionMapTransform)),E.thickness.value=S.thickness,S.thicknessMap&&(E.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=S.attenuationDistance,E.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(E.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(E.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=S.specularIntensity,E.specularColor.value.copy(S.specularColor),S.specularColorMap&&(E.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,E.specularColorMapTransform)),S.specularIntensityMap&&(E.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,E.specularIntensityMapTransform))}function M(E,S){S.matcap&&(E.matcap.value=S.matcap)}function T(E,S){const b=e.get(S).light;E.referencePosition.value.setFromMatrixPosition(b.matrixWorld),E.nearDistance.value=b.shadow.camera.near,E.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function n9(n,e,t,i){let r={},s={},a=[];const u=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function d(b,C){const I=C.program;i.uniformBlockBinding(b,I)}function h(b,C){let I=r[b.id];I===void 0&&(M(b),I=m(b),r[b.id]=I,b.addEventListener("dispose",E));const U=C.program;i.updateUBOMapping(b,U);const N=e.render.frame;s[b.id]!==N&&(y(b),s[b.id]=N)}function m(b){const C=g();b.__bindingPointIndex=C;const I=n.createBuffer(),U=b.__size,N=b.usage;return n.bindBuffer(n.UNIFORM_BUFFER,I),n.bufferData(n.UNIFORM_BUFFER,U,N),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,C,I),I}function g(){for(let b=0;b<u;b++)if(a.indexOf(b)===-1)return a.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(b){const C=r[b.id],I=b.uniforms,U=b.__cache;n.bindBuffer(n.UNIFORM_BUFFER,C);for(let N=0,F=I.length;N<F;N++){const B=Array.isArray(I[N])?I[N]:[I[N]];for(let O=0,D=B.length;O<D;O++){const H=B[O];if(_(H,N,O,U)===!0){const ne=H.__offset,ee=Array.isArray(H.value)?H.value:[H.value];let pe=0;for(let Me=0;Me<ee.length;Me++){const he=ee[Me],me=T(he);typeof he=="number"||typeof he=="boolean"?(H.__data[0]=he,n.bufferSubData(n.UNIFORM_BUFFER,ne+pe,H.__data)):he.isMatrix3?(H.__data[0]=he.elements[0],H.__data[1]=he.elements[1],H.__data[2]=he.elements[2],H.__data[3]=0,H.__data[4]=he.elements[3],H.__data[5]=he.elements[4],H.__data[6]=he.elements[5],H.__data[7]=0,H.__data[8]=he.elements[6],H.__data[9]=he.elements[7],H.__data[10]=he.elements[8],H.__data[11]=0):(he.toArray(H.__data,pe),pe+=me.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,ne,H.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function _(b,C,I,U){const N=b.value,F=C+"_"+I;if(U[F]===void 0)return typeof N=="number"||typeof N=="boolean"?U[F]=N:U[F]=N.clone(),!0;{const B=U[F];if(typeof N=="number"||typeof N=="boolean"){if(B!==N)return U[F]=N,!0}else if(B.equals(N)===!1)return B.copy(N),!0}return!1}function M(b){const C=b.uniforms;let I=0;const U=16;for(let F=0,B=C.length;F<B;F++){const O=Array.isArray(C[F])?C[F]:[C[F]];for(let D=0,H=O.length;D<H;D++){const ne=O[D],ee=Array.isArray(ne.value)?ne.value:[ne.value];for(let pe=0,Me=ee.length;pe<Me;pe++){const he=ee[pe],me=T(he),G=I%U,te=G%me.boundary,$=G+te;I+=te,$!==0&&U-$<me.storage&&(I+=U-$),ne.__data=new Float32Array(me.storage/Float32Array.BYTES_PER_ELEMENT),ne.__offset=I,I+=me.storage}}}const N=I%U;return N>0&&(I+=U-N),b.__size=I,b.__cache={},this}function T(b){const C={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(C.boundary=4,C.storage=4):b.isVector2?(C.boundary=8,C.storage=8):b.isVector3||b.isColor?(C.boundary=16,C.storage=12):b.isVector4?(C.boundary=16,C.storage=16):b.isMatrix3?(C.boundary=48,C.storage=48):b.isMatrix4?(C.boundary=64,C.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),C}function E(b){const C=b.target;C.removeEventListener("dispose",E);const I=a.indexOf(C.__bindingPointIndex);a.splice(I,1),n.deleteBuffer(r[C.id]),delete r[C.id],delete s[C.id]}function S(){for(const b in r)n.deleteBuffer(r[b]);a=[],r={},s={}}return{bind:d,update:h,dispose:S}}class R4{constructor(e={}){const{canvas:t=Mb(),context:i=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:u=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:h=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reverseDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let _;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=i.getContextAttributes().alpha}else _=a;const M=new Uint32Array(4),T=new Int32Array(4);let E=null,S=null;const b=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=qr,this.toneMapping=Zo,this.toneMappingExposure=1;const I=this;let U=!1,N=0,F=0,B=null,O=-1,D=null;const H=new Sn,ne=new Sn;let ee=null;const pe=new pt(0);let Me=0,he=t.width,me=t.height,G=1,te=null,$=null;const W=new Sn(0,0,he,me),se=new Sn(0,0,he,me);let Oe=!1;const ue=new Tm;let Ee=!1,De=!1;this.transmissionResolutionScale=1;const Re=new Vt,We=new Vt,Ke=new X,ct=new Sn,Pt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let be=!1;function Ne(){return B===null?G:1}let Y=i;function xt(V,oe){return t.getContext(V,oe)}try{const V={alpha:!0,depth:r,stencil:s,antialias:u,premultipliedAlpha:d,preserveDrawingBuffer:h,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${_m}`),t.addEventListener("webglcontextlost",Pe,!1),t.addEventListener("webglcontextrestored",ot,!1),t.addEventListener("webglcontextcreationerror",nt,!1),Y===null){const oe="webgl2";if(Y=xt(oe,V),Y===null)throw xt(oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let Be,at,Xe,Rt,$e,j,z,de,Ae,Ue,Ie,yt,Qe,lt,Gt,ze,mt,Lt,Ut,dt,Q,Ce,tt,K;function He(){Be=new hz(Y),Be.init(),Ce=new P4(Y,Be),at=new az(Y,Be,e,Ce),Xe=new Y7(Y,Be),at.reverseDepthBuffer&&y&&Xe.buffers.depth.setReversed(!0),Rt=new gz(Y),$e=new N7,j=new q7(Y,Be,Xe,$e,at,Ce,Rt),z=new uz(I),de=new dz(I),Ae=new wO(Y),tt=new sz(Y,Ae),Ue=new pz(Y,Ae,Rt,tt),Ie=new vz(Y,Ue,Ae,Rt),Ut=new yz(Y,at,j),ze=new lz($e),yt=new D7(I,z,de,Be,at,tt,ze),Qe=new t9(I,$e),lt=new O7,Gt=new H7(Be),Lt=new rz(I,z,de,Xe,Ie,_,d),mt=new j7(I,Ie,at),K=new n9(Y,Rt,at,Xe),dt=new oz(Y,Be,Rt),Q=new mz(Y,Be,Rt),Rt.programs=yt.programs,I.capabilities=at,I.extensions=Be,I.properties=$e,I.renderLists=lt,I.shadowMap=mt,I.state=Xe,I.info=Rt}He();const xe=new J7(I,Y);this.xr=xe,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const V=Be.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=Be.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(V){V!==void 0&&(G=V,this.setSize(he,me,!1))},this.getSize=function(V){return V.set(he,me)},this.setSize=function(V,oe,ve=!0){if(xe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}he=V,me=oe,t.width=Math.floor(V*G),t.height=Math.floor(oe*G),ve===!0&&(t.style.width=V+"px",t.style.height=oe+"px"),this.setViewport(0,0,V,oe)},this.getDrawingBufferSize=function(V){return V.set(he*G,me*G).floor()},this.setDrawingBufferSize=function(V,oe,ve){he=V,me=oe,G=ve,t.width=Math.floor(V*ve),t.height=Math.floor(oe*ve),this.setViewport(0,0,V,oe)},this.getCurrentViewport=function(V){return V.copy(H)},this.getViewport=function(V){return V.copy(W)},this.setViewport=function(V,oe,ve,ce){V.isVector4?W.set(V.x,V.y,V.z,V.w):W.set(V,oe,ve,ce),Xe.viewport(H.copy(W).multiplyScalar(G).round())},this.getScissor=function(V){return V.copy(se)},this.setScissor=function(V,oe,ve,ce){V.isVector4?se.set(V.x,V.y,V.z,V.w):se.set(V,oe,ve,ce),Xe.scissor(ne.copy(se).multiplyScalar(G).round())},this.getScissorTest=function(){return Oe},this.setScissorTest=function(V){Xe.setScissorTest(Oe=V)},this.setOpaqueSort=function(V){te=V},this.setTransparentSort=function(V){$=V},this.getClearColor=function(V){return V.copy(Lt.getClearColor())},this.setClearColor=function(){Lt.setClearColor.apply(Lt,arguments)},this.getClearAlpha=function(){return Lt.getClearAlpha()},this.setClearAlpha=function(){Lt.setClearAlpha.apply(Lt,arguments)},this.clear=function(V=!0,oe=!0,ve=!0){let ce=0;if(V){let le=!1;if(B!==null){const Ve=B.texture.format;le=Ve===gv||Ve===mv||Ve===Sm}if(le){const Ve=B.texture.type,it=Ve===wo||Ve===el||Ve===kd||Ve===Pc||Ve===dv||Ve===hv,ft=Lt.getClearColor(),gt=Lt.getClearAlpha(),Dt=ft.r,bt=ft.g,qe=ft.b;it?(M[0]=Dt,M[1]=bt,M[2]=qe,M[3]=gt,Y.clearBufferuiv(Y.COLOR,0,M)):(T[0]=Dt,T[1]=bt,T[2]=qe,T[3]=gt,Y.clearBufferiv(Y.COLOR,0,T))}else ce|=Y.COLOR_BUFFER_BIT}oe&&(ce|=Y.DEPTH_BUFFER_BIT),ve&&(ce|=Y.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Y.clear(ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Pe,!1),t.removeEventListener("webglcontextrestored",ot,!1),t.removeEventListener("webglcontextcreationerror",nt,!1),Lt.dispose(),lt.dispose(),Gt.dispose(),$e.dispose(),z.dispose(),de.dispose(),Ie.dispose(),tt.dispose(),K.dispose(),yt.dispose(),xe.dispose(),xe.removeEventListener("sessionstart",il),xe.removeEventListener("sessionend",Co),_s.stop()};function Pe(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),U=!0}function ot(){console.log("THREE.WebGLRenderer: Context Restored."),U=!1;const V=Rt.autoReset,oe=mt.enabled,ve=mt.autoUpdate,ce=mt.needsUpdate,le=mt.type;He(),Rt.autoReset=V,mt.enabled=oe,mt.autoUpdate=ve,mt.needsUpdate=ce,mt.type=le}function nt(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function It(V){const oe=V.target;oe.removeEventListener("dispose",It),hn(oe)}function hn(V){Rn(V),$e.remove(V)}function Rn(V){const oe=$e.get(V).programs;oe!==void 0&&(oe.forEach(function(ve){yt.releaseProgram(ve)}),V.isShaderMaterial&&yt.releaseShaderCache(V))}this.renderBufferDirect=function(V,oe,ve,ce,le,Ve){oe===null&&(oe=Pt);const it=le.isMesh&&le.matrixWorld.determinant()<0,ft=Hc(V,oe,ve,ce,le);Xe.setMaterial(ce,it);let gt=ve.index,Dt=1;if(ce.wireframe===!0){if(gt=Ue.getWireframeAttribute(ve),gt===void 0)return;Dt=2}const bt=ve.drawRange,qe=ve.attributes.position;let wt=bt.start*Dt,zt=(bt.start+bt.count)*Dt;Ve!==null&&(wt=Math.max(wt,Ve.start*Dt),zt=Math.min(zt,(Ve.start+Ve.count)*Dt)),gt!==null?(wt=Math.max(wt,0),zt=Math.min(zt,gt.count)):qe!=null&&(wt=Math.max(wt,0),zt=Math.min(zt,qe.count));const ln=zt-wt;if(ln<0||ln===1/0)return;tt.setup(le,ce,ft,ve,gt);let un,Qt=dt;if(gt!==null&&(un=Ae.get(gt),Qt=Q,Qt.setIndex(un)),le.isMesh)ce.wireframe===!0?(Xe.setLineWidth(ce.wireframeLinewidth*Ne()),Qt.setMode(Y.LINES)):Qt.setMode(Y.TRIANGLES);else if(le.isLine){let Mt=ce.linewidth;Mt===void 0&&(Mt=1),Xe.setLineWidth(Mt*Ne()),le.isLineSegments?Qt.setMode(Y.LINES):le.isLineLoop?Qt.setMode(Y.LINE_LOOP):Qt.setMode(Y.LINE_STRIP)}else le.isPoints?Qt.setMode(Y.POINTS):le.isSprite&&Qt.setMode(Y.TRIANGLES);if(le.isBatchedMesh)if(le._multiDrawInstances!==null)Qt.renderMultiDrawInstances(le._multiDrawStarts,le._multiDrawCounts,le._multiDrawCount,le._multiDrawInstances);else if(Be.get("WEBGL_multi_draw"))Qt.renderMultiDraw(le._multiDrawStarts,le._multiDrawCounts,le._multiDrawCount);else{const Mt=le._multiDrawStarts,pn=le._multiDrawCounts,tn=le._multiDrawCount,wi=gt?Ae.get(gt).bytesPerElement:1,Hs=$e.get(ce).currentProgram.getUniforms();for(let di=0;di<tn;di++)Hs.setValue(Y,"_gl_DrawID",di),Qt.render(Mt[di]/wi,pn[di])}else if(le.isInstancedMesh)Qt.renderInstances(wt,ln,le.count);else if(ve.isInstancedBufferGeometry){const Mt=ve._maxInstanceCount!==void 0?ve._maxInstanceCount:1/0,pn=Math.min(ve.instanceCount,Mt);Qt.renderInstances(wt,ln,pn)}else Qt.render(wt,ln)};function $t(V,oe,ve){V.transparent===!0&&V.side===jo&&V.forceSinglePass===!1?(V.side=Rr,V.needsUpdate=!0,rl(V,oe,ve),V.side=Qa,V.needsUpdate=!0,rl(V,oe,ve),V.side=jo):rl(V,oe,ve)}this.compile=function(V,oe,ve=null){ve===null&&(ve=V),S=Gt.get(ve),S.init(oe),C.push(S),ve.traverseVisible(function(le){le.isLight&&le.layers.test(oe.layers)&&(S.pushLight(le),le.castShadow&&S.pushShadow(le))}),V!==ve&&V.traverseVisible(function(le){le.isLight&&le.layers.test(oe.layers)&&(S.pushLight(le),le.castShadow&&S.pushShadow(le))}),S.setupLights();const ce=new Set;return V.traverse(function(le){if(!(le.isMesh||le.isPoints||le.isLine||le.isSprite))return;const Ve=le.material;if(Ve)if(Array.isArray(Ve))for(let it=0;it<Ve.length;it++){const ft=Ve[it];$t(ft,ve,le),ce.add(ft)}else $t(Ve,ve,le),ce.add(Ve)}),C.pop(),S=null,ce},this.compileAsync=function(V,oe,ve=null){const ce=this.compile(V,oe,ve);return new Promise(le=>{function Ve(){if(ce.forEach(function(it){$e.get(it).currentProgram.isReady()&&ce.delete(it)}),ce.size===0){le(V);return}setTimeout(Ve,10)}Be.get("KHR_parallel_shader_compile")!==null?Ve():setTimeout(Ve,10)})};let Yn=null;function Jn(V){Yn&&Yn(V)}function il(){_s.stop()}function Co(){_s.start()}const _s=new E4;_s.setAnimationLoop(Jn),typeof self<"u"&&_s.setContext(self),this.setAnimationLoop=function(V){Yn=V,xe.setAnimationLoop(V),V===null?_s.stop():_s.start()},xe.addEventListener("sessionstart",il),xe.addEventListener("sessionend",Co),this.render=function(V,oe){if(oe!==void 0&&oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(U===!0)return;if(V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),oe.parent===null&&oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),xe.enabled===!0&&xe.isPresenting===!0&&(xe.cameraAutoUpdate===!0&&xe.updateCamera(oe),oe=xe.getCamera()),V.isScene===!0&&V.onBeforeRender(I,V,oe,B),S=Gt.get(V,C.length),S.init(oe),C.push(S),We.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse),ue.setFromProjectionMatrix(We),De=this.localClippingEnabled,Ee=ze.init(this.clippingPlanes,De),E=lt.get(V,b.length),E.init(),b.push(E),xe.enabled===!0&&xe.isPresenting===!0){const Ve=I.xr.getDepthSensingMesh();Ve!==null&&Jr(Ve,oe,-1/0,I.sortObjects)}Jr(V,oe,0,I.sortObjects),E.finish(),I.sortObjects===!0&&E.sort(te,$),be=xe.enabled===!1||xe.isPresenting===!1||xe.hasDepthSensing()===!1,be&&Lt.addToRenderList(E,V),this.info.render.frame++,Ee===!0&&ze.beginShadows();const ve=S.state.shadowsArray;mt.render(ve,V,oe),Ee===!0&&ze.endShadows(),this.info.autoReset===!0&&this.info.reset();const ce=E.opaque,le=E.transmissive;if(S.setupLights(),oe.isArrayCamera){const Ve=oe.cameras;if(le.length>0)for(let it=0,ft=Ve.length;it<ft;it++){const gt=Ve[it];es(ce,le,V,gt)}be&&Lt.render(V);for(let it=0,ft=Ve.length;it<ft;it++){const gt=Ve[it];ta(E,V,gt,gt.viewport)}}else le.length>0&&es(ce,le,V,oe),be&&Lt.render(V),ta(E,V,oe);B!==null&&F===0&&(j.updateMultisampleRenderTarget(B),j.updateRenderTargetMipmap(B)),V.isScene===!0&&V.onAfterRender(I,V,oe),tt.resetDefaultState(),O=-1,D=null,C.pop(),C.length>0?(S=C[C.length-1],Ee===!0&&ze.setGlobalState(I.clippingPlanes,S.state.camera)):S=null,b.pop(),b.length>0?E=b[b.length-1]:E=null};function Jr(V,oe,ve,ce){if(V.visible===!1)return;if(V.layers.test(oe.layers)){if(V.isGroup)ve=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(oe);else if(V.isLight)S.pushLight(V),V.castShadow&&S.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||ue.intersectsSprite(V)){ce&&ct.setFromMatrixPosition(V.matrixWorld).applyMatrix4(We);const it=Ie.update(V),ft=V.material;ft.visible&&E.push(V,it,ft,ve,ct.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||ue.intersectsObject(V))){const it=Ie.update(V),ft=V.material;if(ce&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),ct.copy(V.boundingSphere.center)):(it.boundingSphere===null&&it.computeBoundingSphere(),ct.copy(it.boundingSphere.center)),ct.applyMatrix4(V.matrixWorld).applyMatrix4(We)),Array.isArray(ft)){const gt=it.groups;for(let Dt=0,bt=gt.length;Dt<bt;Dt++){const qe=gt[Dt],wt=ft[qe.materialIndex];wt&&wt.visible&&E.push(V,it,wt,ve,ct.z,qe)}}else ft.visible&&E.push(V,it,ft,ve,ct.z,null)}}const Ve=V.children;for(let it=0,ft=Ve.length;it<ft;it++)Jr(Ve[it],oe,ve,ce)}function ta(V,oe,ve,ce){const le=V.opaque,Ve=V.transmissive,it=V.transparent;S.setupLightsView(ve),Ee===!0&&ze.setGlobalState(I.clippingPlanes,ve),ce&&Xe.viewport(H.copy(ce)),le.length>0&&bo(le,oe,ve),Ve.length>0&&bo(Ve,oe,ve),it.length>0&&bo(it,oe,ve),Xe.buffers.depth.setTest(!0),Xe.buffers.depth.setMask(!0),Xe.buffers.color.setMask(!0),Xe.setPolygonOffset(!1)}function es(V,oe,ve,ce){if((ve.isScene===!0?ve.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[ce.id]===void 0&&(S.state.transmissionRenderTarget[ce.id]=new Qo(1,1,{generateMipmaps:!0,type:Be.has("EXT_color_buffer_half_float")||Be.has("EXT_color_buffer_float")?qd:wo,minFilter:Xo,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:vn.workingColorSpace}));const Ve=S.state.transmissionRenderTarget[ce.id],it=ce.viewport||H;Ve.setSize(it.z*I.transmissionResolutionScale,it.w*I.transmissionResolutionScale);const ft=I.getRenderTarget();I.setRenderTarget(Ve),I.getClearColor(pe),Me=I.getClearAlpha(),Me<1&&I.setClearColor(16777215,.5),I.clear(),be&&Lt.render(ve);const gt=I.toneMapping;I.toneMapping=Zo;const Dt=ce.viewport;if(ce.viewport!==void 0&&(ce.viewport=void 0),S.setupLightsView(ce),Ee===!0&&ze.setGlobalState(I.clippingPlanes,ce),bo(V,ve,ce),j.updateMultisampleRenderTarget(Ve),j.updateRenderTargetMipmap(Ve),Be.has("WEBGL_multisampled_render_to_texture")===!1){let bt=!1;for(let qe=0,wt=oe.length;qe<wt;qe++){const zt=oe[qe],ln=zt.object,un=zt.geometry,Qt=zt.material,Mt=zt.group;if(Qt.side===jo&&ln.layers.test(ce.layers)){const pn=Qt.side;Qt.side=Rr,Qt.needsUpdate=!0,Bc(ln,ve,ce,un,Qt,Mt),Qt.side=pn,Qt.needsUpdate=!0,bt=!0}}bt===!0&&(j.updateMultisampleRenderTarget(Ve),j.updateRenderTargetMipmap(Ve))}I.setRenderTarget(ft),I.setClearColor(pe,Me),Dt!==void 0&&(ce.viewport=Dt),I.toneMapping=gt}function bo(V,oe,ve){const ce=oe.isScene===!0?oe.overrideMaterial:null;for(let le=0,Ve=V.length;le<Ve;le++){const it=V[le],ft=it.object,gt=it.geometry,Dt=ce===null?it.material:ce,bt=it.group;ft.layers.test(ve.layers)&&Bc(ft,oe,ve,gt,Dt,bt)}}function Bc(V,oe,ve,ce,le,Ve){V.onBeforeRender(I,oe,ve,ce,le,Ve),V.modelViewMatrix.multiplyMatrices(ve.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),le.onBeforeRender(I,oe,ve,ce,V,Ve),le.transparent===!0&&le.side===jo&&le.forceSinglePass===!1?(le.side=Rr,le.needsUpdate=!0,I.renderBufferDirect(ve,oe,ce,le,V,Ve),le.side=Qa,le.needsUpdate=!0,I.renderBufferDirect(ve,oe,ce,le,V,Ve),le.side=jo):I.renderBufferDirect(ve,oe,ce,le,V,Ve),V.onAfterRender(I,oe,ve,ce,le,Ve)}function rl(V,oe,ve){oe.isScene!==!0&&(oe=Pt);const ce=$e.get(V),le=S.state.lights,Ve=S.state.shadowsArray,it=le.state.version,ft=yt.getParameters(V,le.state,Ve,oe,ve),gt=yt.getProgramCacheKey(ft);let Dt=ce.programs;ce.environment=V.isMeshStandardMaterial?oe.environment:null,ce.fog=oe.fog,ce.envMap=(V.isMeshStandardMaterial?de:z).get(V.envMap||ce.environment),ce.envMapRotation=ce.environment!==null&&V.envMap===null?oe.environmentRotation:V.envMapRotation,Dt===void 0&&(V.addEventListener("dispose",It),Dt=new Map,ce.programs=Dt);let bt=Dt.get(gt);if(bt!==void 0){if(ce.currentProgram===bt&&ce.lightsStateVersion===it)return xs(V,ft),bt}else ft.uniforms=yt.getUniforms(V),V.onBeforeCompile(ft,I),bt=yt.acquireProgram(ft,gt),Dt.set(gt,bt),ce.uniforms=ft.uniforms;const qe=ce.uniforms;return(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(qe.clippingPlanes=ze.uniform),xs(V,ft),ce.needsLights=Wc(V),ce.lightsStateVersion=it,ce.needsLights&&(qe.ambientLightColor.value=le.state.ambient,qe.lightProbe.value=le.state.probe,qe.directionalLights.value=le.state.directional,qe.directionalLightShadows.value=le.state.directionalShadow,qe.spotLights.value=le.state.spot,qe.spotLightShadows.value=le.state.spotShadow,qe.rectAreaLights.value=le.state.rectArea,qe.ltc_1.value=le.state.rectAreaLTC1,qe.ltc_2.value=le.state.rectAreaLTC2,qe.pointLights.value=le.state.point,qe.pointLightShadows.value=le.state.pointShadow,qe.hemisphereLights.value=le.state.hemi,qe.directionalShadowMap.value=le.state.directionalShadowMap,qe.directionalShadowMatrix.value=le.state.directionalShadowMatrix,qe.spotShadowMap.value=le.state.spotShadowMap,qe.spotLightMatrix.value=le.state.spotLightMatrix,qe.spotLightMap.value=le.state.spotLightMap,qe.pointShadowMap.value=le.state.pointShadowMap,qe.pointShadowMatrix.value=le.state.pointShadowMatrix),ce.currentProgram=bt,ce.uniformsList=null,bt}function Vc(V){if(V.uniformsList===null){const oe=V.currentProgram.getUniforms();V.uniformsList=B0.seqWithValue(oe.seq,V.uniforms)}return V.uniformsList}function xs(V,oe){const ve=$e.get(V);ve.outputColorSpace=oe.outputColorSpace,ve.batching=oe.batching,ve.batchingColor=oe.batchingColor,ve.instancing=oe.instancing,ve.instancingColor=oe.instancingColor,ve.instancingMorph=oe.instancingMorph,ve.skinning=oe.skinning,ve.morphTargets=oe.morphTargets,ve.morphNormals=oe.morphNormals,ve.morphColors=oe.morphColors,ve.morphTargetsCount=oe.morphTargetsCount,ve.numClippingPlanes=oe.numClippingPlanes,ve.numIntersection=oe.numClipIntersection,ve.vertexAlphas=oe.vertexAlphas,ve.vertexTangents=oe.vertexTangents,ve.toneMapping=oe.toneMapping}function Hc(V,oe,ve,ce,le){oe.isScene!==!0&&(oe=Pt),j.resetTextureUnits();const Ve=oe.fog,it=ce.isMeshStandardMaterial?oe.environment:null,ft=B===null?I.outputColorSpace:B.isXRRenderTarget===!0?B.texture.colorSpace:Ic,gt=(ce.isMeshStandardMaterial?de:z).get(ce.envMap||it),Dt=ce.vertexColors===!0&&!!ve.attributes.color&&ve.attributes.color.itemSize===4,bt=!!ve.attributes.tangent&&(!!ce.normalMap||ce.anisotropy>0),qe=!!ve.morphAttributes.position,wt=!!ve.morphAttributes.normal,zt=!!ve.morphAttributes.color;let ln=Zo;ce.toneMapped&&(B===null||B.isXRRenderTarget===!0)&&(ln=I.toneMapping);const un=ve.morphAttributes.position||ve.morphAttributes.normal||ve.morphAttributes.color,Qt=un!==void 0?un.length:0,Mt=$e.get(ce),pn=S.state.lights;if(Ee===!0&&(De===!0||V!==D)){const Ei=V===D&&ce.id===O;ze.setState(ce,V,Ei)}let tn=!1;ce.version===Mt.__version?(Mt.needsLights&&Mt.lightsStateVersion!==pn.state.version||Mt.outputColorSpace!==ft||le.isBatchedMesh&&Mt.batching===!1||!le.isBatchedMesh&&Mt.batching===!0||le.isBatchedMesh&&Mt.batchingColor===!0&&le.colorTexture===null||le.isBatchedMesh&&Mt.batchingColor===!1&&le.colorTexture!==null||le.isInstancedMesh&&Mt.instancing===!1||!le.isInstancedMesh&&Mt.instancing===!0||le.isSkinnedMesh&&Mt.skinning===!1||!le.isSkinnedMesh&&Mt.skinning===!0||le.isInstancedMesh&&Mt.instancingColor===!0&&le.instanceColor===null||le.isInstancedMesh&&Mt.instancingColor===!1&&le.instanceColor!==null||le.isInstancedMesh&&Mt.instancingMorph===!0&&le.morphTexture===null||le.isInstancedMesh&&Mt.instancingMorph===!1&&le.morphTexture!==null||Mt.envMap!==gt||ce.fog===!0&&Mt.fog!==Ve||Mt.numClippingPlanes!==void 0&&(Mt.numClippingPlanes!==ze.numPlanes||Mt.numIntersection!==ze.numIntersection)||Mt.vertexAlphas!==Dt||Mt.vertexTangents!==bt||Mt.morphTargets!==qe||Mt.morphNormals!==wt||Mt.morphColors!==zt||Mt.toneMapping!==ln||Mt.morphTargetsCount!==Qt)&&(tn=!0):(tn=!0,Mt.__version=ce.version);let wi=Mt.currentProgram;tn===!0&&(wi=rl(ce,oe,le));let Hs=!1,di=!1,Ss=!1;const cn=wi.getUniforms(),Ui=Mt.uniforms;if(Xe.useProgram(wi.program)&&(Hs=!0,di=!0,Ss=!0),ce.id!==O&&(O=ce.id,di=!0),Hs||D!==V){Xe.buffers.depth.getReversed()?(Re.copy(V.projectionMatrix),qN(Re),ZN(Re),cn.setValue(Y,"projectionMatrix",Re)):cn.setValue(Y,"projectionMatrix",V.projectionMatrix),cn.setValue(Y,"viewMatrix",V.matrixWorldInverse);const qn=cn.map.cameraPosition;qn!==void 0&&qn.setValue(Y,Ke.setFromMatrixPosition(V.matrixWorld)),at.logarithmicDepthBuffer&&cn.setValue(Y,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial)&&cn.setValue(Y,"isOrthographic",V.isOrthographicCamera===!0),D!==V&&(D=V,di=!0,Ss=!0)}if(le.isSkinnedMesh){cn.setOptional(Y,le,"bindMatrix"),cn.setOptional(Y,le,"bindMatrixInverse");const Ei=le.skeleton;Ei&&(Ei.boneTexture===null&&Ei.computeBoneTexture(),cn.setValue(Y,"boneTexture",Ei.boneTexture,j))}le.isBatchedMesh&&(cn.setOptional(Y,le,"batchingTexture"),cn.setValue(Y,"batchingTexture",le._matricesTexture,j),cn.setOptional(Y,le,"batchingIdTexture"),cn.setValue(Y,"batchingIdTexture",le._indirectTexture,j),cn.setOptional(Y,le,"batchingColorTexture"),le._colorsTexture!==null&&cn.setValue(Y,"batchingColorTexture",le._colorsTexture,j));const hi=ve.morphAttributes;if((hi.position!==void 0||hi.normal!==void 0||hi.color!==void 0)&&Ut.update(le,ve,wi),(di||Mt.receiveShadow!==le.receiveShadow)&&(Mt.receiveShadow=le.receiveShadow,cn.setValue(Y,"receiveShadow",le.receiveShadow)),ce.isMeshGouraudMaterial&&ce.envMap!==null&&(Ui.envMap.value=gt,Ui.flipEnvMap.value=gt.isCubeTexture&&gt.isRenderTargetTexture===!1?-1:1),ce.isMeshStandardMaterial&&ce.envMap===null&&oe.environment!==null&&(Ui.envMapIntensity.value=oe.environmentIntensity),di&&(cn.setValue(Y,"toneMappingExposure",I.toneMappingExposure),Mt.needsLights&&Gc(Ui,Ss),Ve&&ce.fog===!0&&Qe.refreshFogUniforms(Ui,Ve),Qe.refreshMaterialUniforms(Ui,ce,G,me,S.state.transmissionRenderTarget[V.id]),B0.upload(Y,Vc(Mt),Ui,j)),ce.isShaderMaterial&&ce.uniformsNeedUpdate===!0&&(B0.upload(Y,Vc(Mt),Ui,j),ce.uniformsNeedUpdate=!1),ce.isSpriteMaterial&&cn.setValue(Y,"center",le.center),cn.setValue(Y,"modelViewMatrix",le.modelViewMatrix),cn.setValue(Y,"normalMatrix",le.normalMatrix),cn.setValue(Y,"modelMatrix",le.matrixWorld),ce.isShaderMaterial||ce.isRawShaderMaterial){const Ei=ce.uniformsGroups;for(let qn=0,fn=Ei.length;qn<fn;qn++){const er=Ei[qn];K.update(er,wi),K.bind(er,wi)}}return wi}function Gc(V,oe){V.ambientLightColor.needsUpdate=oe,V.lightProbe.needsUpdate=oe,V.directionalLights.needsUpdate=oe,V.directionalLightShadows.needsUpdate=oe,V.pointLights.needsUpdate=oe,V.pointLightShadows.needsUpdate=oe,V.spotLights.needsUpdate=oe,V.spotLightShadows.needsUpdate=oe,V.rectAreaLights.needsUpdate=oe,V.hemisphereLights.needsUpdate=oe}function Wc(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return F},this.getRenderTarget=function(){return B},this.setRenderTargetTextures=function(V,oe,ve){$e.get(V.texture).__webglTexture=oe,$e.get(V.depthTexture).__webglTexture=ve;const ce=$e.get(V);ce.__hasExternalTextures=!0,ce.__autoAllocateDepthBuffer=ve===void 0,ce.__autoAllocateDepthBuffer||Be.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ce.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(V,oe){const ve=$e.get(V);ve.__webglFramebuffer=oe,ve.__useDefaultFramebuffer=oe===void 0};const jc=Y.createFramebuffer();this.setRenderTarget=function(V,oe=0,ve=0){B=V,N=oe,F=ve;let ce=!0,le=null,Ve=!1,it=!1;if(V){const gt=$e.get(V);if(gt.__useDefaultFramebuffer!==void 0)Xe.bindFramebuffer(Y.FRAMEBUFFER,null),ce=!1;else if(gt.__webglFramebuffer===void 0)j.setupRenderTarget(V);else if(gt.__hasExternalTextures)j.rebindTextures(V,$e.get(V.texture).__webglTexture,$e.get(V.depthTexture).__webglTexture);else if(V.depthBuffer){const qe=V.depthTexture;if(gt.__boundDepthTexture!==qe){if(qe!==null&&$e.has(qe)&&(V.width!==qe.image.width||V.height!==qe.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");j.setupDepthRenderbuffer(V)}}const Dt=V.texture;(Dt.isData3DTexture||Dt.isDataArrayTexture||Dt.isCompressedArrayTexture)&&(it=!0);const bt=$e.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Array.isArray(bt[oe])?le=bt[oe][ve]:le=bt[oe],Ve=!0):V.samples>0&&j.useMultisampledRTT(V)===!1?le=$e.get(V).__webglMultisampledFramebuffer:Array.isArray(bt)?le=bt[ve]:le=bt,H.copy(V.viewport),ne.copy(V.scissor),ee=V.scissorTest}else H.copy(W).multiplyScalar(G).floor(),ne.copy(se).multiplyScalar(G).floor(),ee=Oe;if(ve!==0&&(le=jc),Xe.bindFramebuffer(Y.FRAMEBUFFER,le)&&ce&&Xe.drawBuffers(V,le),Xe.viewport(H),Xe.scissor(ne),Xe.setScissorTest(ee),Ve){const gt=$e.get(V.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_CUBE_MAP_POSITIVE_X+oe,gt.__webglTexture,ve)}else if(it){const gt=$e.get(V.texture),Dt=oe;Y.framebufferTextureLayer(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,gt.__webglTexture,ve,Dt)}else if(V!==null&&ve!==0){const gt=$e.get(V.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,gt.__webglTexture,ve)}O=-1},this.readRenderTargetPixels=function(V,oe,ve,ce,le,Ve,it){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ft=$e.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&it!==void 0&&(ft=ft[it]),ft){Xe.bindFramebuffer(Y.FRAMEBUFFER,ft);try{const gt=V.texture,Dt=gt.format,bt=gt.type;if(!at.textureFormatReadable(Dt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!at.textureTypeReadable(bt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}oe>=0&&oe<=V.width-ce&&ve>=0&&ve<=V.height-le&&Y.readPixels(oe,ve,ce,le,Ce.convert(Dt),Ce.convert(bt),Ve)}finally{const gt=B!==null?$e.get(B).__webglFramebuffer:null;Xe.bindFramebuffer(Y.FRAMEBUFFER,gt)}}},this.readRenderTargetPixelsAsync=async function(V,oe,ve,ce,le,Ve,it){if(!(V&&V.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ft=$e.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&it!==void 0&&(ft=ft[it]),ft){const gt=V.texture,Dt=gt.format,bt=gt.type;if(!at.textureFormatReadable(Dt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!at.textureTypeReadable(bt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(oe>=0&&oe<=V.width-ce&&ve>=0&&ve<=V.height-le){Xe.bindFramebuffer(Y.FRAMEBUFFER,ft);const qe=Y.createBuffer();Y.bindBuffer(Y.PIXEL_PACK_BUFFER,qe),Y.bufferData(Y.PIXEL_PACK_BUFFER,Ve.byteLength,Y.STREAM_READ),Y.readPixels(oe,ve,ce,le,Ce.convert(Dt),Ce.convert(bt),0);const wt=B!==null?$e.get(B).__webglFramebuffer:null;Xe.bindFramebuffer(Y.FRAMEBUFFER,wt);const zt=Y.fenceSync(Y.SYNC_GPU_COMMANDS_COMPLETE,0);return Y.flush(),await YN(Y,zt,4),Y.bindBuffer(Y.PIXEL_PACK_BUFFER,qe),Y.getBufferSubData(Y.PIXEL_PACK_BUFFER,0,Ve),Y.deleteBuffer(qe),Y.deleteSync(zt),Ve}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(V,oe=null,ve=0){V.isTexture!==!0&&(hd("WebGLRenderer: copyFramebufferToTexture function signature has changed."),oe=arguments[0]||null,V=arguments[1]);const ce=Math.pow(2,-ve),le=Math.floor(V.image.width*ce),Ve=Math.floor(V.image.height*ce),it=oe!==null?oe.x:0,ft=oe!==null?oe.y:0;j.setTexture2D(V,0),Y.copyTexSubImage2D(Y.TEXTURE_2D,ve,0,0,it,ft,le,Ve),Xe.unbindTexture()};const Xc=Y.createFramebuffer(),Yc=Y.createFramebuffer();this.copyTextureToTexture=function(V,oe,ve=null,ce=null,le=0,Ve=null){V.isTexture!==!0&&(hd("WebGLRenderer: copyTextureToTexture function signature has changed."),ce=arguments[0]||null,V=arguments[1],oe=arguments[2],Ve=arguments[3]||0,ve=null),Ve===null&&(le!==0?(hd("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ve=le,le=0):Ve=0);let it,ft,gt,Dt,bt,qe,wt,zt,ln;const un=V.isCompressedTexture?V.mipmaps[Ve]:V.image;if(ve!==null)it=ve.max.x-ve.min.x,ft=ve.max.y-ve.min.y,gt=ve.isBox3?ve.max.z-ve.min.z:1,Dt=ve.min.x,bt=ve.min.y,qe=ve.isBox3?ve.min.z:0;else{const hi=Math.pow(2,-le);it=Math.floor(un.width*hi),ft=Math.floor(un.height*hi),V.isDataArrayTexture?gt=un.depth:V.isData3DTexture?gt=Math.floor(un.depth*hi):gt=1,Dt=0,bt=0,qe=0}ce!==null?(wt=ce.x,zt=ce.y,ln=ce.z):(wt=0,zt=0,ln=0);const Qt=Ce.convert(oe.format),Mt=Ce.convert(oe.type);let pn;oe.isData3DTexture?(j.setTexture3D(oe,0),pn=Y.TEXTURE_3D):oe.isDataArrayTexture||oe.isCompressedArrayTexture?(j.setTexture2DArray(oe,0),pn=Y.TEXTURE_2D_ARRAY):(j.setTexture2D(oe,0),pn=Y.TEXTURE_2D),Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,oe.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,oe.unpackAlignment);const tn=Y.getParameter(Y.UNPACK_ROW_LENGTH),wi=Y.getParameter(Y.UNPACK_IMAGE_HEIGHT),Hs=Y.getParameter(Y.UNPACK_SKIP_PIXELS),di=Y.getParameter(Y.UNPACK_SKIP_ROWS),Ss=Y.getParameter(Y.UNPACK_SKIP_IMAGES);Y.pixelStorei(Y.UNPACK_ROW_LENGTH,un.width),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,un.height),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,Dt),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,bt),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,qe);const cn=V.isDataArrayTexture||V.isData3DTexture,Ui=oe.isDataArrayTexture||oe.isData3DTexture;if(V.isDepthTexture){const hi=$e.get(V),Ei=$e.get(oe),qn=$e.get(hi.__renderTarget),fn=$e.get(Ei.__renderTarget);Xe.bindFramebuffer(Y.READ_FRAMEBUFFER,qn.__webglFramebuffer),Xe.bindFramebuffer(Y.DRAW_FRAMEBUFFER,fn.__webglFramebuffer);for(let er=0;er<gt;er++)cn&&(Y.framebufferTextureLayer(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,$e.get(V).__webglTexture,le,qe+er),Y.framebufferTextureLayer(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,$e.get(oe).__webglTexture,Ve,ln+er)),Y.blitFramebuffer(Dt,bt,it,ft,wt,zt,it,ft,Y.DEPTH_BUFFER_BIT,Y.NEAREST);Xe.bindFramebuffer(Y.READ_FRAMEBUFFER,null),Xe.bindFramebuffer(Y.DRAW_FRAMEBUFFER,null)}else if(le!==0||V.isRenderTargetTexture||$e.has(V)){const hi=$e.get(V),Ei=$e.get(oe);Xe.bindFramebuffer(Y.READ_FRAMEBUFFER,Xc),Xe.bindFramebuffer(Y.DRAW_FRAMEBUFFER,Yc);for(let qn=0;qn<gt;qn++)cn?Y.framebufferTextureLayer(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,hi.__webglTexture,le,qe+qn):Y.framebufferTexture2D(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,hi.__webglTexture,le),Ui?Y.framebufferTextureLayer(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Ei.__webglTexture,Ve,ln+qn):Y.framebufferTexture2D(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,Ei.__webglTexture,Ve),le!==0?Y.blitFramebuffer(Dt,bt,it,ft,wt,zt,it,ft,Y.COLOR_BUFFER_BIT,Y.NEAREST):Ui?Y.copyTexSubImage3D(pn,Ve,wt,zt,ln+qn,Dt,bt,it,ft):Y.copyTexSubImage2D(pn,Ve,wt,zt,Dt,bt,it,ft);Xe.bindFramebuffer(Y.READ_FRAMEBUFFER,null),Xe.bindFramebuffer(Y.DRAW_FRAMEBUFFER,null)}else Ui?V.isDataTexture||V.isData3DTexture?Y.texSubImage3D(pn,Ve,wt,zt,ln,it,ft,gt,Qt,Mt,un.data):oe.isCompressedArrayTexture?Y.compressedTexSubImage3D(pn,Ve,wt,zt,ln,it,ft,gt,Qt,un.data):Y.texSubImage3D(pn,Ve,wt,zt,ln,it,ft,gt,Qt,Mt,un):V.isDataTexture?Y.texSubImage2D(Y.TEXTURE_2D,Ve,wt,zt,it,ft,Qt,Mt,un.data):V.isCompressedTexture?Y.compressedTexSubImage2D(Y.TEXTURE_2D,Ve,wt,zt,un.width,un.height,Qt,un.data):Y.texSubImage2D(Y.TEXTURE_2D,Ve,wt,zt,it,ft,Qt,Mt,un);Y.pixelStorei(Y.UNPACK_ROW_LENGTH,tn),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,wi),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,Hs),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,di),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,Ss),Ve===0&&oe.generateMipmaps&&Y.generateMipmap(pn),Xe.unbindTexture()},this.copyTextureToTexture3D=function(V,oe,ve=null,ce=null,le=0){return V.isTexture!==!0&&(hd("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ve=arguments[0]||null,ce=arguments[1]||null,V=arguments[2],oe=arguments[3],le=arguments[4]||0),hd('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(V,oe,ve,ce,le)},this.initRenderTarget=function(V){$e.get(V).__webglFramebuffer===void 0&&j.setupRenderTarget(V)},this.initTexture=function(V){V.isCubeTexture?j.setTextureCube(V,0):V.isData3DTexture?j.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?j.setTexture2DArray(V,0):j.setTexture2D(V,0),Xe.unbindTexture()},this.resetState=function(){N=0,F=0,B=null,Xe.reset(),tt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return xo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=vn._getDrawingBufferColorSpace(e),t.unpackColorSpace=vn._getUnpackColorSpace()}}const I4=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:OS,AddEquation:Xl,AddOperation:eb,AdditiveAnimationBlendMode:YS,AdditiveBlending:ny,AgXToneMapping:sb,AlphaFormat:VS,AlwaysCompare:xb,AlwaysDepth:oy,AlwaysStencilFunc:Rx,AmbientLight:d4,AnimationAction:S4,AnimationClip:sm,AnimationLoader:yU,AnimationMixer:XU,AnimationObjectGroup:WU,AnimationUtils:hU,ArcCurve:Fb,ArrayCamera:v4,ArrowHelper:pO,AttachedBindMode:Px,Audio:_4,AudioAnalyser:NU,AudioContext:y2,AudioListener:IU,AudioLoader:bU,AxesHelper:mO,BackSide:Rr,BasicDepthPacking:fb,BasicShadowMap:NC,BatchedMesh:Nb,Bone:e2,BooleanKeyframeTrack:kc,Box2:eO,Box3:Ir,Box3Helper:dO,BoxGeometry:Fc,BoxHelper:fO,BufferAttribute:Nn,BufferGeometry:sn,BufferGeometryLoader:y4,ByteType:kS,Cache:Xa,Camera:wm,CameraHelper:cO,CanvasTexture:F8,CapsuleGeometry:Av,CatmullRomCurve3:kb,CineonToneMapping:ib,CircleGeometry:Cv,ClampToEdgeWrapping:Fs,Clock:v2,Color:pt,ColorKeyframeTrack:p2,ColorManagement:vn,CompressedArrayTexture:U8,CompressedCubeTexture:O8,CompressedTexture:Ev,CompressedTextureLoader:vU,ConeGeometry:bv,ConstantAlphaFactor:$C,ConstantColorFactor:ZC,Controls:yO,CubeCamera:Cb,CubeReflectionMapping:Ja,CubeRefractionMapping:Jl,CubeTexture:Em,CubeTextureLoader:_U,CubeUVReflectionMapping:Yd,CubicBezierCurve:r2,CubicBezierCurve3:zb,CubicInterpolant:r4,CullFaceBack:Ax,CullFaceFront:DC,CullFaceFrontBack:ZD,CullFaceNone:LC,Curve:To,CurvePath:Vb,CustomBlending:UC,CustomToneMapping:rb,CylinderGeometry:Zd,Cylindrical:JU,Data3DTexture:_v,DataArrayTexture:Mm,DataTexture:Ko,DataTextureLoader:xU,DataUtils:c8,DecrementStencilOp:uN,DecrementWrapStencilOp:fN,DefaultLoadingManager:a4,DepthFormat:Ec,DepthStencilFormat:Rc,DepthTexture:n2,DetachedBindMode:ab,DirectionalLight:f4,DirectionalLightHelper:uO,DiscreteInterpolant:s4,DodecahedronGeometry:Pv,DoubleSide:jo,DstAlphaFactor:WC,DstColorFactor:XC,DynamicCopyUsage:AN,DynamicDrawUsage:xN,DynamicReadUsage:wN,EdgesGeometry:Hb,EllipseCurve:Tv,EqualCompare:gb,EqualDepth:ly,EqualStencilFunc:mN,EquirectangularReflectionMapping:Gp,EquirectangularRefractionMapping:Wp,Euler:ys,EventDispatcher:Jo,ExtrudeGeometry:Iv,FileLoader:tl,Float16BufferAttribute:g8,Float32BufferAttribute:At,FloatType:$r,Fog:Sv,FogExp2:xv,FramebufferTexture:N8,FrontSide:Qa,Frustum:Tm,GLBufferAttribute:QU,GLSL1:bN,GLSL3:Ix,GreaterCompare:yb,GreaterDepth:cy,GreaterEqualCompare:_b,GreaterEqualDepth:uy,GreaterEqualStencilFunc:_N,GreaterStencilFunc:yN,GridHelper:aO,Group:Ed,HalfFloatType:qd,HemisphereLight:l4,HemisphereLightHelper:oO,IcosahedronGeometry:Lv,ImageBitmapLoader:CU,ImageLoader:om,ImageUtils:wb,IncrementStencilOp:lN,IncrementWrapStencilOp:cN,InstancedBufferAttribute:Vd,InstancedBufferGeometry:g4,InstancedInterleavedBuffer:$U,InstancedMesh:Db,Int16BufferAttribute:p8,Int32BufferAttribute:m8,Int8BufferAttribute:f8,IntType:fv,InterleavedBuffer:Mv,InterleavedBufferAttribute:Lc,Interpolant:Pm,InterpolateDiscrete:Yp,InterpolateLinear:ky,InterpolateSmooth:z0,InvertStencilOp:dN,KeepStencilOp:uc,KeyframeTrack:Ao,LOD:Ib,LatheGeometry:Am,Layers:Ac,LessCompare:mb,LessDepth:ay,LessEqualCompare:qS,LessEqualDepth:bc,LessEqualStencilFunc:gN,LessStencilFunc:pN,Light:su,LightProbe:m4,Line:eu,Line3:tO,LineBasicMaterial:Dr,LineCurve:s2,LineCurve3:Bb,LineDashedMaterial:t4,LineLoop:Ub,LineSegments:ea,LinearFilter:Li,LinearInterpolant:h2,LinearMipMapLinearFilter:JD,LinearMipMapNearestFilter:QD,LinearMipmapLinearFilter:Xo,LinearMipmapNearestFilter:Tp,LinearSRGBColorSpace:Ic,LinearToneMapping:tb,LinearTransfer:Zp,Loader:Qr,LoaderUtils:Ox,LoadingManager:m2,LoopOnce:lb,LoopPingPong:cb,LoopRepeat:ub,LuminanceAlphaFormat:WS,LuminanceFormat:GS,MOUSE:ac,Material:gr,MaterialLoader:zv,MathUtils:jN,Matrix2:M2,Matrix3:Kt,Matrix4:Vt,MaxEquation:zC,Mesh:Mi,MeshBasicMaterial:iu,MeshDepthMaterial:c2,MeshDistanceMaterial:f2,MeshLambertMaterial:Jb,MeshMatcapMaterial:e4,MeshNormalMaterial:Qb,MeshPhongMaterial:Kb,MeshPhysicalMaterial:Zb,MeshStandardMaterial:u2,MeshToonMaterial:$b,MinEquation:kC,MirroredRepeatWrapping:Xp,MixOperation:JC,MultiplyBlending:bx,MultiplyOperation:xm,NearestFilter:Ji,NearestMipMapLinearFilter:$D,NearestMipMapNearestFilter:KD,NearestMipmapLinearFilter:Md,NearestMipmapNearestFilter:FS,NeutralToneMapping:ob,NeverCompare:pb,NeverDepth:sy,NeverStencilFunc:hN,NoBlending:Za,NoColorSpace:Wa,NoToneMapping:Zo,NormalAnimationBlendMode:yv,NormalBlending:wc,NotEqualCompare:vb,NotEqualDepth:fy,NotEqualStencilFunc:vN,NumberKeyframeTrack:im,Object3D:Mn,ObjectLoader:TU,ObjectSpaceNormalMap:hb,OctahedronGeometry:Cm,OneFactor:VC,OneMinusConstantAlphaFactor:QC,OneMinusConstantColorFactor:KC,OneMinusDstAlphaFactor:jC,OneMinusDstColorFactor:YC,OneMinusSrcAlphaFactor:ry,OneMinusSrcColorFactor:GC,OrthographicCamera:Zl,PCFShadowMap:uv,PCFSoftShadowMap:Ep,PMREMGenerator:zx,Path:Jp,PerspectiveCamera:fi,Plane:Ga,PlaneGeometry:Kd,PlaneHelper:hO,PointLight:c4,PointLightHelper:rO,Points:Ob,PointsMaterial:t2,PolarGridHelper:lO,PolyhedronGeometry:ru,PositionalAudio:DU,PropertyBinding:xn,PropertyMixer:x4,QuadraticBezierCurve:o2,QuadraticBezierCurve3:a2,Quaternion:pr,QuaternionKeyframeTrack:Rm,QuaternionLinearInterpolant:o4,RED_GREEN_RGTC2_Format:Oy,RED_RGTC1_Format:XS,REVISION:_m,RGBADepthPacking:db,RGBAFormat:hr,RGBAIntegerFormat:gv,RGBA_ASTC_10x10_Format:Ry,RGBA_ASTC_10x5_Format:Cy,RGBA_ASTC_10x6_Format:by,RGBA_ASTC_10x8_Format:Py,RGBA_ASTC_12x10_Format:Iy,RGBA_ASTC_12x12_Format:Ly,RGBA_ASTC_4x4_Format:_y,RGBA_ASTC_5x4_Format:xy,RGBA_ASTC_5x5_Format:Sy,RGBA_ASTC_6x5_Format:My,RGBA_ASTC_6x6_Format:wy,RGBA_ASTC_8x5_Format:Ey,RGBA_ASTC_8x6_Format:Ty,RGBA_ASTC_8x8_Format:Ay,RGBA_BPTC_Format:Rp,RGBA_ETC2_EAC_Format:vy,RGBA_PVRTC_2BPPV1_Format:my,RGBA_PVRTC_4BPPV1_Format:py,RGBA_S3TC_DXT1_Format:Cp,RGBA_S3TC_DXT3_Format:bp,RGBA_S3TC_DXT5_Format:Pp,RGBDepthPacking:rN,RGBFormat:HS,RGBIntegerFormat:eN,RGB_BPTC_SIGNED_Format:Dy,RGB_BPTC_UNSIGNED_Format:Ny,RGB_ETC1_Format:gy,RGB_ETC2_Format:yy,RGB_PVRTC_2BPPV1_Format:hy,RGB_PVRTC_4BPPV1_Format:dy,RGB_S3TC_DXT1_Format:Ap,RGDepthPacking:sN,RGFormat:jS,RGIntegerFormat:mv,RawShaderMaterial:qb,Ray:Oc,Raycaster:M4,RectAreaLight:h4,RedFormat:pv,RedIntegerFormat:Sm,ReinhardToneMapping:nb,RenderTarget:vv,RenderTarget3D:YU,RenderTargetArray:qU,RepeatWrapping:jp,ReplaceStencilOp:aN,ReverseSubtractEquation:FC,RingGeometry:Dv,SIGNED_RED_GREEN_RGTC2_Format:Fy,SIGNED_RED_RGTC1_Format:Uy,SRGBColorSpace:qr,SRGBTransfer:Pn,Scene:QS,ShaderChunk:rn,ShaderLib:vo,ShaderMaterial:Vs,ShadowMaterial:Yb,Shape:Cc,ShapeGeometry:Nv,ShapePath:gO,ShapeUtils:$o,ShortType:zS,Skeleton:wv,SkeletonHelper:iO,SkinnedMesh:Lb,Source:vc,Sphere:mr,SphereGeometry:bm,Spherical:Hy,SphericalHarmonics3:p4,SplineCurve:l2,SpotLight:u4,SpotLightHelper:nO,Sprite:Rb,SpriteMaterial:JS,SrcAlphaFactor:iy,SrcAlphaSaturateFactor:qC,SrcColorFactor:HC,StaticCopyUsage:TN,StaticDrawUsage:Kp,StaticReadUsage:MN,StereoCamera:PU,StreamCopyUsage:CN,StreamDrawUsage:SN,StreamReadUsage:EN,StringKeyframeTrack:zc,SubtractEquation:OC,SubtractiveBlending:Cx,TOUCH:lc,TangentSpaceNormalMap:nu,TetrahedronGeometry:Uv,Texture:si,TextureLoader:SU,TextureUtils:MO,TorusGeometry:Ov,TorusKnotGeometry:Fv,Triangle:Zr,TriangleFanDrawMode:iN,TriangleStripDrawMode:nN,TrianglesDrawMode:tN,TubeGeometry:kv,UVMapping:cv,Uint16BufferAttribute:KS,Uint32BufferAttribute:$S,Uint8BufferAttribute:d8,Uint8ClampedBufferAttribute:h8,Uniform:S2,UniformsGroup:KU,UniformsLib:st,UniformsUtils:Ab,UnsignedByteType:wo,UnsignedInt248Type:Pc,UnsignedInt5999Type:BS,UnsignedIntType:el,UnsignedShort4444Type:dv,UnsignedShort5551Type:hv,UnsignedShortType:kd,VSMShadowMap:yo,Vector2:Le,Vector3:X,Vector4:Sn,VectorKeyframeTrack:rm,VideoTexture:D8,WebGL3DRenderTarget:e8,WebGLArrayRenderTarget:JN,WebGLCoordinateSystem:xo,WebGLCubeRenderTarget:bb,WebGLRenderTarget:Qo,WebGLRenderer:R4,WebGLUtils:P4,WebGPUCoordinateSystem:$p,WireframeGeometry:Xb,WrapAroundEnding:qp,ZeroCurvatureEnding:gc,ZeroFactor:BC,ZeroSlopeEnding:yc,ZeroStencilOp:oN,createCanvasElement:Mb},Symbol.toStringTag,{value:"Module"}));var L_={exports:{}},Hl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k3;function i9(){return k3||(k3=1,Hl.ConcurrentRoot=1,Hl.ContinuousEventPriority=4,Hl.DefaultEventPriority=16,Hl.DiscreteEventPriority=1,Hl.IdleEventPriority=536870912,Hl.LegacyRoot=0),Hl}var z3;function r9(){return z3||(z3=1,L_.exports=i9()),L_.exports}var yp=r9();function s9(n){let e;const t=new Set,i=(h,m)=>{const g=typeof h=="function"?h(e):h;if(g!==e){const y=e;e=m?g:Object.assign({},e,g),t.forEach(_=>_(e,y))}},r=()=>e,s=(h,m=r,g=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let y=m(e);function _(){const M=m(e);if(!g(y,M)){const T=y;h(y=M,T)}}return t.add(_),()=>t.delete(_)},d={setState:i,getState:r,subscribe:(h,m,g)=>m||g?s(h,m,g):(t.add(h),()=>t.delete(h)),destroy:()=>t.clear()};return e=n(i,r,d),d}const o9=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),B3=o9?Se.useEffect:Se.useLayoutEffect;function a9(n){const e=typeof n=="function"?s9(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=Se.useReducer(E=>E+1,0),a=e.getState(),u=Se.useRef(a),d=Se.useRef(i),h=Se.useRef(r),m=Se.useRef(!1),g=Se.useRef();g.current===void 0&&(g.current=i(a));let y,_=!1;(u.current!==a||d.current!==i||h.current!==r||m.current)&&(y=i(a),_=!r(g.current,y)),B3(()=>{_&&(g.current=y),u.current=a,d.current=i,h.current=r,m.current=!1});const M=Se.useRef(a);B3(()=>{const E=()=>{try{const b=e.getState(),C=d.current(b);h.current(g.current,C)||(u.current=b,g.current=C,s())}catch{m.current=!0,s()}},S=e.subscribe(E);return e.getState()!==M.current&&E(),S},[]);const T=_?y:g.current;return Se.useDebugValue(T),T};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var D_={exports:{}},N_={exports:{}},U_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V3;function l9(){return V3||(V3=1,function(n){function e(G,te){var $=G.length;G.push(te);e:for(;0<$;){var W=$-1>>>1,se=G[W];if(0<r(se,te))G[W]=te,G[$]=se,$=W;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var te=G[0],$=G.pop();if($!==te){G[0]=$;e:for(var W=0,se=G.length,Oe=se>>>1;W<Oe;){var ue=2*(W+1)-1,Ee=G[ue],De=ue+1,Re=G[De];if(0>r(Ee,$))De<se&&0>r(Re,Ee)?(G[W]=Re,G[De]=$,W=De):(G[W]=Ee,G[ue]=$,W=ue);else if(De<se&&0>r(Re,$))G[W]=Re,G[De]=$,W=De;else break e}}return te}function r(G,te){var $=G.sortIndex-te.sortIndex;return $!==0?$:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var d=[],h=[],m=1,g=null,y=3,_=!1,M=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(G){for(var te=t(h);te!==null;){if(te.callback===null)i(h);else if(te.startTime<=G)i(h),te.sortIndex=te.expirationTime,e(d,te);else break;te=t(h)}}function I(G){if(T=!1,C(G),!M)if(t(d)!==null)M=!0,he(U);else{var te=t(h);te!==null&&me(I,te.startTime-G)}}function U(G,te){M=!1,T&&(T=!1,S(B),B=-1),_=!0;var $=y;try{for(C(te),g=t(d);g!==null&&(!(g.expirationTime>te)||G&&!H());){var W=g.callback;if(typeof W=="function"){g.callback=null,y=g.priorityLevel;var se=W(g.expirationTime<=te);te=n.unstable_now(),typeof se=="function"?g.callback=se:g===t(d)&&i(d),C(te)}else i(d);g=t(d)}if(g!==null)var Oe=!0;else{var ue=t(h);ue!==null&&me(I,ue.startTime-te),Oe=!1}return Oe}finally{g=null,y=$,_=!1}}var N=!1,F=null,B=-1,O=5,D=-1;function H(){return!(n.unstable_now()-D<O)}function ne(){if(F!==null){var G=n.unstable_now();D=G;var te=!0;try{te=F(!0,G)}finally{te?ee():(N=!1,F=null)}}else N=!1}var ee;if(typeof b=="function")ee=function(){b(ne)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Me=pe.port2;pe.port1.onmessage=ne,ee=function(){Me.postMessage(null)}}else ee=function(){E(ne,0)};function he(G){F=G,N||(N=!0,ee())}function me(G,te){B=E(function(){G(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){M||_||(M=!0,he(U))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(G){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var $=y;y=te;try{return G()}finally{y=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var $=y;y=G;try{return te()}finally{y=$}},n.unstable_scheduleCallback=function(G,te,$){var W=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?W+$:W):$=W,G){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=$+se,G={id:m++,callback:te,priorityLevel:G,startTime:$,expirationTime:se,sortIndex:-1},$>W?(G.sortIndex=$,e(h,G),t(d)===null&&G===t(h)&&(T?(S(B),B=-1):T=!0,me(I,$-W))):(G.sortIndex=se,e(d,G),M||_||(M=!0,he(U))),G},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(G){var te=y;return function(){var $=y;y=te;try{return G.apply(this,arguments)}finally{y=$}}}}(U_)),U_}var H3;function L4(){return H3||(H3=1,N_.exports=l9()),N_.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_,G3;function u9(){return G3||(G3=1,O_=function(e){var t={},i=$y(),r=L4(),s=Object.assign;function a(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),M=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),U=Symbol.iterator;function N(c){return c===null||typeof c!="object"?null:(c=U&&c[U]||c["@@iterator"],typeof c=="function"?c:null)}function F(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case m:return"Fragment";case h:return"Portal";case y:return"Profiler";case g:return"StrictMode";case E:return"Suspense";case S:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case M:return(c.displayName||"Context")+".Consumer";case _:return(c._context.displayName||"Context")+".Provider";case T:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case b:return f=c.displayName||null,f!==null?f:F(c.type)||"Memo";case C:f=c._payload,c=c._init;try{return F(c(f))}catch{}}return null}function B(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(f);case 8:return f===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function O(c){var f=c,v=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,f.flags&4098&&(v=f.return),c=f.return;while(c)}return f.tag===3?v:null}function D(c){if(O(c)!==c)throw Error(a(188))}function H(c){var f=c.alternate;if(!f){if(f=O(c),f===null)throw Error(a(188));return f!==c?null:c}for(var v=c,w=f;;){var P=v.return;if(P===null)break;var L=P.alternate;if(L===null){if(w=P.return,w!==null){v=w;continue}break}if(P.child===L.child){for(L=P.child;L;){if(L===v)return D(P),c;if(L===w)return D(P),f;L=L.sibling}throw Error(a(188))}if(v.return!==w.return)v=P,w=L;else{for(var q=!1,re=P.child;re;){if(re===v){q=!0,v=P,w=L;break}if(re===w){q=!0,w=P,v=L;break}re=re.sibling}if(!q){for(re=L.child;re;){if(re===v){q=!0,v=L,w=P;break}if(re===w){q=!0,w=L,v=P;break}re=re.sibling}if(!q)throw Error(a(189))}}if(v.alternate!==w)throw Error(a(190))}if(v.tag!==3)throw Error(a(188));return v.stateNode.current===v?c:f}function ne(c){return c=H(c),c!==null?ee(c):null}function ee(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=ee(c);if(f!==null)return f;c=c.sibling}return null}function pe(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var f=pe(c);if(f!==null)return f}c=c.sibling}return null}var Me=Array.isArray,he=e.getPublicInstance,me=e.getRootHostContext,G=e.getChildHostContext,te=e.prepareForCommit,$=e.resetAfterCommit,W=e.createInstance,se=e.appendInitialChild,Oe=e.finalizeInitialChildren,ue=e.prepareUpdate,Ee=e.shouldSetTextContent,De=e.createTextInstance,Re=e.scheduleTimeout,We=e.cancelTimeout,Ke=e.noTimeout,ct=e.isPrimaryRenderer,Pt=e.supportsMutation,be=e.supportsPersistence,Ne=e.supportsHydration,Y=e.getInstanceFromNode,xt=e.preparePortalMount,Be=e.getCurrentEventPriority,at=e.detachDeletedInstance,Xe=e.supportsMicrotasks,Rt=e.scheduleMicrotask,$e=e.supportsTestSelectors,j=e.findFiberRoot,z=e.getBoundingRect,de=e.getTextContent,Ae=e.isHiddenSubtree,Ue=e.matchAccessibilityRole,Ie=e.setFocusIfFocusable,yt=e.setupIntersectionObserver,Qe=e.appendChild,lt=e.appendChildToContainer,Gt=e.commitTextUpdate,ze=e.commitMount,mt=e.commitUpdate,Lt=e.insertBefore,Ut=e.insertInContainerBefore,dt=e.removeChild,Q=e.removeChildFromContainer,Ce=e.resetTextContent,tt=e.hideInstance,K=e.hideTextInstance,He=e.unhideInstance,xe=e.unhideTextInstance,Pe=e.clearContainer,ot=e.cloneInstance,nt=e.createContainerChildSet,It=e.appendChildToContainerChildSet,hn=e.finalizeContainerChildren,Rn=e.replaceContainerChildren,$t=e.cloneHiddenInstance,Yn=e.cloneHiddenTextInstance,Jn=e.canHydrateInstance,il=e.canHydrateTextInstance,Co=e.canHydrateSuspenseInstance,_s=e.isSuspenseInstancePending,Jr=e.isSuspenseInstanceFallback,ta=e.registerSuspenseInstanceRetry,es=e.getNextHydratableSibling,bo=e.getFirstHydratableChild,Bc=e.getFirstHydratableChildWithinContainer,rl=e.getFirstHydratableChildWithinSuspenseInstance,Vc=e.hydrateInstance,xs=e.hydrateTextInstance,Hc=e.hydrateSuspenseInstance,Gc=e.getNextHydratableInstanceAfterSuspenseInstance,Wc=e.commitHydratedContainer,jc=e.commitHydratedSuspenseInstance,Xc=e.clearSuspenseBoundary,Yc=e.clearSuspenseBoundaryFromContainer,V=e.shouldDeleteUnhydratedTailInstances,oe=e.didNotMatchHydratedContainerTextInstance,ve=e.didNotMatchHydratedTextInstance,ce;function le(c){if(ce===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);ce=f&&f[1]||""}return`
`+ce+c}var Ve=!1;function it(c,f){if(!c||Ve)return"";Ve=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ye){var w=Ye}Reflect.construct(c,[],f)}else{try{f.call()}catch(Ye){w=Ye}c.call(f.prototype)}else{try{throw Error()}catch(Ye){w=Ye}c()}}catch(Ye){if(Ye&&w&&typeof Ye.stack=="string"){for(var P=Ye.stack.split(`
`),L=w.stack.split(`
`),q=P.length-1,re=L.length-1;1<=q&&0<=re&&P[q]!==L[re];)re--;for(;1<=q&&0<=re;q--,re--)if(P[q]!==L[re]){if(q!==1||re!==1)do if(q--,re--,0>re||P[q]!==L[re]){var Te=`
`+P[q].replace(" at new "," at ");return c.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",c.displayName)),Te}while(1<=q&&0<=re);break}}}finally{Ve=!1,Error.prepareStackTrace=v}return(c=c?c.displayName||c.name:"")?le(c):""}var ft=Object.prototype.hasOwnProperty,gt=[],Dt=-1;function bt(c){return{current:c}}function qe(c){0>Dt||(c.current=gt[Dt],gt[Dt]=null,Dt--)}function wt(c,f){Dt++,gt[Dt]=c.current,c.current=f}var zt={},ln=bt(zt),un=bt(!1),Qt=zt;function Mt(c,f){var v=c.type.contextTypes;if(!v)return zt;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===f)return w.__reactInternalMemoizedMaskedChildContext;var P={},L;for(L in v)P[L]=f[L];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=P),P}function pn(c){return c=c.childContextTypes,c!=null}function tn(){qe(un),qe(ln)}function wi(c,f,v){if(ln.current!==zt)throw Error(a(168));wt(ln,f),wt(un,v)}function Hs(c,f,v){var w=c.stateNode;if(f=f.childContextTypes,typeof w.getChildContext!="function")return v;w=w.getChildContext();for(var P in w)if(!(P in f))throw Error(a(108,B(c)||"Unknown",P));return s({},v,w)}function di(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||zt,Qt=ln.current,wt(ln,c),wt(un,un.current),!0}function Ss(c,f,v){var w=c.stateNode;if(!w)throw Error(a(169));v?(c=Hs(c,f,Qt),w.__reactInternalMemoizedMergedChildContext=c,qe(un),qe(ln),wt(ln,c)):qe(un),wt(un,v)}var cn=Math.clz32?Math.clz32:Ei,Ui=Math.log,hi=Math.LN2;function Ei(c){return c>>>=0,c===0?32:31-(Ui(c)/hi|0)|0}var qn=64,fn=4194304;function er(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function ou(c,f){var v=c.pendingLanes;if(v===0)return 0;var w=0,P=c.suspendedLanes,L=c.pingedLanes,q=v&268435455;if(q!==0){var re=q&~P;re!==0?w=er(re):(L&=q,L!==0&&(w=er(L)))}else q=v&~P,q!==0?w=er(q):L!==0&&(w=er(L));if(w===0)return 0;if(f!==0&&f!==w&&!(f&P)&&(P=w&-w,L=f&-f,P>=L||P===16&&(L&4194240)!==0))return f;if(w&4&&(w|=v&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=w;0<f;)v=31-cn(f),P=1<<v,w|=c[v],f&=~P;return w}function Qd(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Om(c,f){for(var v=c.suspendedLanes,w=c.pingedLanes,P=c.expirationTimes,L=c.pendingLanes;0<L;){var q=31-cn(L),re=1<<q,Te=P[q];Te===-1?(!(re&v)||re&w)&&(P[q]=Qd(re,f)):Te<=f&&(c.expiredLanes|=re),L&=~re}}function qc(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Zc(c){for(var f=[],v=0;31>v;v++)f.push(c);return f}function na(c,f,v){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-cn(f),c[f]=v}function Kc(c,f){var v=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<v;){var P=31-cn(v),L=1<<P;f[P]=0,w[P]=-1,c[P]=-1,v&=~L}}function Ms(c,f){var v=c.entangledLanes|=f;for(c=c.entanglements;v;){var w=31-cn(v),P=1<<w;P&f|c[w]&f&&(c[w]|=f),v&=~P}}var nn=0;function Gs(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var ia=r.unstable_scheduleCallback,sl=r.unstable_cancelCallback,Po=r.unstable_shouldYield,qv=r.unstable_requestPaint,oi=r.unstable_now,ra=r.unstable_ImmediatePriority,Zv=r.unstable_UserBlockingPriority,$c=r.unstable_NormalPriority,Qc=r.unstable_IdlePriority,au=null,ws=null;function lu(c){if(ws&&typeof ws.onCommitFiberRoot=="function")try{ws.onCommitFiberRoot(au,c,void 0,(c.current.flags&128)===128)}catch{}}function uu(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Gi=typeof Object.is=="function"?Object.is:uu,Nr=null,Jc=!1,Jd=!1;function ef(c){Nr===null?Nr=[c]:Nr.push(c)}function tf(c){Jc=!0,ef(c)}function Ur(){if(!Jd&&Nr!==null){Jd=!0;var c=0,f=nn;try{var v=Nr;for(nn=1;c<v.length;c++){var w=v[c];do w=w(!0);while(w!==null)}Nr=null,Jc=!1}catch(P){throw Nr!==null&&(Nr=Nr.slice(c+1)),ia(ra,Ur),P}finally{nn=f,Jd=!1}}return null}var Fm=u.ReactCurrentBatchConfig;function ts(c,f){if(Gi(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var v=Object.keys(c),w=Object.keys(f);if(v.length!==w.length)return!1;for(w=0;w<v.length;w++){var P=v[w];if(!ft.call(f,P)||!Gi(c[P],f[P]))return!1}return!0}function eh(c){switch(c.tag){case 5:return le(c.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return c=it(c.type,!1),c;case 11:return c=it(c.type.render,!1),c;case 1:return c=it(c.type,!0),c;default:return""}}function tr(c,f){if(c&&c.defaultProps){f=s({},f),c=c.defaultProps;for(var v in c)f[v]===void 0&&(f[v]=c[v]);return f}return f}var cu=bt(null),sa=null,Ws=null,nf=null;function Wi(){nf=Ws=sa=null}function oa(c,f,v){ct?(wt(cu,f._currentValue),f._currentValue=v):(wt(cu,f._currentValue2),f._currentValue2=v)}function fu(c){var f=cu.current;qe(cu),ct?c._currentValue=f:c._currentValue2=f}function aa(c,f,v){for(;c!==null;){var w=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),c===v)break;c=c.return}}function ol(c,f){sa=c,nf=Ws=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&f&&(yi=!0),c.firstContext=null)}function nr(c){var f=ct?c._currentValue:c._currentValue2;if(nf!==c)if(c={context:c,memoizedValue:f,next:null},Ws===null){if(sa===null)throw Error(a(308));Ws=c,sa.dependencies={lanes:0,firstContext:c}}else Ws=Ws.next=c;return f}var Or=null,Fr=!1;function al(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function th(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function js(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function Ro(c,f){var v=c.updateQueue;v!==null&&(v=v.shared,Kn!==null&&c.mode&1&&!(Zt&2)?(c=v.interleaved,c===null?(f.next=f,Or===null?Or=[v]:Or.push(v)):(f.next=c.next,c.next=f),v.interleaved=f):(c=v.pending,c===null?f.next=f:(f.next=c.next,c.next=f),v.pending=f))}function rf(c,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var w=f.lanes;w&=c.pendingLanes,v|=w,f.lanes=v,Ms(c,v)}}function sf(c,f){var v=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,v===w)){var P=null,L=null;if(v=v.firstBaseUpdate,v!==null){do{var q={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};L===null?P=L=q:L=L.next=q,v=v.next}while(v!==null);L===null?P=L=f:L=L.next=f}else P=L=f;v={baseState:w.baseState,firstBaseUpdate:P,lastBaseUpdate:L,shared:w.shared,effects:w.effects},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=f:c.next=f,v.lastBaseUpdate=f}function of(c,f,v,w){var P=c.updateQueue;Fr=!1;var L=P.firstBaseUpdate,q=P.lastBaseUpdate,re=P.shared.pending;if(re!==null){P.shared.pending=null;var Te=re,Ye=Te.next;Te.next=null,q===null?L=Ye:q.next=Ye,q=Te;var vt=c.alternate;vt!==null&&(vt=vt.updateQueue,re=vt.lastBaseUpdate,re!==q&&(re===null?vt.firstBaseUpdate=Ye:re.next=Ye,vt.lastBaseUpdate=Te))}if(L!==null){var Wt=P.baseState;q=0,vt=Ye=Te=null,re=L;do{var Nt=re.lane,Jt=re.eventTime;if((w&Nt)===Nt){vt!==null&&(vt=vt.next={eventTime:Jt,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var ut=c,Ri=re;switch(Nt=f,Jt=v,Ri.tag){case 1:if(ut=Ri.payload,typeof ut=="function"){Wt=ut.call(Jt,Wt,Nt);break e}Wt=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=Ri.payload,Nt=typeof ut=="function"?ut.call(Jt,Wt,Nt):ut,Nt==null)break e;Wt=s({},Wt,Nt);break e;case 2:Fr=!0}}re.callback!==null&&re.lane!==0&&(c.flags|=64,Nt=P.effects,Nt===null?P.effects=[re]:Nt.push(re))}else Jt={eventTime:Jt,lane:Nt,tag:re.tag,payload:re.payload,callback:re.callback,next:null},vt===null?(Ye=vt=Jt,Te=Wt):vt=vt.next=Jt,q|=Nt;if(re=re.next,re===null){if(re=P.shared.pending,re===null)break;Nt=re,re=Nt.next,Nt.next=null,P.lastBaseUpdate=Nt,P.shared.pending=null}}while(!0);if(vt===null&&(Te=Wt),P.baseState=Te,P.firstBaseUpdate=Ye,P.lastBaseUpdate=vt,f=P.shared.interleaved,f!==null){P=f;do q|=P.lane,P=P.next;while(P!==f)}else L===null&&(P.shared.lanes=0);Cs|=q,c.lanes=q,c.memoizedState=Wt}}function km(c,f,v){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var w=c[f],P=w.callback;if(P!==null){if(w.callback=null,w=v,typeof P!="function")throw Error(a(191,P));P.call(w)}}}var zm=new i.Component().refs;function nh(c,f,v,w){f=c.memoizedState,v=v(w,f),v=v==null?f:s({},f,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var af={isMounted:function(c){return(c=c._reactInternals)?O(c)===c:!1},enqueueSetState:function(c,f,v){c=c._reactInternals;var w=yn(),P=ls(c),L=js(w,P);L.payload=f,v!=null&&(L.callback=v),Ro(c,L),f=ki(c,P,w),f!==null&&rf(f,c,P)},enqueueReplaceState:function(c,f,v){c=c._reactInternals;var w=yn(),P=ls(c),L=js(w,P);L.tag=1,L.payload=f,v!=null&&(L.callback=v),Ro(c,L),f=ki(c,P,w),f!==null&&rf(f,c,P)},enqueueForceUpdate:function(c,f){c=c._reactInternals;var v=yn(),w=ls(c),P=js(v,w);P.tag=2,f!=null&&(P.callback=f),Ro(c,P),f=ki(c,w,v),f!==null&&rf(f,c,w)}};function ih(c,f,v,w,P,L,q){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,L,q):f.prototype&&f.prototype.isPureReactComponent?!ts(v,w)||!ts(P,L):!0}function Bm(c,f,v){var w=!1,P=zt,L=f.contextType;return typeof L=="object"&&L!==null?L=nr(L):(P=pn(f)?Qt:ln.current,w=f.contextTypes,L=(w=w!=null)?Mt(c,P):zt),f=new f(v,L),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=af,c.stateNode=f,f._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=P,c.__reactInternalMemoizedMaskedChildContext=L),f}function Vm(c,f,v,w){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,w),f.state!==c&&af.enqueueReplaceState(f,f.state,null)}function rh(c,f,v,w){var P=c.stateNode;P.props=v,P.state=c.memoizedState,P.refs=zm,al(c);var L=f.contextType;typeof L=="object"&&L!==null?P.context=nr(L):(L=pn(f)?Qt:ln.current,P.context=Mt(c,L)),P.state=c.memoizedState,L=f.getDerivedStateFromProps,typeof L=="function"&&(nh(c,f,L,v),P.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(f=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),f!==P.state&&af.enqueueReplaceState(P,P.state,null),of(c,v,P,w),P.state=c.memoizedState),typeof P.componentDidMount=="function"&&(c.flags|=4194308)}var ll=[],Io=0,lf=null,uf=0,kr=[],yr=0,la=null,Xs=1,Ys="";function ua(c,f){ll[Io++]=uf,ll[Io++]=lf,lf=c,uf=f}function Hm(c,f,v){kr[yr++]=Xs,kr[yr++]=Ys,kr[yr++]=la,la=c;var w=Xs;c=Ys;var P=32-cn(w)-1;w&=~(1<<P),v+=1;var L=32-cn(f)+P;if(30<L){var q=P-P%5;L=(w&(1<<q)-1).toString(32),w>>=q,P-=q,Xs=1<<32-cn(f)+P|v<<P|w,Ys=L+c}else Xs=1<<L|v<<P|w,Ys=c}function sh(c){c.return!==null&&(ua(c,1),Hm(c,1,0))}function oh(c){for(;c===lf;)lf=ll[--Io],ll[Io]=null,uf=ll[--Io],ll[Io]=null;for(;c===la;)la=kr[--yr],kr[yr]=null,Ys=kr[--yr],kr[yr]=null,Xs=kr[--yr],kr[yr]=null}var ji=null,Ti=null,Fn=!1,ul=!1,zr=null;function ah(c,f){var v=Er(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=c,f=c.deletions,f===null?(c.deletions=[v],c.flags|=16):f.push(v)}function lh(c,f){switch(c.tag){case 5:return f=Jn(f,c.type,c.pendingProps),f!==null?(c.stateNode=f,ji=c,Ti=bo(f),!0):!1;case 6:return f=il(f,c.pendingProps),f!==null?(c.stateNode=f,ji=c,Ti=null,!0):!1;case 13:if(f=Co(f),f!==null){var v=la!==null?{id:Xs,overflow:Ys}:null;return c.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=Er(18,null,null,0),v.stateNode=f,v.return=c,c.child=v,ji=c,Ti=null,!0}return!1;default:return!1}}function cf(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Lo(c){if(Fn){var f=Ti;if(f){var v=f;if(!lh(c,f)){if(cf(c))throw Error(a(418));f=es(v);var w=ji;f&&lh(c,f)?ah(w,v):(c.flags=c.flags&-4097|2,Fn=!1,ji=c)}}else{if(cf(c))throw Error(a(418));c.flags=c.flags&-4097|2,Fn=!1,ji=c}}}function Gm(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;ji=c}function du(c){if(!Ne||c!==ji)return!1;if(!Fn)return Gm(c),Fn=!0,!1;if(c.tag!==3&&(c.tag!==5||V(c.type)&&!Ee(c.type,c.memoizedProps))){var f=Ti;if(f){if(cf(c)){for(c=Ti;c;)c=es(c);throw Error(a(418))}for(;f;)ah(c,f),f=es(f)}}if(Gm(c),c.tag===13){if(!Ne)throw Error(a(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));Ti=Gc(c)}else Ti=ji?es(c.stateNode):null;return!0}function cl(){Ne&&(Ti=ji=null,ul=Fn=!1)}function ff(c){zr===null?zr=[c]:zr.push(c)}function fl(c,f,v){if(c=v.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(a(309));var w=v.stateNode}if(!w)throw Error(a(147,c));var P=w,L=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===L?f.ref:(f=function(q){var re=P.refs;re===zm&&(re=P.refs={}),q===null?delete re[L]:re[L]=q},f._stringRef=L,f)}if(typeof c!="string")throw Error(a(284));if(!v._owner)throw Error(a(290,c))}return c}function Do(c,f){throw c=Object.prototype.toString.call(f),Error(a(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function dl(c){var f=c._init;return f(c._payload)}function Wm(c){function f(ye,ae){if(c){var we=ye.deletions;we===null?(ye.deletions=[ae],ye.flags|=16):we.push(ae)}}function v(ye,ae){if(!c)return null;for(;ae!==null;)f(ye,ae),ae=ae.sibling;return null}function w(ye,ae){for(ye=new Map;ae!==null;)ae.key!==null?ye.set(ae.key,ae):ye.set(ae.index,ae),ae=ae.sibling;return ye}function P(ye,ae){return ye=ao(ye,ae),ye.index=0,ye.sibling=null,ye}function L(ye,ae,we){return ye.index=we,c?(we=ye.alternate,we!==null?(we=we.index,we<ae?(ye.flags|=2,ae):we):(ye.flags|=2,ae)):(ye.flags|=1048576,ae)}function q(ye){return c&&ye.alternate===null&&(ye.flags|=2),ye}function re(ye,ae,we,rt){return ae===null||ae.tag!==6?(ae=kf(we,ye.mode,rt),ae.return=ye,ae):(ae=P(ae,we),ae.return=ye,ae)}function Te(ye,ae,we,rt){var Tt=we.type;return Tt===m?vt(ye,ae,we.props.children,rt,we.key):ae!==null&&(ae.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===C&&dl(Tt)===ae.type)?(rt=P(ae,we.props),rt.ref=fl(ye,ae,we),rt.return=ye,rt):(rt=Ff(we.type,we.key,we.props,null,ye.mode,rt),rt.ref=fl(ye,ae,we),rt.return=ye,rt)}function Ye(ye,ae,we,rt){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==we.containerInfo||ae.stateNode.implementation!==we.implementation?(ae=zf(we,ye.mode,rt),ae.return=ye,ae):(ae=P(ae,we.children||[]),ae.return=ye,ae)}function vt(ye,ae,we,rt,Tt){return ae===null||ae.tag!==7?(ae=Ia(we,ye.mode,rt,Tt),ae.return=ye,ae):(ae=P(ae,we),ae.return=ye,ae)}function Wt(ye,ae,we){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=kf(""+ae,ye.mode,we),ae.return=ye,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case d:return we=Ff(ae.type,ae.key,ae.props,null,ye.mode,we),we.ref=fl(ye,null,ae),we.return=ye,we;case h:return ae=zf(ae,ye.mode,we),ae.return=ye,ae;case C:var rt=ae._init;return Wt(ye,rt(ae._payload),we)}if(Me(ae)||N(ae))return ae=Ia(ae,ye.mode,we,null),ae.return=ye,ae;Do(ye,ae)}return null}function Nt(ye,ae,we,rt){var Tt=ae!==null?ae.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return Tt!==null?null:re(ye,ae,""+we,rt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case d:return we.key===Tt?Te(ye,ae,we,rt):null;case h:return we.key===Tt?Ye(ye,ae,we,rt):null;case C:return Tt=we._init,Nt(ye,ae,Tt(we._payload),rt)}if(Me(we)||N(we))return Tt!==null?null:vt(ye,ae,we,rt,null);Do(ye,we)}return null}function Jt(ye,ae,we,rt,Tt){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return ye=ye.get(we)||null,re(ae,ye,""+rt,Tt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case d:return ye=ye.get(rt.key===null?we:rt.key)||null,Te(ae,ye,rt,Tt);case h:return ye=ye.get(rt.key===null?we:rt.key)||null,Ye(ae,ye,rt,Tt);case C:var Xt=rt._init;return Jt(ye,ae,we,Xt(rt._payload),Tt)}if(Me(rt)||N(rt))return ye=ye.get(we)||null,vt(ae,ye,rt,Tt,null);Do(ae,rt)}return null}function ut(ye,ae,we,rt){for(var Tt=null,Xt=null,jt=ae,gn=ae=0,ti=null;jt!==null&&gn<we.length;gn++){jt.index>gn?(ti=jt,jt=null):ti=jt.sibling;var mn=Nt(ye,jt,we[gn],rt);if(mn===null){jt===null&&(jt=ti);break}c&&jt&&mn.alternate===null&&f(ye,jt),ae=L(mn,ae,gn),Xt===null?Tt=mn:Xt.sibling=mn,Xt=mn,jt=ti}if(gn===we.length)return v(ye,jt),Fn&&ua(ye,gn),Tt;if(jt===null){for(;gn<we.length;gn++)jt=Wt(ye,we[gn],rt),jt!==null&&(ae=L(jt,ae,gn),Xt===null?Tt=jt:Xt.sibling=jt,Xt=jt);return Fn&&ua(ye,gn),Tt}for(jt=w(ye,jt);gn<we.length;gn++)ti=Jt(jt,ye,gn,we[gn],rt),ti!==null&&(c&&ti.alternate!==null&&jt.delete(ti.key===null?gn:ti.key),ae=L(ti,ae,gn),Xt===null?Tt=ti:Xt.sibling=ti,Xt=ti);return c&&jt.forEach(function(lo){return f(ye,lo)}),Fn&&ua(ye,gn),Tt}function Ri(ye,ae,we,rt){var Tt=N(we);if(typeof Tt!="function")throw Error(a(150));if(we=Tt.call(we),we==null)throw Error(a(151));for(var Xt=Tt=null,jt=ae,gn=ae=0,ti=null,mn=we.next();jt!==null&&!mn.done;gn++,mn=we.next()){jt.index>gn?(ti=jt,jt=null):ti=jt.sibling;var lo=Nt(ye,jt,mn.value,rt);if(lo===null){jt===null&&(jt=ti);break}c&&jt&&lo.alternate===null&&f(ye,jt),ae=L(lo,ae,gn),Xt===null?Tt=lo:Xt.sibling=lo,Xt=lo,jt=ti}if(mn.done)return v(ye,jt),Fn&&ua(ye,gn),Tt;if(jt===null){for(;!mn.done;gn++,mn=we.next())mn=Wt(ye,mn.value,rt),mn!==null&&(ae=L(mn,ae,gn),Xt===null?Tt=mn:Xt.sibling=mn,Xt=mn);return Fn&&ua(ye,gn),Tt}for(jt=w(ye,jt);!mn.done;gn++,mn=we.next())mn=Jt(jt,ye,gn,mn.value,rt),mn!==null&&(c&&mn.alternate!==null&&jt.delete(mn.key===null?gn:mn.key),ae=L(mn,ae,gn),Xt===null?Tt=mn:Xt.sibling=mn,Xt=mn);return c&&jt.forEach(function(zh){return f(ye,zh)}),Fn&&ua(ye,gn),Tt}function Tr(ye,ae,we,rt){if(typeof we=="object"&&we!==null&&we.type===m&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case d:e:{for(var Tt=we.key,Xt=ae;Xt!==null;){if(Xt.key===Tt){if(Tt=we.type,Tt===m){if(Xt.tag===7){v(ye,Xt.sibling),ae=P(Xt,we.props.children),ae.return=ye,ye=ae;break e}}else if(Xt.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===C&&dl(Tt)===Xt.type){v(ye,Xt.sibling),ae=P(Xt,we.props),ae.ref=fl(ye,Xt,we),ae.return=ye,ye=ae;break e}v(ye,Xt);break}else f(ye,Xt);Xt=Xt.sibling}we.type===m?(ae=Ia(we.props.children,ye.mode,rt,we.key),ae.return=ye,ye=ae):(rt=Ff(we.type,we.key,we.props,null,ye.mode,rt),rt.ref=fl(ye,ae,we),rt.return=ye,ye=rt)}return q(ye);case h:e:{for(Xt=we.key;ae!==null;){if(ae.key===Xt)if(ae.tag===4&&ae.stateNode.containerInfo===we.containerInfo&&ae.stateNode.implementation===we.implementation){v(ye,ae.sibling),ae=P(ae,we.children||[]),ae.return=ye,ye=ae;break e}else{v(ye,ae);break}else f(ye,ae);ae=ae.sibling}ae=zf(we,ye.mode,rt),ae.return=ye,ye=ae}return q(ye);case C:return Xt=we._init,Tr(ye,ae,Xt(we._payload),rt)}if(Me(we))return ut(ye,ae,we,rt);if(N(we))return Ri(ye,ae,we,rt);Do(ye,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,ae!==null&&ae.tag===6?(v(ye,ae.sibling),ae=P(ae,we),ae.return=ye,ye=ae):(v(ye,ae),ae=kf(we,ye.mode,rt),ae.return=ye,ye=ae),q(ye)):v(ye,ae)}return Tr}var qs=Wm(!0),jm=Wm(!1),hl={},ir=bt(hl),ca=bt(hl),fa=bt(hl);function ns(c){if(c===hl)throw Error(a(174));return c}function df(c,f){wt(fa,f),wt(ca,c),wt(ir,hl),c=me(f),qe(ir),wt(ir,c)}function pl(){qe(ir),qe(ca),qe(fa)}function Xm(c){var f=ns(fa.current),v=ns(ir.current);f=G(v,c.type,f),v!==f&&(wt(ca,c),wt(ir,f))}function uh(c){ca.current===c&&(qe(ir),qe(ca))}var zn=bt(0);function hf(c){for(var f=c;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||_s(v)||Jr(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var vr=[];function da(){for(var c=0;c<vr.length;c++){var f=vr[c];ct?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}vr.length=0}var hu=u.ReactCurrentDispatcher,_r=u.ReactCurrentBatchConfig,ha=0,Bn=null,pi=null,mi=null,pf=!1,Es=!1,pa=0,pu=0;function gi(){throw Error(a(321))}function mf(c,f){if(f===null)return!1;for(var v=0;v<f.length&&v<c.length;v++)if(!Gi(c[v],f[v]))return!1;return!0}function ml(c,f,v,w,P,L){if(ha=L,Bn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,hu.current=c===null||c.memoizedState===null?mh:gh,c=v(w,P),Es){L=0;do{if(Es=!1,pa=0,25<=L)throw Error(a(301));L+=1,mi=pi=null,f.updateQueue=null,hu.current=yh,c=v(w,P)}while(Es)}if(hu.current=_l,f=pi!==null&&pi.next!==null,ha=0,mi=pi=Bn=null,pf=!1,f)throw Error(a(300));return c}function No(){var c=pa!==0;return pa=0,c}function is(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?Bn.memoizedState=mi=c:mi=mi.next=c,mi}function rs(){if(pi===null){var c=Bn.alternate;c=c!==null?c.memoizedState:null}else c=pi.next;var f=mi===null?Bn.memoizedState:mi.next;if(f!==null)mi=f,pi=c;else{if(c===null)throw Error(a(310));pi=c,c={memoizedState:pi.memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},mi===null?Bn.memoizedState=mi=c:mi=mi.next=c}return mi}function Ts(c,f){return typeof f=="function"?f(c):f}function mu(c){var f=rs(),v=f.queue;if(v===null)throw Error(a(311));v.lastRenderedReducer=c;var w=pi,P=w.baseQueue,L=v.pending;if(L!==null){if(P!==null){var q=P.next;P.next=L.next,L.next=q}w.baseQueue=P=L,v.pending=null}if(P!==null){L=P.next,w=w.baseState;var re=q=null,Te=null,Ye=L;do{var vt=Ye.lane;if((ha&vt)===vt)Te!==null&&(Te=Te.next={lane:0,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),w=Ye.hasEagerState?Ye.eagerState:c(w,Ye.action);else{var Wt={lane:vt,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null};Te===null?(re=Te=Wt,q=w):Te=Te.next=Wt,Bn.lanes|=vt,Cs|=vt}Ye=Ye.next}while(Ye!==null&&Ye!==L);Te===null?q=w:Te.next=re,Gi(w,f.memoizedState)||(yi=!0),f.memoizedState=w,f.baseState=q,f.baseQueue=Te,v.lastRenderedState=w}if(c=v.interleaved,c!==null){P=c;do L=P.lane,Bn.lanes|=L,Cs|=L,P=P.next;while(P!==c)}else P===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function gu(c){var f=rs(),v=f.queue;if(v===null)throw Error(a(311));v.lastRenderedReducer=c;var w=v.dispatch,P=v.pending,L=f.memoizedState;if(P!==null){v.pending=null;var q=P=P.next;do L=c(L,q.action),q=q.next;while(q!==P);Gi(L,f.memoizedState)||(yi=!0),f.memoizedState=L,f.baseQueue===null&&(f.baseState=L),v.lastRenderedState=L}return[L,w]}function ch(){}function fh(c,f){var v=Bn,w=rs(),P=f(),L=!Gi(w.memoizedState,P);if(L&&(w.memoizedState=P,yi=!0),w=w.queue,gl(Zs.bind(null,v,w,c),[c]),w.getSnapshot!==f||L||mi!==null&&mi.memoizedState.tag&1){if(v.flags|=2048,vu(9,hh.bind(null,v,w,P,f),void 0,null),Kn===null)throw Error(a(349));ha&30||dh(v,f,P)}return P}function dh(c,f,v){c.flags|=16384,c={getSnapshot:f,value:v},f=Bn.updateQueue,f===null?(f={lastEffect:null,stores:null},Bn.updateQueue=f,f.stores=[c]):(v=f.stores,v===null?f.stores=[c]:v.push(c))}function hh(c,f,v,w){f.value=v,f.getSnapshot=w,gf(f)&&ki(c,1,-1)}function Zs(c,f,v){return v(function(){gf(f)&&ki(c,1,-1)})}function gf(c){var f=c.getSnapshot;c=c.value;try{var v=f();return!Gi(c,v)}catch{return!0}}function yu(c){var f=is();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:c},f.queue=c,c=c.dispatch=Kv.bind(null,Bn,c),[f.memoizedState,c]}function vu(c,f,v,w){return c={tag:c,create:f,destroy:v,deps:w,next:null},f=Bn.updateQueue,f===null?(f={lastEffect:null,stores:null},Bn.updateQueue=f,f.lastEffect=c.next=c):(v=f.lastEffect,v===null?f.lastEffect=c.next=c:(w=v.next,v.next=c,c.next=w,f.lastEffect=c)),c}function Ym(){return rs().memoizedState}function Uo(c,f,v,w){var P=is();Bn.flags|=c,P.memoizedState=vu(1|f,v,void 0,w===void 0?null:w)}function yf(c,f,v,w){var P=rs();w=w===void 0?null:w;var L=void 0;if(pi!==null){var q=pi.memoizedState;if(L=q.destroy,w!==null&&mf(w,q.deps)){P.memoizedState=vu(f,v,L,w);return}}Bn.flags|=c,P.memoizedState=vu(1|f,v,L,w)}function vf(c,f){return Uo(8390656,8,c,f)}function gl(c,f){return yf(2048,8,c,f)}function In(c,f){return yf(4,2,c,f)}function _f(c,f){return yf(4,4,c,f)}function _u(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function yl(c,f,v){return v=v!=null?v.concat([c]):null,yf(4,4,_u.bind(null,f,c),v)}function xf(){}function Sf(c,f){var v=rs();f=f===void 0?null:f;var w=v.memoizedState;return w!==null&&f!==null&&mf(f,w[1])?w[0]:(v.memoizedState=[c,f],c)}function vl(c,f){var v=rs();f=f===void 0?null:f;var w=v.memoizedState;return w!==null&&f!==null&&mf(f,w[1])?w[0]:(c=c(),v.memoizedState=[c,f],c)}function Mf(c,f){var v=nn;nn=v!==0&&4>v?v:4,c(!0);var w=_r.transition;_r.transition={};try{c(!1),f()}finally{nn=v,_r.transition=w}}function ma(){return rs().memoizedState}function qm(c,f,v){var w=ls(c);v={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null},Zm(c)?ph(f,v):(xu(c,f,v),v=yn(),c=ki(c,w,v),c!==null&&Su(c,f,w))}function Kv(c,f,v){var w=ls(c),P={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null};if(Zm(c))ph(f,P);else{xu(c,f,P);var L=c.alternate;if(c.lanes===0&&(L===null||L.lanes===0)&&(L=f.lastRenderedReducer,L!==null))try{var q=f.lastRenderedState,re=L(q,v);if(P.hasEagerState=!0,P.eagerState=re,Gi(re,q))return}catch{}finally{}v=yn(),c=ki(c,w,v),c!==null&&Su(c,f,w)}}function Zm(c){var f=c.alternate;return c===Bn||f!==null&&f===Bn}function ph(c,f){Es=pf=!0;var v=c.pending;v===null?f.next=f:(f.next=v.next,v.next=f),c.pending=f}function xu(c,f,v){Kn!==null&&c.mode&1&&!(Zt&2)?(c=f.interleaved,c===null?(v.next=v,Or===null?Or=[f]:Or.push(f)):(v.next=c.next,c.next=v),f.interleaved=v):(c=f.pending,c===null?v.next=v:(v.next=c.next,c.next=v),f.pending=v)}function Su(c,f,v){if(v&4194240){var w=f.lanes;w&=c.pendingLanes,v|=w,f.lanes=v,Ms(c,v)}}var _l={readContext:nr,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},mh={readContext:nr,useCallback:function(c,f){return is().memoizedState=[c,f===void 0?null:f],c},useContext:nr,useEffect:vf,useImperativeHandle:function(c,f,v){return v=v!=null?v.concat([c]):null,Uo(4194308,4,_u.bind(null,f,c),v)},useLayoutEffect:function(c,f){return Uo(4194308,4,c,f)},useInsertionEffect:function(c,f){return Uo(4,2,c,f)},useMemo:function(c,f){var v=is();return f=f===void 0?null:f,c=c(),v.memoizedState=[c,f],c},useReducer:function(c,f,v){var w=is();return f=v!==void 0?v(f):f,w.memoizedState=w.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},w.queue=c,c=c.dispatch=qm.bind(null,Bn,c),[w.memoizedState,c]},useRef:function(c){var f=is();return c={current:c},f.memoizedState=c},useState:yu,useDebugValue:xf,useDeferredValue:function(c){var f=yu(c),v=f[0],w=f[1];return vf(function(){var P=_r.transition;_r.transition={};try{w(c)}finally{_r.transition=P}},[c]),v},useTransition:function(){var c=yu(!1),f=c[0];return c=Mf.bind(null,c[1]),is().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,v){var w=Bn,P=is();if(Fn){if(v===void 0)throw Error(a(407));v=v()}else{if(v=f(),Kn===null)throw Error(a(349));ha&30||dh(w,f,v)}P.memoizedState=v;var L={value:v,getSnapshot:f};return P.queue=L,vf(Zs.bind(null,w,L,c),[c]),w.flags|=2048,vu(9,hh.bind(null,w,L,v,f),void 0,null),v},useId:function(){var c=is(),f=Kn.identifierPrefix;if(Fn){var v=Ys,w=Xs;v=(w&~(1<<32-cn(w)-1)).toString(32)+v,f=":"+f+"R"+v,v=pa++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=pu++,f=":"+f+"r"+v.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},gh={readContext:nr,useCallback:Sf,useContext:nr,useEffect:gl,useImperativeHandle:yl,useInsertionEffect:In,useLayoutEffect:_f,useMemo:vl,useReducer:mu,useRef:Ym,useState:function(){return mu(Ts)},useDebugValue:xf,useDeferredValue:function(c){var f=mu(Ts),v=f[0],w=f[1];return gl(function(){var P=_r.transition;_r.transition={};try{w(c)}finally{_r.transition=P}},[c]),v},useTransition:function(){var c=mu(Ts)[0],f=rs().memoizedState;return[c,f]},useMutableSource:ch,useSyncExternalStore:fh,useId:ma,unstable_isNewReconciler:!1},yh={readContext:nr,useCallback:Sf,useContext:nr,useEffect:gl,useImperativeHandle:yl,useInsertionEffect:In,useLayoutEffect:_f,useMemo:vl,useReducer:gu,useRef:Ym,useState:function(){return gu(Ts)},useDebugValue:xf,useDeferredValue:function(c){var f=gu(Ts),v=f[0],w=f[1];return gl(function(){var P=_r.transition;_r.transition={};try{w(c)}finally{_r.transition=P}},[c]),v},useTransition:function(){var c=gu(Ts)[0],f=rs().memoizedState;return[c,f]},useMutableSource:ch,useSyncExternalStore:fh,useId:ma,unstable_isNewReconciler:!1};function vh(c,f){try{var v="",w=f;do v+=eh(w),w=w.return;while(w);var P=v}catch(L){P=`
Error generating stack: `+L.message+`
`+L.stack}return{value:c,source:f,stack:P}}function wf(c,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var $v=typeof WeakMap=="function"?WeakMap:Map;function Km(c,f,v){v=js(-1,v),v.tag=3,v.payload={element:null};var w=f.value;return v.callback=function(){Tl||(Tl=!0,On=w),wf(c,f)},v}function Ef(c,f,v){v=js(-1,v),v.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var P=f.value;v.payload=function(){return w(P)},v.callback=function(){wf(c,f)}}var L=c.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(v.callback=function(){wf(c,f),typeof w!="function"&&(as===null?as=new Set([this]):as.add(this));var q=f.stack;this.componentDidCatch(f.value,{componentStack:q!==null?q:""})}),v}function Ks(c,f,v){var w=c.pingCache;if(w===null){w=c.pingCache=new $v;var P=new Set;w.set(f,P)}else P=w.get(f),P===void 0&&(P=new Set,w.set(f,P));P.has(v)||(P.add(v),c=Oh.bind(null,c,f,v),f.then(c,c))}function _h(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function ga(c,f,v,w,P){return c.mode&1?(c.flags|=65536,c.lanes=P,c):(c===f?c.flags|=65536:(c.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=js(-1,1),f.tag=2,Ro(v,f))),v.lanes|=1),c)}function ai(c){c.flags|=4}function xl(c,f){if(c!==null&&c.child===f.child)return!0;if(f.flags&16)return!1;for(c=f.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var xr,ya,Tf,Af;if(Pt)xr=function(c,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)se(c,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},ya=function(){},Tf=function(c,f,v,w,P){if(c=c.memoizedProps,c!==w){var L=f.stateNode,q=ns(ir.current);v=ue(L,v,c,w,P,q),(f.updateQueue=v)&&ai(f)}},Af=function(c,f,v,w){v!==w&&ai(f)};else if(be){xr=function(c,f,v,w){for(var P=f.child;P!==null;){if(P.tag===5){var L=P.stateNode;v&&w&&(L=$t(L,P.type,P.memoizedProps,P)),se(c,L)}else if(P.tag===6)L=P.stateNode,v&&w&&(L=Yn(L,P.memoizedProps,P)),se(c,L);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)L=P.child,L!==null&&(L.return=P),xr(c,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===f)break;for(;P.sibling===null;){if(P.return===null||P.return===f)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var Oo=function(c,f,v,w){for(var P=f.child;P!==null;){if(P.tag===5){var L=P.stateNode;v&&w&&(L=$t(L,P.type,P.memoizedProps,P)),It(c,L)}else if(P.tag===6)L=P.stateNode,v&&w&&(L=Yn(L,P.memoizedProps,P)),It(c,L);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)L=P.child,L!==null&&(L.return=P),Oo(c,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===f)break;for(;P.sibling===null;){if(P.return===null||P.return===f)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};ya=function(c,f){var v=f.stateNode;if(!xl(c,f)){c=v.containerInfo;var w=nt(c);Oo(w,f,!1,!1),v.pendingChildren=w,ai(f),hn(c,w)}},Tf=function(c,f,v,w,P){var L=c.stateNode,q=c.memoizedProps;if((c=xl(c,f))&&q===w)f.stateNode=L;else{var re=f.stateNode,Te=ns(ir.current),Ye=null;q!==w&&(Ye=ue(re,v,q,w,P,Te)),c&&Ye===null?f.stateNode=L:(L=ot(L,Ye,v,q,w,f,c,re),Oe(L,v,w,P,Te)&&ai(f),f.stateNode=L,c?ai(f):xr(L,f,!1,!1))}},Af=function(c,f,v,w){v!==w?(c=ns(fa.current),v=ns(ir.current),f.stateNode=De(w,c,v,f),ai(f)):f.stateNode=c.stateNode}}else ya=function(){},Tf=function(){},Af=function(){};function $s(c,f){if(!Fn)switch(c.tailMode){case"hidden":f=c.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function Zn(c){var f=c.alternate!==null&&c.alternate.child===c.child,v=0,w=0;if(f)for(var P=c.child;P!==null;)v|=P.lanes|P.childLanes,w|=P.subtreeFlags&14680064,w|=P.flags&14680064,P.return=c,P=P.sibling;else for(P=c.child;P!==null;)v|=P.lanes|P.childLanes,w|=P.subtreeFlags,w|=P.flags,P.return=c,P=P.sibling;return c.subtreeFlags|=w,c.childLanes=v,f}function Cf(c,f,v){var w=f.pendingProps;switch(oh(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(f),null;case 1:return pn(f.type)&&tn(),Zn(f),null;case 3:return w=f.stateNode,pl(),qe(un),qe(ln),da(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(du(f)?ai(f):c===null||c.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,zr!==null&&(Nu(zr),zr=null))),ya(c,f),Zn(f),null;case 5:uh(f),v=ns(fa.current);var P=f.type;if(c!==null&&f.stateNode!=null)Tf(c,f,P,w,v),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!w){if(f.stateNode===null)throw Error(a(166));return Zn(f),null}if(c=ns(ir.current),du(f)){if(!Ne)throw Error(a(175));c=Vc(f.stateNode,f.type,f.memoizedProps,v,c,f,!ul),f.updateQueue=c,c!==null&&ai(f)}else{var L=W(P,w,v,c,f);xr(L,f,!1,!1),f.stateNode=L,Oe(L,P,w,v,c)&&ai(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Zn(f),null;case 6:if(c&&f.stateNode!=null)Af(c,f,c.memoizedProps,w);else{if(typeof w!="string"&&f.stateNode===null)throw Error(a(166));if(c=ns(fa.current),v=ns(ir.current),du(f)){if(!Ne)throw Error(a(176));if(c=f.stateNode,w=f.memoizedProps,(v=xs(c,w,f,!ul))&&(P=ji,P!==null))switch(L=(P.mode&1)!==0,P.tag){case 3:oe(P.stateNode.containerInfo,c,w,L);break;case 5:ve(P.type,P.memoizedProps,P.stateNode,c,w,L)}v&&ai(f)}else f.stateNode=De(w,c,v,f)}return Zn(f),null;case 13:if(qe(zn),w=f.memoizedState,Fn&&Ti!==null&&f.mode&1&&!(f.flags&128)){for(c=Ti;c;)c=es(c);return cl(),f.flags|=98560,f}if(w!==null&&w.dehydrated!==null){if(w=du(f),c===null){if(!w)throw Error(a(318));if(!Ne)throw Error(a(344));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));Hc(c,f)}else cl(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return Zn(f),null}return zr!==null&&(Nu(zr),zr=null),f.flags&128?(f.lanes=v,f):(w=w!==null,v=!1,c===null?du(f):v=c.memoizedState!==null,w&&!v&&(f.child.flags|=8192,f.mode&1&&(c===null||zn.current&1?jn===0&&(jn=3):Nf())),f.updateQueue!==null&&(f.flags|=4),Zn(f),null);case 4:return pl(),ya(c,f),c===null&&xt(f.stateNode.containerInfo),Zn(f),null;case 10:return fu(f.type._context),Zn(f),null;case 17:return pn(f.type)&&tn(),Zn(f),null;case 19:if(qe(zn),P=f.memoizedState,P===null)return Zn(f),null;if(w=(f.flags&128)!==0,L=P.rendering,L===null)if(w)$s(P,!1);else{if(jn!==0||c!==null&&c.flags&128)for(c=f.child;c!==null;){if(L=hf(c),L!==null){for(f.flags|=128,$s(P,!1),c=L.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),f.subtreeFlags=0,c=v,w=f.child;w!==null;)v=w,P=c,v.flags&=14680066,L=v.alternate,L===null?(v.childLanes=0,v.lanes=P,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=L.childLanes,v.lanes=L.lanes,v.child=L.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=L.memoizedProps,v.memoizedState=L.memoizedState,v.updateQueue=L.updateQueue,v.type=L.type,P=L.dependencies,v.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),w=w.sibling;return wt(zn,zn.current&1|2),f.child}c=c.sibling}P.tail!==null&&oi()>zo&&(f.flags|=128,w=!0,$s(P,!1),f.lanes=4194304)}else{if(!w)if(c=hf(L),c!==null){if(f.flags|=128,w=!0,c=c.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),$s(P,!0),P.tail===null&&P.tailMode==="hidden"&&!L.alternate&&!Fn)return Zn(f),null}else 2*oi()-P.renderingStartTime>zo&&v!==1073741824&&(f.flags|=128,w=!0,$s(P,!1),f.lanes=4194304);P.isBackwards?(L.sibling=f.child,f.child=L):(c=P.last,c!==null?c.sibling=L:f.child=L,P.last=L)}return P.tail!==null?(f=P.tail,P.rendering=f,P.tail=f.sibling,P.renderingStartTime=oi(),f.sibling=null,c=zn.current,wt(zn,w?c&1|2:c&1),f):(Zn(f),null);case 22:case 23:return Uu(),w=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(f.flags|=8192),w&&f.mode&1?Fi&1073741824&&(Zn(f),Pt&&f.subtreeFlags&6&&(f.flags|=8192)):Zn(f),null;case 24:return null;case 25:return null}throw Error(a(156,f.tag))}var xh=u.ReactCurrentOwner,yi=!1;function Wn(c,f,v,w){f.child=c===null?jm(f,null,v,w):qs(f,c.child,v,w)}function Ln(c,f,v,w,P){v=v.render;var L=f.ref;return ol(f,P),w=ml(c,f,v,w,L,P),v=No(),c!==null&&!yi?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~P,rr(c,f,P)):(Fn&&v&&sh(f),f.flags|=1,Wn(c,f,w,P),f.child)}function bn(c,f,v,w,P){if(c===null){var L=v.type;return typeof L=="function"&&!Of(L)&&L.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=L,Qs(c,f,L,w,P)):(c=Ff(v.type,null,w,f,f.mode,P),c.ref=f.ref,c.return=f,f.child=c)}if(L=c.child,!(c.lanes&P)){var q=L.memoizedProps;if(v=v.compare,v=v!==null?v:ts,v(q,w)&&c.ref===f.ref)return rr(c,f,P)}return f.flags|=1,c=ao(L,w),c.ref=f.ref,c.return=f,f.child=c}function Qs(c,f,v,w,P){if(c!==null&&ts(c.memoizedProps,w)&&c.ref===f.ref)if(yi=!1,(c.lanes&P)!==0)c.flags&131072&&(yi=!0);else return f.lanes=c.lanes,rr(c,f,P);return Js(c,f,v,w,P)}function Ai(c,f,v){var w=f.pendingProps,P=w.children,L=c!==null?c.memoizedState:null;if(w.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},wt(Aa,Fi),Fi|=v;else if(v&1073741824)f.memoizedState={baseLanes:0,cachePool:null},w=L!==null?L.baseLanes:v,wt(Aa,Fi),Fi|=w;else return c=L!==null?L.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null},f.updateQueue=null,wt(Aa,Fi),Fi|=c,null;else L!==null?(w=L.baseLanes|v,f.memoizedState=null):w=v,wt(Aa,Fi),Fi|=w;return Wn(c,f,P,v),f.child}function Xi(c,f){var v=f.ref;(c===null&&v!==null||c!==null&&c.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function Js(c,f,v,w,P){var L=pn(v)?Qt:ln.current;return L=Mt(f,L),ol(f,P),v=ml(c,f,v,w,L,P),w=No(),c!==null&&!yi?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~P,rr(c,f,P)):(Fn&&w&&sh(f),f.flags|=1,Wn(c,f,v,P),f.child)}function va(c,f,v,w,P){if(pn(v)){var L=!0;di(f)}else L=!1;if(ol(f,P),f.stateNode===null)c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),Bm(f,v,w),rh(f,v,w,P),w=!0;else if(c===null){var q=f.stateNode,re=f.memoizedProps;q.props=re;var Te=q.context,Ye=v.contextType;typeof Ye=="object"&&Ye!==null?Ye=nr(Ye):(Ye=pn(v)?Qt:ln.current,Ye=Mt(f,Ye));var vt=v.getDerivedStateFromProps,Wt=typeof vt=="function"||typeof q.getSnapshotBeforeUpdate=="function";Wt||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(re!==w||Te!==Ye)&&Vm(f,q,w,Ye),Fr=!1;var Nt=f.memoizedState;q.state=Nt,of(f,w,q,P),Te=f.memoizedState,re!==w||Nt!==Te||un.current||Fr?(typeof vt=="function"&&(nh(f,v,vt,w),Te=f.memoizedState),(re=Fr||ih(f,v,re,w,Nt,Te,Ye))?(Wt||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(f.flags|=4194308)):(typeof q.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=Te),q.props=w,q.state=Te,q.context=Ye,w=re):(typeof q.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{q=f.stateNode,th(c,f),re=f.memoizedProps,Ye=f.type===f.elementType?re:tr(f.type,re),q.props=Ye,Wt=f.pendingProps,Nt=q.context,Te=v.contextType,typeof Te=="object"&&Te!==null?Te=nr(Te):(Te=pn(v)?Qt:ln.current,Te=Mt(f,Te));var Jt=v.getDerivedStateFromProps;(vt=typeof Jt=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(re!==Wt||Nt!==Te)&&Vm(f,q,w,Te),Fr=!1,Nt=f.memoizedState,q.state=Nt,of(f,w,q,P);var ut=f.memoizedState;re!==Wt||Nt!==ut||un.current||Fr?(typeof Jt=="function"&&(nh(f,v,Jt,w),ut=f.memoizedState),(Ye=Fr||ih(f,v,Ye,w,Nt,ut,Te)||!1)?(vt||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(w,ut,Te),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(w,ut,Te)),typeof q.componentDidUpdate=="function"&&(f.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof q.componentDidUpdate!="function"||re===c.memoizedProps&&Nt===c.memoizedState||(f.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||re===c.memoizedProps&&Nt===c.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=ut),q.props=w,q.state=ut,q.context=Te,w=Ye):(typeof q.componentDidUpdate!="function"||re===c.memoizedProps&&Nt===c.memoizedState||(f.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||re===c.memoizedProps&&Nt===c.memoizedState||(f.flags|=1024),w=!1)}return Oi(c,f,v,w,L,P)}function Oi(c,f,v,w,P,L){Xi(c,f);var q=(f.flags&128)!==0;if(!w&&!q)return P&&Ss(f,v,!1),rr(c,f,L);w=f.stateNode,xh.current=f;var re=q&&typeof v.getDerivedStateFromError!="function"?null:w.render();return f.flags|=1,c!==null&&q?(f.child=qs(f,c.child,null,L),f.child=qs(f,null,re,L)):Wn(c,f,re,L),f.memoizedState=w.state,P&&Ss(f,v,!0),f.child}function Mu(c){var f=c.stateNode;f.pendingContext?wi(c,f.pendingContext,f.pendingContext!==f.context):f.context&&wi(c,f.context,!1),df(c,f.containerInfo)}function Sh(c,f,v,w,P){return cl(),ff(P),f.flags|=256,Wn(c,f,v,w),f.child}var wu={dehydrated:null,treeContext:null,retryLane:0};function _a(c){return{baseLanes:c,cachePool:null}}function Mh(c,f,v){var w=f.pendingProps,P=zn.current,L=!1,q=(f.flags&128)!==0,re;if((re=q)||(re=c!==null&&c.memoizedState===null?!1:(P&2)!==0),re?(L=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(P|=1),wt(zn,P&1),c===null)return Lo(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(f.mode&1?Jr(c)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(P=w.children,c=w.fallback,L?(w=f.mode,L=f.child,P={mode:"hidden",children:P},!(w&1)&&L!==null?(L.childLanes=0,L.pendingProps=P):L=ku(P,w,0,null),c=Ia(c,w,v,null),L.return=f,c.return=f,L.sibling=c,f.child=L,f.child.memoizedState=_a(v),f.memoizedState=wu,c):ss(f,P));if(P=c.memoizedState,P!==null){if(re=P.dehydrated,re!==null){if(q)return f.flags&256?(f.flags&=-257,Tu(c,f,v,Error(a(422)))):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(L=w.fallback,P=f.mode,w=ku({mode:"visible",children:w.children},P,0,null),L=Ia(L,P,v,null),L.flags|=2,w.return=f,L.return=f,w.sibling=L,f.child=w,f.mode&1&&qs(f,c.child,null,v),f.child.memoizedState=_a(v),f.memoizedState=wu,L);if(!(f.mode&1))f=Tu(c,f,v,null);else if(Jr(re))f=Tu(c,f,v,Error(a(419)));else if(w=(v&c.childLanes)!==0,yi||w){if(w=Kn,w!==null){switch(v&-v){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}w=L&(w.suspendedLanes|v)?0:L,w!==0&&w!==P.retryLane&&(P.retryLane=w,ki(c,w,-1))}Nf(),f=Tu(c,f,v,Error(a(421)))}else _s(re)?(f.flags|=128,f.child=c.child,f=tg.bind(null,c),ta(re,f),f=null):(v=P.treeContext,Ne&&(Ti=rl(re),ji=f,Fn=!0,zr=null,ul=!1,v!==null&&(kr[yr++]=Xs,kr[yr++]=Ys,kr[yr++]=la,Xs=v.id,Ys=v.overflow,la=f)),f=ss(f,f.pendingProps.children),f.flags|=4096);return f}return L?(w=bf(c,f,w.children,w.fallback,v),L=f.child,P=c.child.memoizedState,L.memoizedState=P===null?_a(v):{baseLanes:P.baseLanes|v,cachePool:null},L.childLanes=c.childLanes&~v,f.memoizedState=wu,w):(v=Eu(c,f,w.children,v),f.memoizedState=null,v)}return L?(w=bf(c,f,w.children,w.fallback,v),L=f.child,P=c.child.memoizedState,L.memoizedState=P===null?_a(v):{baseLanes:P.baseLanes|v,cachePool:null},L.childLanes=c.childLanes&~v,f.memoizedState=wu,w):(v=Eu(c,f,w.children,v),f.memoizedState=null,v)}function ss(c,f){return f=ku({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function Eu(c,f,v,w){var P=c.child;return c=P.sibling,v=ao(P,{mode:"visible",children:v}),!(f.mode&1)&&(v.lanes=w),v.return=f,v.sibling=null,c!==null&&(w=f.deletions,w===null?(f.deletions=[c],f.flags|=16):w.push(c)),f.child=v}function bf(c,f,v,w,P){var L=f.mode;c=c.child;var q=c.sibling,re={mode:"hidden",children:v};return!(L&1)&&f.child!==c?(v=f.child,v.childLanes=0,v.pendingProps=re,f.deletions=null):(v=ao(c,re),v.subtreeFlags=c.subtreeFlags&14680064),q!==null?w=ao(q,w):(w=Ia(w,L,P,null),w.flags|=2),w.return=f,v.return=f,v.sibling=w,f.child=v,w}function Tu(c,f,v,w){return w!==null&&ff(w),qs(f,c.child,null,v),c=ss(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function $m(c,f,v){c.lanes|=f;var w=c.alternate;w!==null&&(w.lanes|=f),aa(c.return,f,v)}function As(c,f,v,w,P){var L=c.memoizedState;L===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:v,tailMode:P}:(L.isBackwards=f,L.rendering=null,L.renderingStartTime=0,L.last=w,L.tail=v,L.tailMode=P)}function xa(c,f,v){var w=f.pendingProps,P=w.revealOrder,L=w.tail;if(Wn(c,f,w.children,v),w=zn.current,w&2)w=w&1|2,f.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&$m(c,v,f);else if(c.tag===19)$m(c,v,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(wt(zn,w),!(f.mode&1))f.memoizedState=null;else switch(P){case"forwards":for(v=f.child,P=null;v!==null;)c=v.alternate,c!==null&&hf(c)===null&&(P=v),v=v.sibling;v=P,v===null?(P=f.child,f.child=null):(P=v.sibling,v.sibling=null),As(f,!1,P,v,L);break;case"backwards":for(v=null,P=f.child,f.child=null;P!==null;){if(c=P.alternate,c!==null&&hf(c)===null){f.child=P;break}c=P.sibling,P.sibling=v,v=P,P=c}As(f,!0,v,null,L);break;case"together":As(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function rr(c,f,v){if(c!==null&&(f.dependencies=c.dependencies),Cs|=f.lanes,!(v&f.childLanes))return null;if(c!==null&&f.child!==c.child)throw Error(a(153));if(f.child!==null){for(c=f.child,v=ao(c,c.pendingProps),f.child=v,v.return=f;c.sibling!==null;)c=c.sibling,v=v.sibling=ao(c,c.pendingProps),v.return=f;v.sibling=null}return f.child}function Pf(c,f,v){switch(f.tag){case 3:Mu(f),cl();break;case 5:Xm(f);break;case 1:pn(f.type)&&di(f);break;case 4:df(f,f.stateNode.containerInfo);break;case 10:oa(f,f.type._context,f.memoizedProps.value);break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(wt(zn,zn.current&1),f.flags|=128,null):v&f.child.childLanes?Mh(c,f,v):(wt(zn,zn.current&1),c=rr(c,f,v),c!==null?c.sibling:null);wt(zn,zn.current&1);break;case 19:if(w=(v&f.childLanes)!==0,c.flags&128){if(w)return xa(c,f,v);f.flags|=128}var P=f.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),wt(zn,zn.current),w)break;return null;case 22:case 23:return f.lanes=0,Ai(c,f,v)}return rr(c,f,v)}function Rf(c,f){switch(oh(f),f.tag){case 1:return pn(f.type)&&tn(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return pl(),qe(un),qe(ln),da(),c=f.flags,c&65536&&!(c&128)?(f.flags=c&-65537|128,f):null;case 5:return uh(f),null;case 13:if(qe(zn),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(a(340));cl()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return qe(zn),null;case 4:return pl(),null;case 10:return fu(f.type._context),null;case 22:case 23:return Uu(),null;case 24:return null;default:return null}}var Yi=!1,vi=!1,Sa=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Br(c,f){var v=c.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(w){Zi(c,f,w)}else v.current=null}function eo(c,f,v){try{v()}catch(w){Zi(c,f,w)}}var wh=!1;function Eh(c,f){for(te(c.containerInfo),Je=f;Je!==null;)if(c=Je,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,Je=f;else for(;Je!==null;){c=Je;try{var v=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,P=v.memoizedState,L=c.stateNode,q=L.getSnapshotBeforeUpdate(c.elementType===c.type?w:tr(c.type,w),P);L.__reactInternalSnapshotBeforeUpdate=q}break;case 3:Pt&&Pe(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(re){Zi(c,c.return,re)}if(f=c.sibling,f!==null){f.return=c.return,Je=f;break}Je=c.return}return v=wh,wh=!1,v}function to(c,f,v){var w=f.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var P=w=w.next;do{if((P.tag&c)===c){var L=P.destroy;P.destroy=void 0,L!==void 0&&eo(f,v,L)}P=P.next}while(P!==w)}}function Ci(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&c)===c){var w=v.create;v.destroy=w()}v=v.next}while(v!==f)}}function qi(c){var f=c.ref;if(f!==null){var v=c.stateNode;switch(c.tag){case 5:c=he(v);break;default:c=v}typeof f=="function"?f(c):f.current=c}}function Un(c,f,v){if(ws&&typeof ws.onCommitFiberUnmount=="function")try{ws.onCommitFiberUnmount(au,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(c=f.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var w=c=c.next;do{var P=w,L=P.destroy;P=P.tag,L!==void 0&&(P&2||P&4)&&eo(f,v,L),w=w.next}while(w!==c)}break;case 1:if(Br(f,v),c=f.stateNode,typeof c.componentWillUnmount=="function")try{c.props=f.memoizedProps,c.state=f.memoizedState,c.componentWillUnmount()}catch(q){Zi(f,v,q)}break;case 5:Br(f,v);break;case 4:Pt?Ch(c,f,v):be&&be&&(f=f.stateNode.containerInfo,v=nt(f),Rn(f,v))}}function Vr(c,f,v){for(var w=f;;)if(Un(c,w,v),w.child===null||Pt&&w.tag===4){if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function Th(c){var f=c.alternate;f!==null&&(c.alternate=null,Th(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&at(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Ah(c){return c.tag===5||c.tag===3||c.tag===4}function If(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Ah(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Lf(c){if(Pt){e:{for(var f=c.return;f!==null;){if(Ah(f))break e;f=f.return}throw Error(a(160))}var v=f;switch(v.tag){case 5:f=v.stateNode,v.flags&32&&(Ce(f),v.flags&=-33),v=If(c),Sl(c,v,f);break;case 3:case 4:f=v.stateNode.containerInfo,v=If(c),Df(c,v,f);break;default:throw Error(a(161))}}}function Df(c,f,v){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?Ut(v,c,f):lt(v,c);else if(w!==4&&(c=c.child,c!==null))for(Df(c,f,v),c=c.sibling;c!==null;)Df(c,f,v),c=c.sibling}function Sl(c,f,v){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?Lt(v,c,f):Qe(v,c);else if(w!==4&&(c=c.child,c!==null))for(Sl(c,f,v),c=c.sibling;c!==null;)Sl(c,f,v),c=c.sibling}function Ch(c,f,v){for(var w=f,P=!1,L,q;;){if(!P){P=w.return;e:for(;;){if(P===null)throw Error(a(160));switch(L=P.stateNode,P.tag){case 5:q=!1;break e;case 3:L=L.containerInfo,q=!0;break e;case 4:L=L.containerInfo,q=!0;break e}P=P.return}P=!0}if(w.tag===5||w.tag===6)Vr(c,w,v),q?Q(L,w.stateNode):dt(L,w.stateNode);else if(w.tag===18)q?Yc(L,w.stateNode):Xc(L,w.stateNode);else if(w.tag===4){if(w.child!==null){L=w.stateNode.containerInfo,q=!0,w.child.return=w,w=w.child;continue}}else if(Un(c,w,v),w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return,w.tag===4&&(P=!1)}w.sibling.return=w.return,w=w.sibling}}function Fo(c,f){if(Pt){switch(f.tag){case 0:case 11:case 14:case 15:to(3,f,f.return),Ci(3,f),to(5,f,f.return);return;case 1:return;case 5:var v=f.stateNode;if(v!=null){var w=f.memoizedProps;c=c!==null?c.memoizedProps:w;var P=f.type,L=f.updateQueue;f.updateQueue=null,L!==null&&mt(v,L,P,c,w,f)}return;case 6:if(f.stateNode===null)throw Error(a(162));v=f.memoizedProps,Gt(f.stateNode,c!==null?c.memoizedProps:v,v);return;case 3:Ne&&c!==null&&c.memoizedState.isDehydrated&&Wc(f.stateNode.containerInfo);return;case 12:return;case 13:Ml(f);return;case 19:Ml(f);return;case 17:return}throw Error(a(163))}switch(f.tag){case 0:case 11:case 14:case 15:to(3,f,f.return),Ci(3,f),to(5,f,f.return);return;case 12:return;case 13:Ml(f);return;case 19:Ml(f);return;case 3:Ne&&c!==null&&c.memoizedState.isDehydrated&&Wc(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(be){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Rn(f.containerInfo,f.pendingChildren);break e}throw Error(a(163))}}function Ml(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var v=c.stateNode;v===null&&(v=c.stateNode=new Sa),f.forEach(function(w){var P=ng.bind(null,c,w);v.has(w)||(v.add(w),w.then(P,P))})}}function Qv(c,f){for(Je=f;Je!==null;){f=Je;var v=f.deletions;if(v!==null)for(var w=0;w<v.length;w++){var P=v[w];try{var L=c;Pt?Ch(L,P,f):Vr(L,P,f);var q=P.alternate;q!==null&&(q.return=null),P.return=null}catch(Tt){Zi(P,f,Tt)}}if(v=f.child,f.subtreeFlags&12854&&v!==null)v.return=f,Je=v;else for(;Je!==null;){f=Je;try{var re=f.flags;if(re&32&&Pt&&Ce(f.stateNode),re&512){var Te=f.alternate;if(Te!==null){var Ye=Te.ref;Ye!==null&&(typeof Ye=="function"?Ye(null):Ye.current=null)}}if(re&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var vt=f.alternate;(vt===null||vt.memoizedState===null)&&(Lu=oi())}break;case 22:var Wt=f.memoizedState!==null,Nt=f.alternate,Jt=Nt!==null&&Nt.memoizedState!==null;if(v=f,Pt){e:if(w=v,P=Wt,L=null,Pt)for(var ut=w;;){if(ut.tag===5){if(L===null){L=ut;var Ri=ut.stateNode;P?tt(Ri):He(ut.stateNode,ut.memoizedProps)}}else if(ut.tag===6){if(L===null){var Tr=ut.stateNode;P?K(Tr):xe(Tr,ut.memoizedProps)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===w)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===w)break;for(;ut.sibling===null;){if(ut.return===null||ut.return===w)break e;L===ut&&(L=null),ut=ut.return}L===ut&&(L=null),ut.sibling.return=ut.return,ut=ut.sibling}}if(Wt&&!Jt&&v.mode&1){Je=v;for(var ye=v.child;ye!==null;){for(v=Je=ye;Je!==null;){w=Je;var ae=w.child;switch(w.tag){case 0:case 11:case 14:case 15:to(4,w,w.return);break;case 1:Br(w,w.return);var we=w.stateNode;if(typeof we.componentWillUnmount=="function"){var rt=w.return;try{we.props=w.memoizedProps,we.state=w.memoizedState,we.componentWillUnmount()}catch(Tt){Zi(w,rt,Tt)}}break;case 5:Br(w,w.return);break;case 22:if(w.memoizedState!==null){Ph(v);continue}}ae!==null?(ae.return=w,Je=ae):Ph(v)}ye=ye.sibling}}}switch(re&4102){case 2:Lf(f),f.flags&=-3;break;case 6:Lf(f),f.flags&=-3,Fo(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,Fo(f.alternate,f);break;case 4:Fo(f.alternate,f)}}catch(Tt){Zi(f,f.return,Tt)}if(v=f.sibling,v!==null){v.return=f.return,Je=v;break}Je=f.return}}}function Au(c,f,v){Je=c,Cu(c)}function Cu(c,f,v){for(var w=(c.mode&1)!==0;Je!==null;){var P=Je,L=P.child;if(P.tag===22&&w){var q=P.memoizedState!==null||Yi;if(!q){var re=P.alternate,Te=re!==null&&re.memoizedState!==null||vi;re=Yi;var Ye=vi;if(Yi=q,(vi=Te)&&!Ye)for(Je=P;Je!==null;)q=Je,Te=q.child,q.tag===22&&q.memoizedState!==null?Ma(P):Te!==null?(Te.return=q,Je=Te):Ma(P);for(;L!==null;)Je=L,Cu(L),L=L.sibling;Je=P,Yi=re,vi=Ye}bh(c)}else P.subtreeFlags&8772&&L!==null?(L.return=P,Je=L):bh(c)}}function bh(c){for(;Je!==null;){var f=Je;if(f.flags&8772){var v=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:vi||Ci(5,f);break;case 1:var w=f.stateNode;if(f.flags&4&&!vi)if(v===null)w.componentDidMount();else{var P=f.elementType===f.type?v.memoizedProps:tr(f.type,v.memoizedProps);w.componentDidUpdate(P,v.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var L=f.updateQueue;L!==null&&km(f,L,w);break;case 3:var q=f.updateQueue;if(q!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=he(f.child.stateNode);break;case 1:v=f.child.stateNode}km(f,q,v)}break;case 5:var re=f.stateNode;v===null&&f.flags&4&&ze(re,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(Ne&&f.memoizedState===null){var Te=f.alternate;if(Te!==null){var Ye=Te.memoizedState;if(Ye!==null){var vt=Ye.dehydrated;vt!==null&&jc(vt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}vi||f.flags&512&&qi(f)}catch(Wt){Zi(f,f.return,Wt)}}if(f===c){Je=null;break}if(v=f.sibling,v!==null){v.return=f.return,Je=v;break}Je=f.return}}function Ph(c){for(;Je!==null;){var f=Je;if(f===c){Je=null;break}var v=f.sibling;if(v!==null){v.return=f.return,Je=v;break}Je=f.return}}function Ma(c){for(;Je!==null;){var f=Je;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{Ci(4,f)}catch(Te){Zi(f,v,Te)}break;case 1:var w=f.stateNode;if(typeof w.componentDidMount=="function"){var P=f.return;try{w.componentDidMount()}catch(Te){Zi(f,P,Te)}}var L=f.return;try{qi(f)}catch(Te){Zi(f,L,Te)}break;case 5:var q=f.return;try{qi(f)}catch(Te){Zi(f,q,Te)}}}catch(Te){Zi(f,f.return,Te)}if(f===c){Je=null;break}var re=f.sibling;if(re!==null){re.return=f.return,Je=re;break}Je=f.return}}var bu=0,wa=1,Ea=2,no=3,wl=4;if(typeof Symbol=="function"&&Symbol.for){var Ta=Symbol.for;bu=Ta("selector.component"),wa=Ta("selector.has_pseudo_class"),Ea=Ta("selector.role"),no=Ta("selector.test_id"),wl=Ta("selector.text")}function Pu(c){var f=Y(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(a(364));return f}if(c=j(c),c===null)throw Error(a(362));return c.stateNode.current}function Ru(c,f){switch(f.$$typeof){case bu:if(c.type===f.value)return!0;break;case wa:e:{f=f.value,c=[c,0];for(var v=0;v<c.length;){var w=c[v++],P=c[v++],L=f[P];if(w.tag!==5||!Ae(w)){for(;L!=null&&Ru(w,L);)P++,L=f[P];if(P===f.length){f=!0;break e}else for(w=w.child;w!==null;)c.push(w,P),w=w.sibling}}f=!1}return f;case Ea:if(c.tag===5&&Ue(c.stateNode,f.value))return!0;break;case wl:if((c.tag===5||c.tag===6)&&(c=de(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case no:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function ko(c){switch(c.$$typeof){case bu:return"<"+(F(c.value)||"Unknown")+">";case wa:return":has("+(ko(c)||"")+")";case Ea:return'[role="'+c.value+'"]';case wl:return'"'+c.value+'"';case no:return'[data-testname="'+c.value+'"]';default:throw Error(a(365))}}function Sr(c,f){var v=[];c=[c,0];for(var w=0;w<c.length;){var P=c[w++],L=c[w++],q=f[L];if(P.tag!==5||!Ae(P)){for(;q!=null&&Ru(P,q);)L++,q=f[L];if(L===f.length)v.push(P);else for(P=P.child;P!==null;)c.push(P,L),P=P.sibling}}return v}function io(c,f){if(!$e)throw Error(a(363));c=Pu(c),c=Sr(c,f),f=[],c=Array.from(c);for(var v=0;v<c.length;){var w=c[v++];if(w.tag===5)Ae(w)||f.push(w.stateNode);else for(w=w.child;w!==null;)c.push(w),w=w.sibling}return f}var Rh=Math.ceil,Iu=u.ReactCurrentDispatcher,os=u.ReactCurrentOwner,En=u.ReactCurrentBatchConfig,Zt=0,Kn=null,Tn=null,kn=0,Fi=0,Aa=bt(0),jn=0,El=null,Cs=0,Mr=0,Ca=0,ro=null,ei=null,Lu=0,zo=1/0;function ba(){zo=oi()+500}var Tl=!1,On=null,as=null,Al=!1,bs=null,Pa=0,Ra=0,so=null,Dn=-1,Xn=0;function yn(){return Zt&6?oi():Dn!==-1?Dn:Dn=oi()}function ls(c){return c.mode&1?Zt&2&&kn!==0?kn&-kn:Fm.transition!==null?(Xn===0&&(c=qn,qn<<=1,!(qn&4194240)&&(qn=64),Xn=c),Xn):(c=nn,c!==0?c:Be()):1}function ki(c,f,v){if(50<Ra)throw Ra=0,so=null,Error(a(185));var w=Bo(c,f);return w===null?null:(na(w,f,v),(!(Zt&2)||w!==Kn)&&(w===Kn&&(!(Zt&2)&&(Mr|=f),jn===4&&Pi(w,kn)),sr(w,v),f===1&&Zt===0&&!(c.mode&1)&&(ba(),Jc&&Ur())),w)}function Bo(c,f){c.lanes|=f;var v=c.alternate;for(v!==null&&(v.lanes|=f),v=c,c=c.return;c!==null;)c.childLanes|=f,v=c.alternate,v!==null&&(v.childLanes|=f),v=c,c=c.return;return v.tag===3?v.stateNode:null}function sr(c,f){var v=c.callbackNode;Om(c,f);var w=ou(c,c===Kn?kn:0);if(w===0)v!==null&&sl(v),c.callbackNode=null,c.callbackPriority=0;else if(f=w&-w,c.callbackPriority!==f){if(v!=null&&sl(v),f===1)c.tag===0?tf(wr.bind(null,c)):ef(wr.bind(null,c)),Xe?Rt(function(){Zt===0&&Ur()}):ia(ra,Ur),v=null;else{switch(Gs(w)){case 1:v=ra;break;case 4:v=Zv;break;case 16:v=$c;break;case 536870912:v=Qc;break;default:v=$c}v=Uf(v,bi.bind(null,c))}c.callbackPriority=f,c.callbackNode=v}}function bi(c,f){if(Dn=-1,Xn=0,Zt&6)throw Error(a(327));var v=c.callbackNode;if(Ps()&&c.callbackNode!==v)return null;var w=ou(c,c===Kn?kn:0);if(w===0)return null;if(w&30||w&c.expiredLanes||f)f=Ou(c,w);else{f=w;var P=Zt;Zt|=2;var L=Dh();(Kn!==c||kn!==f)&&(ba(),oo(c,f));do try{Jm();break}catch(re){Lh(c,re)}while(!0);Wi(),Iu.current=L,Zt=P,Tn!==null?f=0:(Kn=null,kn=0,f=jn)}if(f!==0){if(f===2&&(P=qc(c),P!==0&&(w=P,f=Du(c,P))),f===1)throw v=El,oo(c,0),Pi(c,w),sr(c,oi()),v;if(f===6)Pi(c,w);else{if(P=c.current.alternate,!(w&30)&&!Ih(P)&&(f=Ou(c,w),f===2&&(L=qc(c),L!==0&&(w=L,f=Du(c,L))),f===1))throw v=El,oo(c,0),Pi(c,w),sr(c,oi()),v;switch(c.finishedWork=P,c.finishedLanes=w,f){case 0:case 1:throw Error(a(345));case 2:us(c,ei);break;case 3:if(Pi(c,w),(w&130023424)===w&&(f=Lu+500-oi(),10<f)){if(ou(c,0)!==0)break;if(P=c.suspendedLanes,(P&w)!==w){yn(),c.pingedLanes|=c.suspendedLanes&P;break}c.timeoutHandle=Re(us.bind(null,c,ei),f);break}us(c,ei);break;case 4:if(Pi(c,w),(w&4194240)===w)break;for(f=c.eventTimes,P=-1;0<w;){var q=31-cn(w);L=1<<q,q=f[q],q>P&&(P=q),w&=~L}if(w=P,w=oi()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*Rh(w/1960))-w,10<w){c.timeoutHandle=Re(us.bind(null,c,ei),w);break}us(c,ei);break;case 5:us(c,ei);break;default:throw Error(a(329))}}}return sr(c,oi()),c.callbackNode===v?bi.bind(null,c):null}function Du(c,f){var v=ro;return c.current.memoizedState.isDehydrated&&(oo(c,f).flags|=256),c=Ou(c,f),c!==2&&(f=ei,ei=v,f!==null&&Nu(f)),c}function Nu(c){ei===null?ei=c:ei.push.apply(ei,c)}function Ih(c){for(var f=c;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var w=0;w<v.length;w++){var P=v[w],L=P.getSnapshot;P=P.value;try{if(!Gi(L(),P))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Pi(c,f){for(f&=~Ca,f&=~Mr,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var v=31-cn(f),w=1<<v;c[v]=-1,f&=~w}}function wr(c){if(Zt&6)throw Error(a(327));Ps();var f=ou(c,0);if(!(f&1))return sr(c,oi()),null;var v=Ou(c,f);if(c.tag!==0&&v===2){var w=qc(c);w!==0&&(f=w,v=Du(c,w))}if(v===1)throw v=El,oo(c,0),Pi(c,f),sr(c,oi()),v;if(v===6)throw Error(a(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,us(c,ei),sr(c,oi()),null}function Cl(c){bs!==null&&bs.tag===0&&!(Zt&6)&&Ps();var f=Zt;Zt|=1;var v=En.transition,w=nn;try{if(En.transition=null,nn=1,c)return c()}finally{nn=w,En.transition=v,Zt=f,!(Zt&6)&&Ur()}}function Uu(){Fi=Aa.current,qe(Aa)}function oo(c,f){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;if(v!==Ke&&(c.timeoutHandle=Ke,We(v)),Tn!==null)for(v=Tn.return;v!==null;){var w=v;switch(oh(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&tn();break;case 3:pl(),qe(un),qe(ln),da();break;case 5:uh(w);break;case 4:pl();break;case 13:qe(zn);break;case 19:qe(zn);break;case 10:fu(w.type._context);break;case 22:case 23:Uu()}v=v.return}if(Kn=c,Tn=c=ao(c.current,null),kn=Fi=f,jn=0,El=null,Ca=Mr=Cs=0,ei=ro=null,Or!==null){for(f=0;f<Or.length;f++)if(v=Or[f],w=v.interleaved,w!==null){v.interleaved=null;var P=w.next,L=v.pending;if(L!==null){var q=L.next;L.next=P,w.next=q}v.pending=w}Or=null}return c}function Lh(c,f){do{var v=Tn;try{if(Wi(),hu.current=_l,pf){for(var w=Bn.memoizedState;w!==null;){var P=w.queue;P!==null&&(P.pending=null),w=w.next}pf=!1}if(ha=0,mi=pi=Bn=null,Es=!1,pa=0,os.current=null,v===null||v.return===null){jn=1,El=f,Tn=null;break}e:{var L=c,q=v.return,re=v,Te=f;if(f=kn,re.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var Ye=Te,vt=re,Wt=vt.tag;if(!(vt.mode&1)&&(Wt===0||Wt===11||Wt===15)){var Nt=vt.alternate;Nt?(vt.updateQueue=Nt.updateQueue,vt.memoizedState=Nt.memoizedState,vt.lanes=Nt.lanes):(vt.updateQueue=null,vt.memoizedState=null)}var Jt=_h(q);if(Jt!==null){Jt.flags&=-257,ga(Jt,q,re,L,f),Jt.mode&1&&Ks(L,Ye,f),f=Jt,Te=Ye;var ut=f.updateQueue;if(ut===null){var Ri=new Set;Ri.add(Te),f.updateQueue=Ri}else ut.add(Te);break e}else{if(!(f&1)){Ks(L,Ye,f),Nf();break e}Te=Error(a(426))}}else if(Fn&&re.mode&1){var Tr=_h(q);if(Tr!==null){!(Tr.flags&65536)&&(Tr.flags|=256),ga(Tr,q,re,L,f),ff(Te);break e}}L=Te,jn!==4&&(jn=2),ro===null?ro=[L]:ro.push(L),Te=vh(Te,re),re=q;do{switch(re.tag){case 3:re.flags|=65536,f&=-f,re.lanes|=f;var ye=Km(re,Te,f);sf(re,ye);break e;case 1:L=Te;var ae=re.type,we=re.stateNode;if(!(re.flags&128)&&(typeof ae.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(as===null||!as.has(we)))){re.flags|=65536,f&=-f,re.lanes|=f;var rt=Ef(re,L,f);sf(re,rt);break e}}re=re.return}while(re!==null)}Uh(v)}catch(Tt){f=Tt,Tn===v&&v!==null&&(Tn=v=v.return);continue}break}while(!0)}function Dh(){var c=Iu.current;return Iu.current=_l,c===null?_l:c}function Nf(){(jn===0||jn===3||jn===2)&&(jn=4),Kn===null||!(Cs&268435455)&&!(Mr&268435455)||Pi(Kn,kn)}function Ou(c,f){var v=Zt;Zt|=2;var w=Dh();Kn===c&&kn===f||oo(c,f);do try{Qm();break}catch(P){Lh(c,P)}while(!0);if(Wi(),Zt=v,Iu.current=w,Tn!==null)throw Error(a(261));return Kn=null,kn=0,jn}function Qm(){for(;Tn!==null;)Nh(Tn)}function Jm(){for(;Tn!==null&&!Po();)Nh(Tn)}function Nh(c){var f=kh(c.alternate,c,Fi);c.memoizedProps=c.pendingProps,f===null?Uh(c):Tn=f,os.current=null}function Uh(c){var f=c;do{var v=f.alternate;if(c=f.return,f.flags&32768){if(v=Rf(v,f),v!==null){v.flags&=32767,Tn=v;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{jn=6,Tn=null;return}}else if(v=Cf(v,f,Fi),v!==null){Tn=v;return}if(f=f.sibling,f!==null){Tn=f;return}Tn=f=c}while(f!==null);jn===0&&(jn=5)}function us(c,f){var v=nn,w=En.transition;try{En.transition=null,nn=1,eg(c,f,v)}finally{En.transition=w,nn=v}return null}function eg(c,f,v){do Ps();while(bs!==null);if(Zt&6)throw Error(a(327));var w=c.finishedWork,P=c.finishedLanes;if(w===null)return null;if(c.finishedWork=null,c.finishedLanes=0,w===c.current)throw Error(a(177));c.callbackNode=null,c.callbackPriority=0;var L=w.lanes|w.childLanes;if(Kc(c,L),c===Kn&&(Tn=Kn=null,kn=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||Al||(Al=!0,Uf($c,function(){return Ps(),null})),L=(w.flags&15990)!==0,w.subtreeFlags&15990||L){L=En.transition,En.transition=null;var q=nn;nn=1;var re=Zt;Zt|=4,os.current=null,Eh(c,w),Qv(c,w),$(c.containerInfo),c.current=w,Au(w),qv(),Zt=re,nn=q,En.transition=L}else c.current=w;if(Al&&(Al=!1,bs=c,Pa=P),L=c.pendingLanes,L===0&&(as=null),lu(w.stateNode),sr(c,oi()),f!==null)for(v=c.onRecoverableError,w=0;w<f.length;w++)v(f[w]);if(Tl)throw Tl=!1,c=On,On=null,c;return Pa&1&&c.tag!==0&&Ps(),L=c.pendingLanes,L&1?c===so?Ra++:(Ra=0,so=c):Ra=0,Ur(),null}function Ps(){if(bs!==null){var c=Gs(Pa),f=En.transition,v=nn;try{if(En.transition=null,nn=16>c?16:c,bs===null)var w=!1;else{if(c=bs,bs=null,Pa=0,Zt&6)throw Error(a(331));var P=Zt;for(Zt|=4,Je=c.current;Je!==null;){var L=Je,q=L.child;if(Je.flags&16){var re=L.deletions;if(re!==null){for(var Te=0;Te<re.length;Te++){var Ye=re[Te];for(Je=Ye;Je!==null;){var vt=Je;switch(vt.tag){case 0:case 11:case 15:to(8,vt,L)}var Wt=vt.child;if(Wt!==null)Wt.return=vt,Je=Wt;else for(;Je!==null;){vt=Je;var Nt=vt.sibling,Jt=vt.return;if(Th(vt),vt===Ye){Je=null;break}if(Nt!==null){Nt.return=Jt,Je=Nt;break}Je=Jt}}}var ut=L.alternate;if(ut!==null){var Ri=ut.child;if(Ri!==null){ut.child=null;do{var Tr=Ri.sibling;Ri.sibling=null,Ri=Tr}while(Ri!==null)}}Je=L}}if(L.subtreeFlags&2064&&q!==null)q.return=L,Je=q;else e:for(;Je!==null;){if(L=Je,L.flags&2048)switch(L.tag){case 0:case 11:case 15:to(9,L,L.return)}var ye=L.sibling;if(ye!==null){ye.return=L.return,Je=ye;break e}Je=L.return}}var ae=c.current;for(Je=ae;Je!==null;){q=Je;var we=q.child;if(q.subtreeFlags&2064&&we!==null)we.return=q,Je=we;else e:for(q=ae;Je!==null;){if(re=Je,re.flags&2048)try{switch(re.tag){case 0:case 11:case 15:Ci(9,re)}}catch(Tt){Zi(re,re.return,Tt)}if(re===q){Je=null;break e}var rt=re.sibling;if(rt!==null){rt.return=re.return,Je=rt;break e}Je=re.return}}if(Zt=P,Ur(),ws&&typeof ws.onPostCommitFiberRoot=="function")try{ws.onPostCommitFiberRoot(au,c)}catch{}w=!0}return w}finally{nn=v,En.transition=f}}return!1}function Fu(c,f,v){f=vh(v,f),f=Km(c,f,1),Ro(c,f),f=yn(),c=Bo(c,1),c!==null&&(na(c,1,f),sr(c,f))}function Zi(c,f,v){if(c.tag===3)Fu(c,c,v);else for(;f!==null;){if(f.tag===3){Fu(f,c,v);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(as===null||!as.has(w))){c=vh(v,c),c=Ef(f,c,1),Ro(f,c),c=yn(),f=Bo(f,1),f!==null&&(na(f,1,c),sr(f,c));break}}f=f.return}}function Oh(c,f,v){var w=c.pingCache;w!==null&&w.delete(f),f=yn(),c.pingedLanes|=c.suspendedLanes&v,Kn===c&&(kn&v)===v&&(jn===4||jn===3&&(kn&130023424)===kn&&500>oi()-Lu?oo(c,0):Ca|=v),sr(c,f)}function Fh(c,f){f===0&&(c.mode&1?(f=fn,fn<<=1,!(fn&130023424)&&(fn=4194304)):f=1);var v=yn();c=Bo(c,f),c!==null&&(na(c,f,v),sr(c,v))}function tg(c){var f=c.memoizedState,v=0;f!==null&&(v=f.retryLane),Fh(c,v)}function ng(c,f){var v=0;switch(c.tag){case 13:var w=c.stateNode,P=c.memoizedState;P!==null&&(v=P.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(a(314))}w!==null&&w.delete(f),Fh(c,v)}var kh;kh=function(c,f,v){if(c!==null)if(c.memoizedProps!==f.pendingProps||un.current)yi=!0;else{if(!(c.lanes&v)&&!(f.flags&128))return yi=!1,Pf(c,f,v);yi=!!(c.flags&131072)}else yi=!1,Fn&&f.flags&1048576&&Hm(f,uf,f.index);switch(f.lanes=0,f.tag){case 2:var w=f.type;c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps;var P=Mt(f,ln.current);ol(f,v),P=ml(null,f,w,c,P,v);var L=No();return f.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,pn(w)?(L=!0,di(f)):L=!1,f.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,al(f),P.updater=af,f.stateNode=P,P._reactInternals=f,rh(f,w,c,v),f=Oi(null,f,w,!0,L,v)):(f.tag=0,Fn&&L&&sh(f),Wn(null,f,P,v),f=f.child),f;case 16:w=f.elementType;e:{switch(c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps,P=w._init,w=P(w._payload),f.type=w,P=f.tag=Jv(w),c=tr(w,c),P){case 0:f=Js(null,f,w,c,v);break e;case 1:f=va(null,f,w,c,v);break e;case 11:f=Ln(null,f,w,c,v);break e;case 14:f=bn(null,f,w,tr(w.type,c),v);break e}throw Error(a(306,w,""))}return f;case 0:return w=f.type,P=f.pendingProps,P=f.elementType===w?P:tr(w,P),Js(c,f,w,P,v);case 1:return w=f.type,P=f.pendingProps,P=f.elementType===w?P:tr(w,P),va(c,f,w,P,v);case 3:e:{if(Mu(f),c===null)throw Error(a(387));w=f.pendingProps,L=f.memoizedState,P=L.element,th(c,f),of(f,w,null,v);var q=f.memoizedState;if(w=q.element,Ne&&L.isDehydrated)if(L={element:w,isDehydrated:!1,cache:q.cache,transitions:q.transitions},f.updateQueue.baseState=L,f.memoizedState=L,f.flags&256){P=Error(a(423)),f=Sh(c,f,w,v,P);break e}else if(w!==P){P=Error(a(424)),f=Sh(c,f,w,v,P);break e}else for(Ne&&(Ti=Bc(f.stateNode.containerInfo),ji=f,Fn=!0,zr=null,ul=!1),v=jm(f,null,w,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(cl(),w===P){f=rr(c,f,v);break e}Wn(c,f,w,v)}f=f.child}return f;case 5:return Xm(f),c===null&&Lo(f),w=f.type,P=f.pendingProps,L=c!==null?c.memoizedProps:null,q=P.children,Ee(w,P)?q=null:L!==null&&Ee(w,L)&&(f.flags|=32),Xi(c,f),Wn(c,f,q,v),f.child;case 6:return c===null&&Lo(f),null;case 13:return Mh(c,f,v);case 4:return df(f,f.stateNode.containerInfo),w=f.pendingProps,c===null?f.child=qs(f,null,w,v):Wn(c,f,w,v),f.child;case 11:return w=f.type,P=f.pendingProps,P=f.elementType===w?P:tr(w,P),Ln(c,f,w,P,v);case 7:return Wn(c,f,f.pendingProps,v),f.child;case 8:return Wn(c,f,f.pendingProps.children,v),f.child;case 12:return Wn(c,f,f.pendingProps.children,v),f.child;case 10:e:{if(w=f.type._context,P=f.pendingProps,L=f.memoizedProps,q=P.value,oa(f,w,q),L!==null)if(Gi(L.value,q)){if(L.children===P.children&&!un.current){f=rr(c,f,v);break e}}else for(L=f.child,L!==null&&(L.return=f);L!==null;){var re=L.dependencies;if(re!==null){q=L.child;for(var Te=re.firstContext;Te!==null;){if(Te.context===w){if(L.tag===1){Te=js(-1,v&-v),Te.tag=2;var Ye=L.updateQueue;if(Ye!==null){Ye=Ye.shared;var vt=Ye.pending;vt===null?Te.next=Te:(Te.next=vt.next,vt.next=Te),Ye.pending=Te}}L.lanes|=v,Te=L.alternate,Te!==null&&(Te.lanes|=v),aa(L.return,v,f),re.lanes|=v;break}Te=Te.next}}else if(L.tag===10)q=L.type===f.type?null:L.child;else if(L.tag===18){if(q=L.return,q===null)throw Error(a(341));q.lanes|=v,re=q.alternate,re!==null&&(re.lanes|=v),aa(q,v,f),q=L.sibling}else q=L.child;if(q!==null)q.return=L;else for(q=L;q!==null;){if(q===f){q=null;break}if(L=q.sibling,L!==null){L.return=q.return,q=L;break}q=q.return}L=q}Wn(c,f,P.children,v),f=f.child}return f;case 9:return P=f.type,w=f.pendingProps.children,ol(f,v),P=nr(P),w=w(P),f.flags|=1,Wn(c,f,w,v),f.child;case 14:return w=f.type,P=tr(w,f.pendingProps),P=tr(w.type,P),bn(c,f,w,P,v);case 15:return Qs(c,f,f.type,f.pendingProps,v);case 17:return w=f.type,P=f.pendingProps,P=f.elementType===w?P:tr(w,P),c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,pn(w)?(c=!0,di(f)):c=!1,ol(f,v),Bm(f,w,P),rh(f,w,P,v),Oi(null,f,w,!0,c,v);case 19:return xa(c,f,v);case 22:return Ai(c,f,v)}throw Error(a(156,f.tag))};function Uf(c,f){return ia(c,f)}function ig(c,f,v,w){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(c,f,v,w){return new ig(c,f,v,w)}function Of(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Jv(c){if(typeof c=="function")return Of(c)?1:0;if(c!=null){if(c=c.$$typeof,c===T)return 11;if(c===b)return 14}return 2}function ao(c,f){var v=c.alternate;return v===null?(v=Er(c.tag,f,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=f,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&14680064,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,f=c.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v}function Ff(c,f,v,w,P,L){var q=2;if(w=c,typeof c=="function")Of(c)&&(q=1);else if(typeof c=="string")q=5;else e:switch(c){case m:return Ia(v.children,P,L,f);case g:q=8,P|=8;break;case y:return c=Er(12,v,f,P|2),c.elementType=y,c.lanes=L,c;case E:return c=Er(13,v,f,P),c.elementType=E,c.lanes=L,c;case S:return c=Er(19,v,f,P),c.elementType=S,c.lanes=L,c;case I:return ku(v,P,L,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case _:q=10;break e;case M:q=9;break e;case T:q=11;break e;case b:q=14;break e;case C:q=16,w=null;break e}throw Error(a(130,c==null?c:typeof c,""))}return f=Er(q,v,f,P),f.elementType=c,f.type=w,f.lanes=L,f}function Ia(c,f,v,w){return c=Er(7,c,w,f),c.lanes=v,c}function ku(c,f,v,w){return c=Er(22,c,w,f),c.elementType=I,c.lanes=v,c.stateNode={},c}function kf(c,f,v){return c=Er(6,c,null,f),c.lanes=v,c}function zf(c,f,v){return f=Er(4,c.children!==null?c.children:[],c.key,f),f.lanes=v,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function Bf(c,f,v,w,P){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ke,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.identifierPrefix=w,this.onRecoverableError=P,Ne&&(this.mutableSourceEagerHydrationData=null)}function rg(c,f,v,w,P,L,q,re,Te){return c=new Bf(c,f,v,re,Te),f===1?(f=1,L===!0&&(f|=8)):f=0,L=Er(3,null,null,f),c.current=L,L.stateNode=c,L.memoizedState={element:w,isDehydrated:v,cache:null,transitions:null},al(L),c}function sg(c){if(!c)return zt;c=c._reactInternals;e:{if(O(c)!==c||c.tag!==1)throw Error(a(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(pn(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(a(171))}if(c.tag===1){var v=c.type;if(pn(v))return Hs(c,v,f)}return f}function og(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(a(188)):(c=Object.keys(c).join(","),Error(a(268,c)));return c=ne(f),c===null?null:c.stateNode}function Hr(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<f?v:f}}function zu(c,f){Hr(c,f),(c=c.alternate)&&Hr(c,f)}function Vf(c){return c=ne(c),c===null?null:c.stateNode}function ag(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var f=yn();ki(c,134217728,f),zu(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=yn(),v=ls(c);ki(c,v,f),zu(c,v)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var v=er(f.pendingLanes);v!==0&&(Ms(f,v|1),sr(f,oi()),!(Zt&6)&&(ba(),Ur()))}break;case 13:var w=yn();Cl(function(){return ki(c,1,w)}),zu(c,1)}},t.batchedUpdates=function(c,f){var v=Zt;Zt|=1;try{return c(f)}finally{Zt=v,Zt===0&&(ba(),Jc&&Ur())}},t.createComponentSelector=function(c){return{$$typeof:bu,value:c}},t.createContainer=function(c,f,v,w,P,L,q){return rg(c,f,!1,null,v,w,P,L,q)},t.createHasPseudoClassSelector=function(c){return{$$typeof:wa,value:c}},t.createHydrationContainer=function(c,f,v,w,P,L,q,re,Te){return c=rg(v,w,!0,c,P,L,q,re,Te),c.context=sg(null),v=c.current,w=yn(),P=ls(v),L=js(w,P),L.callback=f??null,Ro(v,L),c.current.lanes=P,na(c,P,w),sr(c,w),c},t.createPortal=function(c,f,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:w==null?null:""+w,children:c,containerInfo:f,implementation:v}},t.createRoleSelector=function(c){return{$$typeof:Ea,value:c}},t.createTestNameSelector=function(c){return{$$typeof:no,value:c}},t.createTextSelector=function(c){return{$$typeof:wl,value:c}},t.deferredUpdates=function(c){var f=nn,v=En.transition;try{return En.transition=null,nn=16,c()}finally{nn=f,En.transition=v}},t.discreteUpdates=function(c,f,v,w,P){var L=nn,q=En.transition;try{return En.transition=null,nn=1,c(f,v,w,P)}finally{nn=L,En.transition=q,Zt===0&&ba()}},t.findAllNodes=io,t.findBoundingRects=function(c,f){if(!$e)throw Error(a(363));f=io(c,f),c=[];for(var v=0;v<f.length;v++)c.push(z(f[v]));for(f=c.length-1;0<f;f--){v=c[f];for(var w=v.x,P=w+v.width,L=v.y,q=L+v.height,re=f-1;0<=re;re--)if(f!==re){var Te=c[re],Ye=Te.x,vt=Ye+Te.width,Wt=Te.y,Nt=Wt+Te.height;if(w>=Ye&&L>=Wt&&P<=vt&&q<=Nt){c.splice(f,1);break}else if(w!==Ye||v.width!==Te.width||Nt<L||Wt>q){if(!(L!==Wt||v.height!==Te.height||vt<w||Ye>P)){Ye>w&&(Te.width+=Ye-w,Te.x=w),vt<P&&(Te.width=P-Ye),c.splice(f,1);break}}else{Wt>L&&(Te.height+=Wt-L,Te.y=L),Nt<q&&(Te.height=q-Wt),c.splice(f,1);break}}}return c},t.findHostInstance=og,t.findHostInstanceWithNoPortals=function(c){return c=H(c),c=c!==null?pe(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return og(c)},t.flushControlled=function(c){var f=Zt;Zt|=1;var v=En.transition,w=nn;try{En.transition=null,nn=1,c()}finally{nn=w,En.transition=v,Zt=f,Zt===0&&(ba(),Ur())}},t.flushPassiveEffects=Ps,t.flushSync=Cl,t.focusWithin=function(c,f){if(!$e)throw Error(a(363));for(c=Pu(c),f=Sr(c,f),f=Array.from(f),c=0;c<f.length;){var v=f[c++];if(!Ae(v)){if(v.tag===5&&Ie(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},t.getCurrentUpdatePriority=function(){return nn},t.getFindAllNodesFailureDescription=function(c,f){if(!$e)throw Error(a(363));var v=0,w=[];c=[Pu(c),0];for(var P=0;P<c.length;){var L=c[P++],q=c[P++],re=f[q];if((L.tag!==5||!Ae(L))&&(Ru(L,re)&&(w.push(ko(re)),q++,q>v&&(v=q)),q<f.length))for(L=L.child;L!==null;)c.push(L,q),L=L.sibling}if(v<f.length){for(c=[];v<f.length;v++)c.push(ko(f[v]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return he(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:Vf,findFiberByHostInstance:c.findFiberByHostInstance||ag,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{au=f.inject(c),ws=f}catch{}c=!!f.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,f,v,w){if(!$e)throw Error(a(363));c=io(c,f);var P=yt(c,v,w).disconnect;return{disconnect:function(){P()}}},t.registerMutableSourceForHydration=function(c,f){var v=f._getVersion;v=v(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,v]:c.mutableSourceEagerHydrationData.push(f,v)},t.runWithPriority=function(c,f){var v=nn;try{return nn=c,f()}finally{nn=v}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,f,v,w){var P=f.current,L=yn(),q=ls(P);return v=sg(v),f.context===null?f.context=v:f.pendingContext=v,f=js(L,q),f.payload={element:c},w=w===void 0?null:w,w!==null&&(f.callback=w),Ro(P,f),c=ki(P,q,L),c!==null&&rf(c,P,q),q},t}),O_}var W3;function c9(){return W3||(W3=1,D_.exports=u9()),D_.exports}var f9=c9();const d9=Qx(f9);var j3=L4();const E2={},h9=n=>void Object.assign(E2,n);function p9(n,e){function t(m,{args:g=[],attach:y,..._},M){let T=`${m[0].toUpperCase()}${m.slice(1)}`,E;if(m==="primitive"){if(_.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const S=_.object;E=pd(S,{type:m,root:M,attach:y,primitive:!0})}else{const S=E2[T];if(!S)throw new Error(`R3F: ${T} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(g))throw new Error("R3F: The args prop must be an array!");E=pd(new S(...g),{type:m,root:M,attach:y,memoizedProps:{args:g}})}return E.__r3f.attach===void 0&&(E.isBufferGeometry?E.__r3f.attach="geometry":E.isMaterial&&(E.__r3f.attach="material")),T!=="inject"&&z_(E,_),E}function i(m,g){let y=!1;if(g){var _,M;(_=g.__r3f)!=null&&_.attach?k_(m,g,g.__r3f.attach):g.isObject3D&&m.isObject3D&&(m.add(g),y=!0),y||(M=m.__r3f)==null||M.objects.push(g),g.__r3f||pd(g,{}),g.__r3f.parent=m,Hx(g),md(g)}}function r(m,g,y){let _=!1;if(g){var M,T;if((M=g.__r3f)!=null&&M.attach)k_(m,g,g.__r3f.attach);else if(g.isObject3D&&m.isObject3D){g.parent=m,g.dispatchEvent({type:"added"}),m.dispatchEvent({type:"childadded",child:g});const E=m.children.filter(b=>b!==g),S=E.indexOf(y);m.children=[...E.slice(0,S),g,...E.slice(S)],_=!0}_||(T=m.__r3f)==null||T.objects.push(g),g.__r3f||pd(g,{}),g.__r3f.parent=m,Hx(g),md(g)}}function s(m,g,y=!1){m&&[...m].forEach(_=>a(g,_,y))}function a(m,g,y){if(g){var _,M,T;if(g.__r3f&&(g.__r3f.parent=null),(_=m.__r3f)!=null&&_.objects&&(m.__r3f.objects=m.__r3f.objects.filter(I=>I!==g)),(M=g.__r3f)!=null&&M.attach)K3(m,g,g.__r3f.attach);else if(g.isObject3D&&m.isObject3D){var E;m.remove(g),(E=g.__r3f)!=null&&E.root&&S9(V0(g),g)}const b=(T=g.__r3f)==null?void 0:T.primitive,C=!b&&(y===void 0?g.dispose!==null:y);if(!b){var S;s((S=g.__r3f)==null?void 0:S.objects,g,C),s(g.children,g,C)}if(delete g.__r3f,C&&g.dispose&&g.type!=="Scene"){const I=()=>{try{g.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?j3.unstable_scheduleCallback(j3.unstable_IdlePriority,I):I()}md(m)}}function u(m,g,y,_){var M;const T=(M=m.__r3f)==null?void 0:M.parent;if(!T)return;const E=t(g,y,m.__r3f.root);if(m.children){for(const S of m.children)S.__r3f&&i(E,S);m.children=m.children.filter(S=>!S.__r3f)}m.__r3f.objects.forEach(S=>i(E,S)),m.__r3f.objects=[],m.__r3f.autoRemovedBeforeAppend||a(T,m),E.parent&&(E.__r3f.autoRemovedBeforeAppend=!0),i(T,E),E.raycast&&E.__r3f.eventCount&&V0(E).getState().internal.interaction.push(E),[_,_.alternate].forEach(S=>{S!==null&&(S.stateNode=E,S.ref&&(typeof S.ref=="function"?S.ref(E):S.ref.current=E))})}const d=()=>{};return{reconciler:d9({createInstance:t,removeChild:a,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(m,g)=>{if(!g)return;const y=m.getState().scene;y.__r3f&&(y.__r3f.root=m,i(y,g))},removeChildFromContainer:(m,g)=>{g&&a(m.getState().scene,g)},insertInContainerBefore:(m,g,y)=>{if(!g||!y)return;const _=m.getState().scene;_.__r3f&&r(_,g,y)},getRootHostContext:()=>null,getChildHostContext:m=>m,finalizeInitialChildren(m){var g;return!!((g=m==null?void 0:m.__r3f)!=null?g:{}).handlers},prepareUpdate(m,g,y,_){var M;if(((M=m==null?void 0:m.__r3f)!=null?M:{}).primitive&&_.object&&_.object!==m)return[!0];{const{args:E=[],children:S,...b}=_,{args:C=[],children:I,...U}=y;if(!Array.isArray(E))throw new Error("R3F: the args prop must be an array!");if(E.some((F,B)=>F!==C[B]))return[!0];const N=z4(m,b,U,!0);return N.changes.length?[!1,N]:null}},commitUpdate(m,[g,y],_,M,T,E){g?u(m,_,T,E):z_(m,y)},commitMount(m,g,y,_){var M;const T=(M=m.__r3f)!=null?M:{};m.raycast&&T.handlers&&T.eventCount&&V0(m).getState().internal.interaction.push(m)},getPublicInstance:m=>m,prepareForCommit:()=>null,preparePortalMount:m=>pd(m.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(m){var g;const{attach:y,parent:_}=(g=m.__r3f)!=null?g:{};y&&_&&K3(_,m,y),m.isObject3D&&(m.visible=!1),md(m)},unhideInstance(m,g){var y;const{attach:_,parent:M}=(y=m.__r3f)!=null?y:{};_&&M&&k_(M,m,_),(m.isObject3D&&g.visible==null||g.visible)&&(m.visible=!0),md(m)},createTextInstance:d,hideTextInstance:d,unhideTextInstance:d,getCurrentEventPriority:()=>e(),beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Hn.fun(performance.now)?performance.now:Hn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Hn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Hn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:z_}}var X3,Y3;const F_=n=>"colorSpace"in n||"outputColorSpace"in n,D4=()=>{var n;return(n=E2.ColorManagement)!=null?n:null},N4=n=>n&&n.isOrthographicCamera,m9=n=>n&&n.hasOwnProperty("current"),Im=typeof window<"u"&&((X3=window.document)!=null&&X3.createElement||((Y3=window.navigator)==null?void 0:Y3.product)==="ReactNative")?Se.useLayoutEffect:Se.useEffect;function U4(n){const e=Se.useRef(n);return Im(()=>void(e.current=n),[n]),e}function g9({set:n}){return Im(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class O4 extends Se.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}O4.getDerivedStateFromError=()=>({error:!0});const F4="__default",q3=new Map,y9=n=>n&&!!n.memoized&&!!n.changes;function k4(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const op=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function V0(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Hn={obj:n=>n===Object(n)&&!Hn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Hn.str(n)||Hn.num(n)||Hn.boo(n))return n===e;const s=Hn.obj(n);if(s&&i==="reference")return n===e;const a=Hn.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let u;for(u in n)if(!(u in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(u in r?e:n)if(!Hn.equ(n[u],e[u],{strict:r,objects:"reference"}))return!1}else for(u in r?e:n)if(n[u]!==e[u])return!1;if(Hn.und(u)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function v9(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function pd(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function Vx(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,a)=>s[a],n),{target:t,key:r}}else return{target:t,key:e}}const Z3=/-\d+$/;function k_(n,e,t){if(Hn.str(t)){if(Z3.test(t)){const s=t.replace(Z3,""),{target:a,key:u}=Vx(n,s);Array.isArray(a[u])||(a[u]=[])}const{target:i,key:r}=Vx(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function K3(n,e,t){var i,r;if(Hn.str(t)){const{target:s,key:a}=Vx(n,t),u=e.__r3f.previousAttach;u===void 0?delete s[a]:s[a]=u}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function z4(n,{children:e,key:t,ref:i,...r},{children:s,key:a,ref:u,...d}={},h=!1){const m=n.__r3f,g=Object.entries(r),y=[];if(h){const M=Object.keys(d);for(let T=0;T<M.length;T++)r.hasOwnProperty(M[T])||g.unshift([M[T],F4+"remove"])}g.forEach(([M,T])=>{var E;if((E=n.__r3f)!=null&&E.primitive&&M==="object"||Hn.equ(T,d[M]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(M))return y.push([M,T,!0,[]]);let S=[];M.includes("-")&&(S=M.split("-")),y.push([M,T,!1,S]);for(const b in r){const C=r[b];b.startsWith(`${M}-`)&&y.push([b,C,!1,b.split("-")])}});const _={...r};return m!=null&&m.memoizedProps&&m!=null&&m.memoizedProps.args&&(_.args=m.memoizedProps.args),m!=null&&m.memoizedProps&&m!=null&&m.memoizedProps.attach&&(_.attach=m.memoizedProps.attach),{memoized:_,changes:y}}function z_(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:a,changes:u}=y9(e)?e:z4(n,e),d=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=a);for(let y=0;y<u.length;y++){let[_,M,T,E]=u[y];if(F_(n)){const I="srgb",U="srgb-linear";_==="encoding"?(_="colorSpace",M=M===3001?I:U):_==="outputEncoding"&&(_="outputColorSpace",M=M===3001?I:U)}let S=n,b=S[_];if(E.length&&(b=E.reduce((C,I)=>C[I],n),!(b&&b.set))){const[C,...I]=E.reverse();S=I.reverse().reduce((U,N)=>U[N],n),_=C}if(M===F4+"remove")if(S.constructor){let C=q3.get(S.constructor);C||(C=new S.constructor,q3.set(S.constructor,C)),M=C[_]}else M=0;if(T&&i)M?i.handlers[_]=M:delete i.handlers[_],i.eventCount=Object.keys(i.handlers).length;else if(b&&b.set&&(b.copy||b instanceof Ac)){if(Array.isArray(M))b.fromArray?b.fromArray(M):b.set(...M);else if(b.copy&&M&&M.constructor&&b.constructor===M.constructor)b.copy(M);else if(M!==void 0){var h;const C=(h=b)==null?void 0:h.isColor;!C&&b.setScalar?b.setScalar(M):b instanceof Ac&&M instanceof Ac?b.mask=M.mask:b.set(M),!D4()&&s&&!s.linear&&C&&b.convertSRGBToLinear()}}else{var m;if(S[_]=M,(m=S[_])!=null&&m.isTexture&&S[_].format===hr&&S[_].type===wo&&s){const C=S[_];F_(C)&&F_(s.gl)?C.colorSpace=s.gl.outputColorSpace:C.encoding=s.gl.outputEncoding}}md(n)}if(i&&i.parent&&n.raycast&&d!==i.eventCount){const y=V0(n).getState().internal,_=y.interaction.indexOf(n);_>-1&&y.interaction.splice(_,1),i.eventCount&&y.interaction.push(n)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(t=n.__r3f)!=null&&t.parent&&Hx(n),n}function md(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function Hx(n){n.onUpdate==null||n.onUpdate(n)}function _9(n,e){n.manual||(N4(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function T0(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function x9(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return yp.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return yp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return yp.ContinuousEventPriority;default:return yp.DefaultEventPriority}}function B4(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function S9(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{B4(t.capturedMap,e,i,r)})}function M9(n){function e(d){const{internal:h}=n.getState(),m=d.offsetX-h.initialClick[0],g=d.offsetY-h.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function t(d){return d.filter(h=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=h.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function i(d,h){const m=n.getState(),g=new Set,y=[],_=h?h(m.internal.interaction):m.internal.interaction;for(let S=0;S<_.length;S++){const b=op(_[S]);b&&(b.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(d,m);function M(S){const b=op(S);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var C;b.events.compute==null||b.events.compute(d,b,(C=b.previousRoot)==null?void 0:C.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(S,!0):[]}let T=_.flatMap(M).sort((S,b)=>{const C=op(S.object),I=op(b.object);return!C||!I?S.distance-b.distance:I.events.priority-C.events.priority||S.distance-b.distance}).filter(S=>{const b=T0(S);return g.has(b)?!1:(g.add(b),!0)});m.events.filter&&(T=m.events.filter(T,m));for(const S of T){let b=S.object;for(;b;){var E;(E=b.__r3f)!=null&&E.eventCount&&y.push({...S,eventObject:b}),b=b.parent}}if("pointerId"in d&&m.internal.capturedMap.has(d.pointerId))for(let S of m.internal.capturedMap.get(d.pointerId).values())g.has(T0(S.intersection))||y.push(S.intersection);return y}function r(d,h,m,g){const y=n.getState();if(d.length){const _={stopped:!1};for(const M of d){const T=op(M.object)||y,{raycaster:E,pointer:S,camera:b,internal:C}=T,I=new X(S.x,S.y,0).unproject(b),U=D=>{var H,ne;return(H=(ne=C.capturedMap.get(D))==null?void 0:ne.has(M.eventObject))!=null?H:!1},N=D=>{const H={intersection:M,target:h.target};C.capturedMap.has(D)?C.capturedMap.get(D).set(M.eventObject,H):C.capturedMap.set(D,new Map([[M.eventObject,H]])),h.target.setPointerCapture(D)},F=D=>{const H=C.capturedMap.get(D);H&&B4(C.capturedMap,M.eventObject,H,D)};let B={};for(let D in h){let H=h[D];typeof H!="function"&&(B[D]=H)}let O={...M,...B,pointer:S,intersections:d,stopped:_.stopped,delta:m,unprojectedPoint:I,ray:E.ray,camera:b,stopPropagation(){const D="pointerId"in h&&C.capturedMap.get(h.pointerId);if((!D||D.has(M.eventObject))&&(O.stopped=_.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(H=>H.eventObject===M.eventObject))){const H=d.slice(0,d.indexOf(M));s([...H,M])}},target:{hasPointerCapture:U,setPointerCapture:N,releasePointerCapture:F},currentTarget:{hasPointerCapture:U,setPointerCapture:N,releasePointerCapture:F},nativeEvent:h};if(g(O),_.stopped===!0)break}}return d}function s(d){const{internal:h}=n.getState();for(const m of h.hovered.values())if(!d.length||!d.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const y=m.eventObject.__r3f,_=y==null?void 0:y.handlers;if(h.hovered.delete(T0(m)),y!=null&&y.eventCount){const M={...m,intersections:d};_.onPointerOut==null||_.onPointerOut(M),_.onPointerLeave==null||_.onPointerLeave(M)}}}function a(d,h){for(let m=0;m<h.length;m++){const g=h[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(d)}}function u(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return h=>{const{internal:m}=n.getState();"pointerId"in h&&m.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(h.pointerId)&&(m.capturedMap.delete(h.pointerId),s([]))})}}return function(m){const{onPointerMissed:g,internal:y}=n.getState();y.lastEvent.current=m;const _=d==="onPointerMove",M=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",E=i(m,_?t:void 0),S=M?e(m):0;d==="onPointerDown"&&(y.initialClick=[m.offsetX,m.offsetY],y.initialHits=E.map(C=>C.eventObject)),M&&!E.length&&S<=2&&(a(m,y.interaction),g&&g(m)),_&&s(E);function b(C){const I=C.eventObject,U=I.__r3f,N=U==null?void 0:U.handlers;if(U!=null&&U.eventCount)if(_){if(N.onPointerOver||N.onPointerEnter||N.onPointerOut||N.onPointerLeave){const F=T0(C),B=y.hovered.get(F);B?B.stopped&&C.stopPropagation():(y.hovered.set(F,C),N.onPointerOver==null||N.onPointerOver(C),N.onPointerEnter==null||N.onPointerEnter(C))}N.onPointerMove==null||N.onPointerMove(C)}else{const F=N[d];F?(!M||y.initialHits.includes(I))&&(a(m,y.interaction.filter(B=>!y.initialHits.includes(B))),F(C)):M&&y.initialHits.includes(I)&&a(m,y.interaction.filter(B=>!y.initialHits.includes(B)))}}r(E,m,S,b)}}return{handlePointer:u}}const V4=n=>!!(n!=null&&n.render),H4=Se.createContext(null),w9=(n,e)=>{const t=a9((u,d)=>{const h=new X,m=new X,g=new X;function y(S=d().camera,b=m,C=d().size){const{width:I,height:U,top:N,left:F}=C,B=I/U;b.isVector3?g.copy(b):g.set(...b);const O=S.getWorldPosition(h).distanceTo(g);if(N4(S))return{width:I/S.zoom,height:U/S.zoom,top:N,left:F,factor:1,distance:O,aspect:B};{const D=S.fov*Math.PI/180,H=2*Math.tan(D/2)*O,ne=H*(I/U);return{width:ne,height:H,top:N,left:F,factor:I/ne,distance:O,aspect:B}}}let _;const M=S=>u(b=>({performance:{...b.performance,current:S}})),T=new Le;return{set:u,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(S=1)=>n(d(),S),advance:(S,b)=>e(S,b,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new v2,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=d();_&&clearTimeout(_),S.performance.current!==S.performance.min&&M(S.performance.min),_=setTimeout(()=>M(d().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:S=>u(b=>({...b,events:{...b.events,...S}})),setSize:(S,b,C,I,U)=>{const N=d().camera,F={width:S,height:b,top:I||0,left:U||0,updateStyle:C};u(B=>({size:F,viewport:{...B.viewport,...y(N,m,F)}}))},setDpr:S=>u(b=>{const C=k4(S);return{viewport:{...b.viewport,dpr:C,initialDpr:b.viewport.initialDpr||C}}}),setFrameloop:(S="always")=>{const b=d().clock;b.stop(),b.elapsedTime=0,S!=="never"&&(b.start(),b.elapsedTime=0),u(()=>({frameloop:S}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Se.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(S,b,C)=>{const I=d().internal;return I.priority=I.priority+(b>0?1:0),I.subscribers.push({ref:S,priority:b,store:C}),I.subscribers=I.subscribers.sort((U,N)=>U.priority-N.priority),()=>{const U=d().internal;U!=null&&U.subscribers&&(U.priority=U.priority-(b>0?1:0),U.subscribers=U.subscribers.filter(N=>N.ref!==S))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,a=i.camera;return t.subscribe(()=>{const{camera:u,size:d,viewport:h,gl:m,set:g}=t.getState();if(d.width!==r.width||d.height!==r.height||h.dpr!==s){var y;r=d,s=h.dpr,_9(u,d),m.setPixelRatio(h.dpr);const _=(y=d.updateStyle)!=null?y:typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(d.width,d.height,_)}u!==a&&(a=u,g(_=>({viewport:{..._.viewport,..._.viewport.getCurrentViewport(u)}})))}),t.subscribe(u=>n(u)),t};function E9(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}let A0,G4=new Set,T9=new Set,A9=new Set;const C9=n=>E9(n,G4);function B_(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function ap(n,e){switch(n){case"before":return B_(G4,e);case"after":return B_(T9,e);case"tail":return B_(A9,e)}}let V_,H_;function G_(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),V_=e.internal.subscribers,A0=0;A0<V_.length;A0++)H_=V_[A0],H_.ref.current(H_.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function b9(n){let e=!1,t=!1,i,r,s;function a(h){r=requestAnimationFrame(a),e=!0,i=0,ap("before",h),t=!0;for(const g of n.values()){var m;s=g.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((m=s.gl.xr)!=null&&m.isPresenting)&&(i+=G_(h,s))}if(t=!1,ap("after",h),i===0)return ap("tail",h),e=!1,cancelAnimationFrame(r)}function u(h,m=1){var g;if(!h)return n.forEach(y=>u(y.store.getState(),m));(g=h.gl.xr)!=null&&g.isPresenting||!h.internal.active||h.frameloop==="never"||(m>1?h.internal.frames=Math.min(60,h.internal.frames+m):t?h.internal.frames=2:h.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function d(h,m=!0,g,y){if(m&&ap("before",h),g)G_(h,g,y);else for(const _ of n.values())G_(h,_.store.getState());m&&ap("after",h)}return{loop:a,invalidate:u,advance:d}}function W4(){const n=Se.useContext(H4);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Ba(n=t=>t,e){return W4()(n,e)}function T2(n,e=0){const t=W4(),i=t.getState().internal.subscribe,r=U4(n);return Im(()=>i(r,e,t),[e,i,t]),null}const Hd=new Map,{invalidate:$3,advance:Q3}=b9(Hd),{reconciler:Gy,applyProps:fc}=p9(Hd,x9),fd={objects:"shallow",strict:!1},P9=(n,e)=>{const t=typeof n=="function"?n(e):n;return V4(t)?t:new R4({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function R9(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:a,updateStyle:u=t}=e;return{width:i,height:r,top:s,left:a,updateStyle:u}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:a}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:a,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function I9(n){const e=Hd.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||w9($3,Q3),a=t||Gy.createContainer(s,yp.ConcurrentRoot,null,!1,null,"",r,null);e||Hd.set(n,{fiber:a,store:s});let u,d=!1,h;return{configure(m={}){let{gl:g,size:y,scene:_,events:M,onCreated:T,shadows:E=!1,linear:S=!1,flat:b=!1,legacy:C=!1,orthographic:I=!1,frameloop:U="always",dpr:N=[1,2],performance:F,raycaster:B,camera:O,onPointerMissed:D}=m,H=s.getState(),ne=H.gl;H.gl||H.set({gl:ne=P9(g,n)});let ee=H.raycaster;ee||H.set({raycaster:ee=new M4});const{params:pe,...Me}=B||{};if(Hn.equ(Me,ee,fd)||fc(ee,{...Me}),Hn.equ(pe,ee.params,fd)||fc(ee,{params:{...ee.params,...pe}}),!H.camera||H.camera===h&&!Hn.equ(h,O,fd)){h=O;const $=O instanceof wm,W=$?O:I?new Zl(0,0,0,0,.1,1e3):new fi(75,0,.1,1e3);$||(W.position.z=5,O&&(fc(W,O),("aspect"in O||"left"in O||"right"in O||"bottom"in O||"top"in O)&&(W.manual=!0,W.updateProjectionMatrix())),!H.camera&&!(O!=null&&O.rotation)&&W.lookAt(0,0,0)),H.set({camera:W}),ee.camera=W}if(!H.scene){let $;_!=null&&_.isScene?$=_:($=new QS,_&&fc($,_)),H.set({scene:pd($)})}if(!H.xr){var he;const $=(Oe,ue)=>{const Ee=s.getState();Ee.frameloop!=="never"&&Q3(Oe,!0,Ee,ue)},W=()=>{const Oe=s.getState();Oe.gl.xr.enabled=Oe.gl.xr.isPresenting,Oe.gl.xr.setAnimationLoop(Oe.gl.xr.isPresenting?$:null),Oe.gl.xr.isPresenting||$3(Oe)},se={connect(){const Oe=s.getState().gl;Oe.xr.addEventListener("sessionstart",W),Oe.xr.addEventListener("sessionend",W)},disconnect(){const Oe=s.getState().gl;Oe.xr.removeEventListener("sessionstart",W),Oe.xr.removeEventListener("sessionend",W)}};typeof((he=ne.xr)==null?void 0:he.addEventListener)=="function"&&se.connect(),H.set({xr:se})}if(ne.shadowMap){const $=ne.shadowMap.enabled,W=ne.shadowMap.type;if(ne.shadowMap.enabled=!!E,Hn.boo(E))ne.shadowMap.type=Ep;else if(Hn.str(E)){var me;const se={basic:NC,percentage:uv,soft:Ep,variance:yo};ne.shadowMap.type=(me=se[E])!=null?me:Ep}else Hn.obj(E)&&Object.assign(ne.shadowMap,E);($!==ne.shadowMap.enabled||W!==ne.shadowMap.type)&&(ne.shadowMap.needsUpdate=!0)}const G=D4();G&&("enabled"in G?G.enabled=!C:"legacyMode"in G&&(G.legacyMode=C)),d||fc(ne,{outputEncoding:S?3e3:3001,toneMapping:b?Zo:OS}),H.legacy!==C&&H.set(()=>({legacy:C})),H.linear!==S&&H.set(()=>({linear:S})),H.flat!==b&&H.set(()=>({flat:b})),g&&!Hn.fun(g)&&!V4(g)&&!Hn.equ(g,ne,fd)&&fc(ne,g),M&&!H.events.handlers&&H.set({events:M(s)});const te=R9(n,y);return Hn.equ(te,H.size,fd)||H.setSize(te.width,te.height,te.updateStyle,te.top,te.left),N&&H.viewport.dpr!==k4(N)&&H.setDpr(N),H.frameloop!==U&&H.setFrameloop(U),H.onPointerMissed||H.set({onPointerMissed:D}),F&&!Hn.equ(F,H.performance,fd)&&H.set($=>({performance:{...$.performance,...F}})),u=T,d=!0,this},render(m){return d||this.configure(),Gy.updateContainer(je.jsx(L9,{store:s,children:m,onCreated:u,rootElement:n}),a,null,()=>{}),s},unmount(){j4(n)}}}function L9({store:n,children:e,onCreated:t,rootElement:i}){return Im(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),je.jsx(H4.Provider,{value:n,children:e})}function j4(n,e){const t=Hd.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),Gy.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,a,u,d;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(u=r.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(d=r.gl)!=null&&d.xr&&r.xr.disconnect(),v9(r),Hd.delete(n)}catch{}},500)})}}Gy.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Se.version});const W_={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function D9(n){const{handlePointer:e}=M9(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(W_).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(a=>({events:{...a.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([a,u])=>{const[d,h]=W_[a];t.addEventListener(d,u,{passive:h})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,a])=>{if(i&&i.connected instanceof HTMLElement){const[u]=W_[s];i.connected.removeEventListener(u,a)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}var j_,J3;function N9(){if(J3)return j_;J3=1;function n(e,t,i){var r,s,a,u,d;t==null&&(t=100);function h(){var g=Date.now()-u;g<t&&g>=0?r=setTimeout(h,t-g):(r=null,i||(d=e.apply(a,s),a=s=null))}var m=function(){a=this,s=arguments,u=Date.now();var g=i&&!r;return r||(r=setTimeout(h,t)),g&&(d=e.apply(a,s),a=s=null),d};return m.clear=function(){r&&(clearTimeout(r),r=null)},m.flush=function(){r&&(d=e.apply(a,s),a=s=null,clearTimeout(r),r=null)},m}return n.debounce=n,j_=n,j_}var U9=N9();const eT=Qx(U9);var O9=Object.defineProperty,F9=Object.defineProperties,k9=Object.getOwnPropertyDescriptors,tT=Object.getOwnPropertySymbols,z9=Object.prototype.hasOwnProperty,B9=Object.prototype.propertyIsEnumerable,nT=(n,e,t)=>e in n?O9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,iT=(n,e)=>{for(var t in e||(e={}))z9.call(e,t)&&nT(n,t,e[t]);if(tT)for(var t of tT(e))B9.call(e,t)&&nT(n,t,e[t]);return n},V9=(n,e)=>F9(n,k9(e)),rT,sT;typeof window<"u"&&((rT=window.document)!=null&&rT.createElement||((sT=window.navigator)==null?void 0:sT.product)==="ReactNative")?Se.useLayoutEffect:Se.useEffect;function X4(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=n.child;for(;i;){const r=X4(i,e,t);if(r)return r;i=i.sibling}}function Y4(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const oT=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=oT;return}return oT.apply(this,arguments)};const A2=Y4(Se.createContext(null));class q4 extends Se.Component{render(){return Se.createElement(A2.Provider,{value:this._reactInternals},this.props.children)}}function H9(){const n=Se.useContext(A2);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Se.useId();return Se.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=X4(i,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[n,e])}function G9(){const n=H9(),[e]=Se.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==A2&&!e.has(r)&&e.set(r,Se.useContext(Y4(r)))}t=t.return}return e}function W9(){const n=G9();return Se.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>Se.createElement(e,null,Se.createElement(t.Provider,V9(iT({},i),{value:n.get(t)}))),e=>Se.createElement(q4,iT({},e))),[n])}function j9({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||typeof window<"u"&&window.ResizeObserver,[s,a]=Se.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!r)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const u=Se.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),d=n?typeof n=="number"?n:n.scroll:null,h=n?typeof n=="number"?n:n.resize:null,m=Se.useRef(!1);Se.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,y,_]=Se.useMemo(()=>{const S=()=>{if(!u.current.element)return;const{left:b,top:C,width:I,height:U,bottom:N,right:F,x:B,y:O}=u.current.element.getBoundingClientRect(),D={left:b,top:C,width:I,height:U,bottom:N,right:F,x:B,y:O};u.current.element instanceof HTMLElement&&i&&(D.height=u.current.element.offsetHeight,D.width=u.current.element.offsetWidth),Object.freeze(D),m.current&&!Z9(u.current.lastBounds,D)&&a(u.current.lastBounds=D)};return[S,h?eT(S,h):S,d?eT(S,d):S]},[a,i,d,h]);function M(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",_,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function T(){var S;u.current.element&&(u.current.resizeObserver=new r(y),(S=u.current.resizeObserver)==null||S.observe(u.current.element),e&&u.current.scrollContainers&&u.current.scrollContainers.forEach(b=>b.addEventListener("scroll",_,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{_()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const E=S=>{!S||S===u.current.element||(M(),u.current.element=S,u.current.scrollContainers=Z4(S),T())};return Y9(_,!!e),X9(y),Se.useEffect(()=>{M(),T()},[e,_,y]),Se.useEffect(()=>M,[]),[E,s,g]}function X9(n){Se.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Y9(n,e){Se.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Z4(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...Z4(n.parentElement)]}const q9=["x","y","top","bottom","left","right","width","height"],Z9=(n,e)=>q9.every(t=>n[t]===e[t]),K9=Se.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:a=D9,eventSource:u,eventPrefix:d,shadows:h,linear:m,flat:g,legacy:y,orthographic:_,frameloop:M,dpr:T,performance:E,raycaster:S,camera:b,scene:C,onPointerMissed:I,onCreated:U,...N},F){Se.useMemo(()=>h9(I4),[]);const B=W9(),[O,D]=j9({scroll:!0,debounce:{scroll:50,resize:0},...i}),H=Se.useRef(null),ne=Se.useRef(null);Se.useImperativeHandle(F,()=>H.current);const ee=U4(I),[pe,Me]=Se.useState(!1),[he,me]=Se.useState(!1);if(pe)throw pe;if(he)throw he;const G=Se.useRef(null);Im(()=>{const $=H.current;D.width>0&&D.height>0&&$&&(G.current||(G.current=I9($)),G.current.configure({gl:s,events:a,shadows:h,linear:m,flat:g,legacy:y,orthographic:_,frameloop:M,dpr:T,performance:E,raycaster:S,camera:b,scene:C,size:D,onPointerMissed:(...W)=>ee.current==null?void 0:ee.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(u?m9(u)?u.current:u:ne.current),d&&W.setEvents({compute:(se,Oe)=>{const ue=se[d+"X"],Ee=se[d+"Y"];Oe.pointer.set(ue/Oe.size.width*2-1,-(Ee/Oe.size.height)*2+1),Oe.raycaster.setFromCamera(Oe.pointer,Oe.camera)}}),U==null||U(W)}}),G.current.render(je.jsx(B,{children:je.jsx(O4,{set:me,children:je.jsx(Se.Suspense,{fallback:je.jsx(g9,{set:Me}),children:e})})})))}),Se.useEffect(()=>{const $=H.current;if($)return()=>j4($)},[]);const te=u?"none":"auto";return je.jsx("div",{ref:ne,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:te,...r},...N,children:je.jsx("div",{ref:O,style:{width:"100%",height:"100%"},children:je.jsx("canvas",{ref:H,style:{display:"block"},children:t})})})}),$9=Se.forwardRef(function(e,t){return je.jsx(q4,{children:je.jsx(K9,{...e,ref:t})})});function Gx(){return Gx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Gx.apply(null,arguments)}var C2=Dm(),qt=n=>Lm(n,C2),b2=Dm();qt.write=n=>Lm(n,b2);var Vv=Dm();qt.onStart=n=>Lm(n,Vv);var P2=Dm();qt.onFrame=n=>Lm(n,P2);var R2=Dm();qt.onFinish=n=>Lm(n,R2);var bd=[];qt.setTimeout=(n,e)=>{const t=qt.now()+e,i=()=>{const s=bd.findIndex(a=>a.cancel==i);~s&&bd.splice(s,1),ql-=~s?1:0},r={time:t,handler:n,cancel:i};return bd.splice(K4(t),0,r),ql+=1,$4(),r};var K4=n=>~(~bd.findIndex(e=>e.time>n)||~bd.length);qt.cancel=n=>{Vv.delete(n),P2.delete(n),R2.delete(n),C2.delete(n),b2.delete(n)};qt.sync=n=>{Wx=!0,qt.batchedUpdates(n),Wx=!1};qt.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function i(...r){e=r,qt.onStart(t)}return i.handler=n,i.cancel=()=>{Vv.delete(t),e=null},i};var I2=typeof window<"u"?window.requestAnimationFrame:()=>{};qt.use=n=>I2=n;qt.now=typeof performance<"u"?()=>performance.now():Date.now;qt.batchedUpdates=n=>n();qt.catch=console.error;qt.frameLoop="always";qt.advance=()=>{qt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):J4()};var Yl=-1,ql=0,Wx=!1;function Lm(n,e){Wx?(e.delete(n),n(0)):(e.add(n),$4())}function $4(){Yl<0&&(Yl=0,qt.frameLoop!=="demand"&&I2(Q4))}function Q9(){Yl=-1}function Q4(){~Yl&&(I2(Q4),qt.batchedUpdates(J4))}function J4(){const n=Yl;Yl=qt.now();const e=K4(Yl);if(e&&(eP(bd.splice(0,e),t=>t.handler()),ql-=e),!ql){Q9();return}Vv.flush(),C2.flush(n?Math.min(64,Yl-n):16.667),P2.flush(),b2.flush(),R2.flush()}function Dm(){let n=new Set,e=n;return{add(t){ql+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return ql-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,ql-=e.size,eP(e,i=>i(t)&&n.add(i)),ql+=n.size,e=n)}}}function eP(n,e){n.forEach(t=>{try{e(t)}catch(i){qt.catch(i)}})}var J9=Object.defineProperty,eB=(n,e)=>{for(var t in e)J9(n,t,{get:e[t],enumerable:!0})},Eo={};eB(Eo,{assign:()=>nB,colors:()=>Kl,createStringInterpolator:()=>D2,skipAnimation:()=>nP,to:()=>tP,willAdvance:()=>N2});function jx(){}var tB=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),et={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function Ha(n,e){if(et.arr(n)){if(!et.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}var Cn=(n,e)=>n.forEach(e);function nl(n,e,t){if(et.arr(n)){for(let i=0;i<n.length;i++)e.call(t,n[i],`${i}`);return}for(const i in n)n.hasOwnProperty(i)&&e.call(t,n[i],i)}var ks=n=>et.und(n)?[]:et.arr(n)?n:[n];function Np(n,e){if(n.size){const t=Array.from(n);n.clear(),Cn(t,e)}}var vp=(n,...e)=>Np(n,t=>t(...e)),L2=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),D2,tP,Kl=null,nP=!1,N2=jx,nB=n=>{n.to&&(tP=n.to),n.now&&(qt.now=n.now),n.colors!==void 0&&(Kl=n.colors),n.skipAnimation!=null&&(nP=n.skipAnimation),n.createStringInterpolator&&(D2=n.createStringInterpolator),n.requestAnimationFrame&&qt.use(n.requestAnimationFrame),n.batchedUpdates&&(qt.batchedUpdates=n.batchedUpdates),n.willAdvance&&(N2=n.willAdvance),n.frameLoop&&(qt.frameLoop=n.frameLoop)},Up=new Set,Os=[],X_=[],Wy=0,Hv={get idle(){return!Up.size&&!Os.length},start(n){Wy>n.priority?(Up.add(n),qt.onStart(iB)):(iP(n),qt(Xx))},advance:Xx,sort(n){if(Wy)qt.onFrame(()=>Hv.sort(n));else{const e=Os.indexOf(n);~e&&(Os.splice(e,1),rP(n))}},clear(){Os=[],Up.clear()}};function iB(){Up.forEach(iP),Up.clear(),qt(Xx)}function iP(n){Os.includes(n)||rP(n)}function rP(n){Os.splice(rB(Os,e=>e.priority>n.priority),0,n)}function Xx(n){const e=X_;for(let t=0;t<Os.length;t++){const i=Os[t];Wy=i.priority,i.idle||(N2(i),i.advance(n),i.idle||e.push(i))}return Wy=0,X_=Os,X_.length=0,Os=e,Os.length>0}function rB(n,e){const t=n.findIndex(e);return t<0?n.length:t}var sB=(n,e,t)=>Math.min(Math.max(t,n),e),oB={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},So="[-+]?\\d*\\.?\\d+",jy=So+"%";function Gv(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var aB=new RegExp("rgb"+Gv(So,So,So)),lB=new RegExp("rgba"+Gv(So,So,So,So)),uB=new RegExp("hsl"+Gv(So,jy,jy)),cB=new RegExp("hsla"+Gv(So,jy,jy,So)),fB=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,dB=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hB=/^#([0-9a-fA-F]{6})$/,pB=/^#([0-9a-fA-F]{8})$/;function mB(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=hB.exec(n))?parseInt(e[1]+"ff",16)>>>0:Kl&&Kl[n]!==void 0?Kl[n]:(e=aB.exec(n))?(dd(e[1])<<24|dd(e[2])<<16|dd(e[3])<<8|255)>>>0:(e=lB.exec(n))?(dd(e[1])<<24|dd(e[2])<<16|dd(e[3])<<8|uT(e[4]))>>>0:(e=fB.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=pB.exec(n))?parseInt(e[1],16)>>>0:(e=dB.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=uB.exec(n))?(aT(lT(e[1]),C0(e[2]),C0(e[3]))|255)>>>0:(e=cB.exec(n))?(aT(lT(e[1]),C0(e[2]),C0(e[3]))|uT(e[4]))>>>0:null}function Y_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function aT(n,e,t){const i=t<.5?t*(1+e):t+e-t*e,r=2*t-i,s=Y_(r,i,n+1/3),a=Y_(r,i,n),u=Y_(r,i,n-1/3);return Math.round(s*255)<<24|Math.round(a*255)<<16|Math.round(u*255)<<8}function dd(n){const e=parseInt(n,10);return e<0?0:e>255?255:e}function lT(n){return(parseFloat(n)%360+360)%360/360}function uT(n){const e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function C0(n){const e=parseFloat(n);return e<0?0:e>100?1:e/100}function cT(n){let e=mB(n);if(e===null)return n;e=e||0;const t=(e&4278190080)>>>24,i=(e&16711680)>>>16,r=(e&65280)>>>8,s=(e&255)/255;return`rgba(${t}, ${i}, ${r}, ${s})`}var am=(n,e,t)=>{if(et.fun(n))return n;if(et.arr(n))return am({range:n,output:e,extrapolate:t});if(et.str(n.output[0]))return D2(n);const i=n,r=i.output,s=i.range||[0,1],a=i.extrapolateLeft||i.extrapolate||"extend",u=i.extrapolateRight||i.extrapolate||"extend",d=i.easing||(h=>h);return h=>{const m=yB(h,s);return gB(h,s[m],s[m+1],r[m],r[m+1],d,a,u,i.map)}};function gB(n,e,t,i,r,s,a,u,d){let h=d?d(n):n;if(h<e){if(a==="identity")return h;a==="clamp"&&(h=e)}if(h>t){if(u==="identity")return h;u==="clamp"&&(h=t)}return i===r?i:e===t?n<=e?i:r:(e===-1/0?h=-h:t===1/0?h=h-e:h=(h-e)/(t-e),h=s(h),i===-1/0?h=-h:r===1/0?h=h+i:h=h*(r-i)+i,h)}function yB(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}var vB=(n,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);const i=t*n,r=e==="end"?Math.floor(i):Math.ceil(i);return sB(0,1,r/n)},Xy=1.70158,b0=Xy*1.525,fT=Xy+1,dT=2*Math.PI/3,hT=2*Math.PI/4.5,P0=n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,_B={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>fT*n*n*n-Xy*n*n,easeOutBack:n=>1+fT*Math.pow(n-1,3)+Xy*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((b0+1)*2*n-b0)/2:(Math.pow(2*n-2,2)*((b0+1)*(n*2-2)+b0)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*dT),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*dT)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*hT))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*hT)/2+1,easeInBounce:n=>1-P0(1-n),easeOutBounce:P0,easeInOutBounce:n=>n<.5?(1-P0(1-2*n))/2:(1+P0(2*n-1))/2,steps:vB},lm=Symbol.for("FluidValue.get"),Gd=Symbol.for("FluidValue.observers"),Wo=n=>!!(n&&n[lm]),Us=n=>n&&n[lm]?n[lm]():n,pT=n=>n[Gd]||null;function xB(n,e){n.eventObserved?n.eventObserved(e):n(e)}function Yy(n,e){const t=n[Gd];t&&t.forEach(i=>{xB(i,e)})}var SB=class{constructor(n){if(!n&&!(n=this.get))throw Error("Unknown getter");MB(this,n)}},MB=(n,e)=>sP(n,lm,e);function Nm(n,e){if(n[lm]){let t=n[Gd];t||sP(n,Gd,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function qy(n,e){const t=n[Gd];if(t&&t.has(e)){const i=t.size-1;i?t.delete(e):n[Gd]=null,n.observerRemoved&&n.observerRemoved(i,e)}}var sP=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),H0=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,wB=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,mT=new RegExp(`(${H0.source})(%|[a-z]+)`,"i"),EB=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Wv=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,oP=n=>{const[e,t]=TB(n);if(!e||L2())return n;const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(i)return i.trim();if(t&&t.startsWith("--")){const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);return r||n}else{if(t&&Wv.test(t))return oP(t);if(t)return t}return n},TB=n=>{const e=Wv.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]},q_,AB=(n,e,t,i,r)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(i)}, ${r})`,aP=n=>{q_||(q_=Kl?new RegExp(`(${Object.keys(Kl).join("|")})(?!\\w)`,"g"):/^\b$/);const e=n.output.map(s=>Us(s).replace(Wv,oP).replace(wB,cT).replace(q_,cT)),t=e.map(s=>s.match(H0).map(Number)),r=t[0].map((s,a)=>t.map(u=>{if(!(a in u))throw Error('The arity of each "output" value must be equal');return u[a]})).map(s=>am({...n,output:s}));return s=>{var d;const a=!mT.test(e[0])&&((d=e.find(h=>mT.test(h)))==null?void 0:d.replace(H0,""));let u=0;return e[0].replace(H0,()=>`${r[u++](s)}${a||""}`).replace(EB,AB)}},U2="react-spring: ",lP=n=>{const e=n;let t=!1;if(typeof e!="function")throw new TypeError(`${U2}once requires a function parameter`);return(...i)=>{t||(e(...i),t=!0)}},CB=lP(console.warn);function bB(){CB(`${U2}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var PB=lP(console.warn);function RB(){PB(`${U2}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function jv(n){return et.str(n)&&(n[0]=="#"||/\d/.test(n)||!L2()&&Wv.test(n)||n in(Kl||{}))}var O2=L2()?Se.useEffect:Se.useLayoutEffect,IB=()=>{const n=Se.useRef(!1);return O2(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function uP(){const n=Se.useState()[1],e=IB();return()=>{e.current&&n(Math.random())}}function LB(n,e){const[t]=Se.useState(()=>({inputs:e,result:n()})),i=Se.useRef(),r=i.current;let s=r;return s?s.inputs&&DB(e,s.inputs)||(s={inputs:e,result:n()}):s=t,Se.useEffect(()=>{i.current=s,r==t&&(t.inputs=t.result=void 0)},[s]),s.result}function DB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var cP=n=>Se.useEffect(n,NB),NB=[];function gT(n){const e=Se.useRef();return Se.useEffect(()=>{e.current=n}),e.current}var um=Symbol.for("Animated:node"),UB=n=>!!n&&n[um]===n,Ho=n=>n&&n[um],F2=(n,e)=>tB(n,um,e),Xv=n=>n&&n[um]&&n[um].getPayload(),fP=class{constructor(){F2(this,this)}getPayload(){return this.payload||[]}},Um=class extends fP{constructor(n){super(),this._value=n,this.done=!0,this.durationProgress=0,et.num(this._value)&&(this.lastPosition=this._value)}static create(n){return new Um(n)}getPayload(){return[this]}getValue(){return this._value}setValue(n,e){return et.num(n)&&(this.lastPosition=n,e&&(n=Math.round(n/e)*e,this.done&&(this.lastPosition=n))),this._value===n?!1:(this._value=n,!0)}reset(){const{done:n}=this;this.done=!1,et.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,n&&(this.lastVelocity=null),this.v0=null)}},cm=class extends Um{constructor(n){super(0),this._string=null,this._toString=am({output:[n,n]})}static create(n){return new cm(n)}getValue(){const n=this._string;return n??(this._string=this._toString(this._value))}setValue(n){if(et.str(n)){if(n==this._string)return!1;this._string=n,this._value=1}else if(super.setValue(n))this._string=null;else return!1;return!0}reset(n){n&&(this._toString=am({output:[this.getValue(),n]})),this._value=0,super.reset()}},Zy={dependencies:null},k2=class extends fP{constructor(n){super(),this.source=n,this.setValue(n)}getValue(n){const e={};return nl(this.source,(t,i)=>{UB(t)?e[i]=t.getValue(n):Wo(t)?e[i]=Us(t):n||(e[i]=t)}),e}setValue(n){this.source=n,this.payload=this._makePayload(n)}reset(){this.payload&&Cn(this.payload,n=>n.reset())}_makePayload(n){if(n){const e=new Set;return nl(n,this._addToPayload,e),Array.from(e)}}_addToPayload(n){Zy.dependencies&&Wo(n)&&Zy.dependencies.add(n);const e=Xv(n);e&&Cn(e,t=>this.add(t))}},dP=class extends k2{constructor(n){super(n)}static create(n){return new dP(n)}getValue(){return this.source.map(n=>n.getValue())}setValue(n){const e=this.getPayload();return n.length==e.length?e.map((t,i)=>t.setValue(n[i])).some(Boolean):(super.setValue(n.map(OB)),!0)}};function OB(n){return(jv(n)?cm:Um).create(n)}function Yx(n){const e=Ho(n);return e?e.constructor:et.arr(n)?dP:jv(n)?cm:Um}var yT=(n,e)=>{const t=!et.fun(n)||n.prototype&&n.prototype.isReactComponent;return Se.forwardRef((i,r)=>{const s=Se.useRef(null),a=t&&Se.useCallback(M=>{s.current=zB(r,M)},[r]),[u,d]=kB(i,e),h=uP(),m=()=>{const M=s.current;if(t&&!M)return;(M?e.applyAnimatedValues(M,u.getValue(!0)):!1)===!1&&h()},g=new FB(m,d),y=Se.useRef();O2(()=>(y.current=g,Cn(d,M=>Nm(M,g)),()=>{y.current&&(Cn(y.current.deps,M=>qy(M,y.current)),qt.cancel(y.current.update))})),Se.useEffect(m,[]),cP(()=>()=>{const M=y.current;Cn(M.deps,T=>qy(T,M))});const _=e.getComponentProps(u.getValue());return Se.createElement(n,{..._,ref:a})})},FB=class{constructor(n,e){this.update=n,this.deps=e}eventObserved(n){n.type=="change"&&qt.write(this.update)}};function kB(n,e){const t=new Set;return Zy.dependencies=t,n.style&&(n={...n,style:e.createAnimatedStyle(n.style)}),n=new k2(n),Zy.dependencies=null,[n,t]}function zB(n,e){return n&&(et.fun(n)?n(e):n.current=e),e}var vT=Symbol.for("AnimatedComponent"),BB=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=r=>new k2(r),getComponentProps:i=r=>r}={})=>{const r={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:i},s=a=>{const u=_T(a)||"Anonymous";return et.str(a)?a=s[a]||(s[a]=yT(a,r)):a=a[vT]||(a[vT]=yT(a,r)),a.displayName=`Animated(${u})`,a};return nl(n,(a,u)=>{et.arr(n)&&(u=_T(a)),s[u]=s(a)}),{animated:s}},_T=n=>et.str(n)?n:n&&et.str(n.displayName)?n.displayName:et.fun(n)&&n.name||null;function hc(n,...e){return et.fun(n)?n(...e):n}var Op=(n,e)=>n===!0||!!(e&&n&&(et.fun(n)?n(e):ks(n).includes(e))),hP=(n,e)=>et.obj(n)?e&&n[e]:n,pP=(n,e)=>n.default===!0?n[e]:n.default?n.default[e]:void 0,VB=n=>n,z2=(n,e=VB)=>{let t=HB;n.default&&n.default!==!0&&(n=n.default,t=Object.keys(n));const i={};for(const r of t){const s=e(n[r],r);et.und(s)||(i[r]=s)}return i},HB=["config","onProps","onStart","onChange","onPause","onResume","onRest"],GB={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function WB(n){const e={};let t=0;if(nl(n,(i,r)=>{GB[r]||(e[r]=i,t++)}),t)return e}function mP(n){const e=WB(n);if(e){const t={to:e};return nl(n,(i,r)=>r in e||(t[r]=i)),t}return{...n}}function fm(n){return n=Us(n),et.arr(n)?n.map(fm):jv(n)?Eo.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function jB(n){for(const e in n)return!0;return!1}function qx(n){return et.fun(n)||et.arr(n)&&et.obj(n[0])}function XB(n,e){var t;(t=n.ref)==null||t.delete(n),e==null||e.delete(n)}function YB(n,e){var t;e&&n.ref!==e&&((t=n.ref)==null||t.delete(n),e.add(n),n.ref=e)}var qB={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Zx={...qB.default,mass:1,damping:1,easing:_B.linear,clamp:!1},ZB=class{constructor(){this.velocity=0,Object.assign(this,Zx)}};function KB(n,e,t){t&&(t={...t},xT(t,e),e={...t,...e}),xT(n,e),Object.assign(n,e);for(const a in Zx)n[a]==null&&(n[a]=Zx[a]);let{frequency:i,damping:r}=n;const{mass:s}=n;return et.und(i)||(i<.01&&(i=.01),r<0&&(r=0),n.tension=Math.pow(2*Math.PI/i,2)*s,n.friction=4*Math.PI*r*s/i),n}function xT(n,e){if(!et.und(e.decay))n.duration=void 0;else{const t=!et.und(e.tension)||!et.und(e.friction);(t||!et.und(e.frequency)||!et.und(e.damping)||!et.und(e.mass))&&(n.duration=void 0,n.decay=void 0),t&&(n.frequency=void 0)}}var ST=[],$B=class{constructor(){this.changed=!1,this.values=ST,this.toValues=null,this.fromValues=ST,this.config=new ZB,this.immediate=!1}};function gP(n,{key:e,props:t,defaultProps:i,state:r,actions:s}){return new Promise((a,u)=>{let d,h,m=Op(t.cancel??(i==null?void 0:i.cancel),e);if(m)_();else{et.und(t.pause)||(r.paused=Op(t.pause,e));let M=i==null?void 0:i.pause;M!==!0&&(M=r.paused||Op(M,e)),d=hc(t.delay||0,e),M?(r.resumeQueue.add(y),s.pause()):(s.resume(),y())}function g(){r.resumeQueue.add(y),r.timeouts.delete(h),h.cancel(),d=h.time-qt.now()}function y(){d>0&&!Eo.skipAnimation?(r.delayed=!0,h=qt.setTimeout(_,d),r.pauseQueue.add(g),r.timeouts.add(h)):_()}function _(){r.delayed&&(r.delayed=!1),r.pauseQueue.delete(g),r.timeouts.delete(h),n<=(r.cancelId||0)&&(m=!0);try{s.start({...t,callId:n,cancel:m},a)}catch(M){u(M)}}})}var B2=(n,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?Pd(n.get()):e.every(t=>t.noop)?yP(n.get()):_o(n.get(),e.every(t=>t.finished)),yP=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),_o=(n,e,t=!1)=>({value:n,finished:e,cancelled:t}),Pd=n=>({value:n,cancelled:!0,finished:!1});function vP(n,e,t,i){const{callId:r,parentId:s,onRest:a}=e,{asyncTo:u,promise:d}=t;return!s&&n===u&&!e.reset?d:t.promise=(async()=>{t.asyncId=r,t.asyncTo=n;const h=z2(e,(E,S)=>S==="onRest"?void 0:E);let m,g;const y=new Promise((E,S)=>(m=E,g=S)),_=E=>{const S=r<=(t.cancelId||0)&&Pd(i)||r!==t.asyncId&&_o(i,!1);if(S)throw E.result=S,g(E),E},M=(E,S)=>{const b=new MT,C=new wT;return(async()=>{if(Eo.skipAnimation)throw dm(t),C.result=_o(i,!1),g(C),C;_(b);const I=et.obj(E)?{...E}:{...S,to:E};I.parentId=r,nl(h,(N,F)=>{et.und(I[F])&&(I[F]=N)});const U=await i.start(I);return _(b),t.paused&&await new Promise(N=>{t.resumeQueue.add(N)}),U})()};let T;if(Eo.skipAnimation)return dm(t),_o(i,!1);try{let E;et.arr(n)?E=(async S=>{for(const b of S)await M(b)})(n):E=Promise.resolve(n(M,i.stop.bind(i))),await Promise.all([E.then(m),y]),T=_o(i.get(),!0,!1)}catch(E){if(E instanceof MT)T=E.result;else if(E instanceof wT)T=E.result;else throw E}finally{r==t.asyncId&&(t.asyncId=s,t.asyncTo=s?u:void 0,t.promise=s?d:void 0)}return et.fun(a)&&qt.batchedUpdates(()=>{a(T,i,i.item)}),T})()}function dm(n,e){Np(n.timeouts,t=>t.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,e&&(n.cancelId=e)}var MT=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},wT=class extends Error{constructor(){super("SkipAnimationSignal")}},Kx=n=>n instanceof V2,QB=1,V2=class extends SB{constructor(){super(...arguments),this.id=QB++,this._priority=0}get priority(){return this._priority}set priority(n){this._priority!=n&&(this._priority=n,this._onPriorityChange(n))}get(){const n=Ho(this);return n&&n.getValue()}to(...n){return Eo.to(this,n)}interpolate(...n){return bB(),Eo.to(this,n)}toJSON(){return this.get()}observerAdded(n){n==1&&this._attach()}observerRemoved(n){n==0&&this._detach()}_attach(){}_detach(){}_onChange(n,e=!1){Yy(this,{type:"change",parent:this,value:n,idle:e})}_onPriorityChange(n){this.idle||Hv.sort(this),Yy(this,{type:"priority",parent:this,priority:n})}},Nc=Symbol.for("SpringPhase"),_P=1,xP=2,SP=4,Z_=n=>(n[Nc]&_P)>0,Gl=n=>(n[Nc]&xP)>0,lp=n=>(n[Nc]&SP)>0,ET=(n,e)=>e?n[Nc]|=xP|_P:n[Nc]&=-3,TT=(n,e)=>e?n[Nc]|=SP:n[Nc]&=-5,JB=class extends V2{constructor(n,e){if(super(),this.animation=new $B,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!et.und(n)||!et.und(e)){const t=et.obj(n)?{...n}:{...e,from:n};et.und(t.default)&&(t.default=!0),this.start(t)}}get idle(){return!(Gl(this)||this._state.asyncTo)||lp(this)}get goal(){return Us(this.animation.to)}get velocity(){const n=Ho(this);return n instanceof Um?n.lastVelocity||0:n.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return Z_(this)}get isAnimating(){return Gl(this)}get isPaused(){return lp(this)}get isDelayed(){return this._state.delayed}advance(n){let e=!0,t=!1;const i=this.animation;let{toValues:r}=i;const{config:s}=i,a=Xv(i.to);!a&&Wo(i.to)&&(r=ks(Us(i.to))),i.values.forEach((h,m)=>{if(h.done)return;const g=h.constructor==cm?1:a?a[m].lastPosition:r[m];let y=i.immediate,_=g;if(!y){if(_=h.lastPosition,s.tension<=0){h.done=!0;return}let M=h.elapsedTime+=n;const T=i.fromValues[m],E=h.v0!=null?h.v0:h.v0=et.arr(s.velocity)?s.velocity[m]:s.velocity;let S;const b=s.precision||(T==g?.005:Math.min(1,Math.abs(g-T)*.001));if(et.und(s.duration))if(s.decay){const C=s.decay===!0?.998:s.decay,I=Math.exp(-(1-C)*M);_=T+E/(1-C)*(1-I),y=Math.abs(h.lastPosition-_)<=b,S=E*I}else{S=h.lastVelocity==null?E:h.lastVelocity;const C=s.restVelocity||b/10,I=s.clamp?0:s.bounce,U=!et.und(I),N=T==g?h.v0>0:T<g;let F,B=!1;const O=1,D=Math.ceil(n/O);for(let H=0;H<D&&(F=Math.abs(S)>C,!(!F&&(y=Math.abs(g-_)<=b,y)));++H){U&&(B=_==g||_>g==N,B&&(S=-S*I,_=g));const ne=-s.tension*1e-6*(_-g),ee=-s.friction*.001*S,pe=(ne+ee)/s.mass;S=S+pe*O,_=_+S*O}}else{let C=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,h.durationProgress>0&&(h.elapsedTime=s.duration*h.durationProgress,M=h.elapsedTime+=n)),C=(s.progress||0)+M/this._memoizedDuration,C=C>1?1:C<0?0:C,h.durationProgress=C),_=T+s.easing(C)*(g-T),S=(_-h.lastPosition)/n,y=C==1}h.lastVelocity=S,Number.isNaN(_)&&(console.warn("Got NaN while animating:",this),y=!0)}a&&!a[m].done&&(y=!1),y?h.done=!0:e=!1,h.setValue(_,s.round)&&(t=!0)});const u=Ho(this),d=u.getValue();if(e){const h=Us(i.to);(d!==h||t)&&!s.decay?(u.setValue(h),this._onChange(h)):t&&s.decay&&this._onChange(d),this._stop()}else t&&this._onChange(d)}set(n){return qt.batchedUpdates(()=>{this._stop(),this._focus(n),this._set(n)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Gl(this)){const{to:n,config:e}=this.animation;qt.batchedUpdates(()=>{this._onStart(),e.decay||this._set(n,!1),this._stop()})}return this}update(n){return(this.queue||(this.queue=[])).push(n),this}start(n,e){let t;return et.und(n)?(t=this.queue||[],this.queue=[]):t=[et.obj(n)?n:{...e,to:n}],Promise.all(t.map(i=>this._update(i))).then(i=>B2(this,i))}stop(n){const{to:e}=this.animation;return this._focus(this.get()),dm(this._state,n&&this._lastCallId),qt.batchedUpdates(()=>this._stop(e,n)),this}reset(){this._update({reset:!0})}eventObserved(n){n.type=="change"?this._start():n.type=="priority"&&(this.priority=n.priority+1)}_prepareNode(n){const e=this.key||"";let{to:t,from:i}=n;t=et.obj(t)?t[e]:t,(t==null||qx(t))&&(t=void 0),i=et.obj(i)?i[e]:i,i==null&&(i=void 0);const r={to:t,from:i};return Z_(this)||(n.reverse&&([t,i]=[i,t]),i=Us(i),et.und(i)?Ho(this)||this._set(t):this._set(i)),r}_update({...n},e){const{key:t,defaultProps:i}=this;n.default&&Object.assign(i,z2(n,(a,u)=>/^on/.test(u)?hP(a,t):a)),CT(this,n,"onProps"),cp(this,"onProps",n,this);const r=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return gP(++this._lastCallId,{key:t,props:n,defaultProps:i,state:s,actions:{pause:()=>{lp(this)||(TT(this,!0),vp(s.pauseQueue),cp(this,"onPause",_o(this,up(this,this.animation.to)),this))},resume:()=>{lp(this)&&(TT(this,!1),Gl(this)&&this._resume(),vp(s.resumeQueue),cp(this,"onResume",_o(this,up(this,this.animation.to)),this))},start:this._merge.bind(this,r)}}).then(a=>{if(n.loop&&a.finished&&!(e&&a.noop)){const u=MP(n);if(u)return this._update(u,!0)}return a})}_merge(n,e,t){if(e.cancel)return this.stop(!0),t(Pd(this));const i=!et.und(n.to),r=!et.und(n.from);if(i||r)if(e.callId>this._lastToId)this._lastToId=e.callId;else return t(Pd(this));const{key:s,defaultProps:a,animation:u}=this,{to:d,from:h}=u;let{to:m=d,from:g=h}=n;r&&!i&&(!e.default||et.und(m))&&(m=g),e.reverse&&([m,g]=[g,m]);const y=!Ha(g,h);y&&(u.from=g),g=Us(g);const _=!Ha(m,d);_&&this._focus(m);const M=qx(e.to),{config:T}=u,{decay:E,velocity:S}=T;(i||r)&&(T.velocity=0),e.config&&!M&&KB(T,hc(e.config,s),e.config!==a.config?hc(a.config,s):void 0);let b=Ho(this);if(!b||et.und(m))return t(_o(this,!0));const C=et.und(e.reset)?r&&!e.default:!et.und(g)&&Op(e.reset,s),I=C?g:this.get(),U=fm(m),N=et.num(U)||et.arr(U)||jv(U),F=!M&&(!N||Op(a.immediate||e.immediate,s));if(_){const H=Yx(m);if(H!==b.constructor)if(F)b=this._set(U);else throw Error(`Cannot animate between ${b.constructor.name} and ${H.name}, as the "to" prop suggests`)}const B=b.constructor;let O=Wo(m),D=!1;if(!O){const H=C||!Z_(this)&&y;(_||H)&&(D=Ha(fm(I),U),O=!D),(!Ha(u.immediate,F)&&!F||!Ha(T.decay,E)||!Ha(T.velocity,S))&&(O=!0)}if(D&&Gl(this)&&(u.changed&&!C?O=!0:O||this._stop(d)),!M&&((O||Wo(d))&&(u.values=b.getPayload(),u.toValues=Wo(m)?null:B==cm?[1]:ks(U)),u.immediate!=F&&(u.immediate=F,!F&&!C&&this._set(d)),O)){const{onRest:H}=u;Cn(tV,ee=>CT(this,e,ee));const ne=_o(this,up(this,d));vp(this._pendingCalls,ne),this._pendingCalls.add(t),u.changed&&qt.batchedUpdates(()=>{var ee;u.changed=!C,H==null||H(ne,this),C?hc(a.onRest,ne):(ee=u.onStart)==null||ee.call(u,ne,this)})}C&&this._set(I),M?t(vP(e.to,e,this._state,this)):O?this._start():Gl(this)&&!_?this._pendingCalls.add(t):t(yP(I))}_focus(n){const e=this.animation;n!==e.to&&(pT(this)&&this._detach(),e.to=n,pT(this)&&this._attach())}_attach(){let n=0;const{to:e}=this.animation;Wo(e)&&(Nm(e,this),Kx(e)&&(n=e.priority+1)),this.priority=n}_detach(){const{to:n}=this.animation;Wo(n)&&qy(n,this)}_set(n,e=!0){const t=Us(n);if(!et.und(t)){const i=Ho(this);if(!i||!Ha(t,i.getValue())){const r=Yx(t);!i||i.constructor!=r?F2(this,r.create(t)):i.setValue(t),i&&qt.batchedUpdates(()=>{this._onChange(t,e)})}}return Ho(this)}_onStart(){const n=this.animation;n.changed||(n.changed=!0,cp(this,"onStart",_o(this,up(this,n.to)),this))}_onChange(n,e){e||(this._onStart(),hc(this.animation.onChange,n,this)),hc(this.defaultProps.onChange,n,this),super._onChange(n,e)}_start(){const n=this.animation;Ho(this).reset(Us(n.to)),n.immediate||(n.fromValues=n.values.map(e=>e.lastPosition)),Gl(this)||(ET(this,!0),lp(this)||this._resume())}_resume(){Eo.skipAnimation?this.finish():Hv.start(this)}_stop(n,e){if(Gl(this)){ET(this,!1);const t=this.animation;Cn(t.values,r=>{r.done=!0}),t.toValues&&(t.onChange=t.onPause=t.onResume=void 0),Yy(this,{type:"idle",parent:this});const i=e?Pd(this.get()):_o(this.get(),up(this,n??t.to));vp(this._pendingCalls,i),t.changed&&(t.changed=!1,cp(this,"onRest",i,this))}}};function up(n,e){const t=fm(e),i=fm(n.get());return Ha(i,t)}function MP(n,e=n.loop,t=n.to){const i=hc(e);if(i){const r=i!==!0&&mP(i),s=(r||n).reverse,a=!r||r.reset;return hm({...n,loop:e,default:!1,pause:void 0,to:!s||qx(t)?t:void 0,from:a?n.from:void 0,reset:a,...r})}}function hm(n){const{to:e,from:t}=n=mP(n),i=new Set;return et.obj(e)&&AT(e,i),et.obj(t)&&AT(t,i),n.keys=i.size?Array.from(i):null,n}function eV(n){const e=hm(n);return et.und(e.default)&&(e.default=z2(e)),e}function AT(n,e){nl(n,(t,i)=>t!=null&&e.add(i))}var tV=["onStart","onRest","onChange","onPause","onResume"];function CT(n,e,t){n.animation[t]=e[t]!==pP(e,t)?hP(e[t],n.key):void 0}function cp(n,e,...t){var i,r,s,a;(r=(i=n.animation)[e])==null||r.call(i,...t),(a=(s=n.defaultProps)[e])==null||a.call(s,...t)}var nV=["onStart","onChange","onRest"],iV=1,rV=class{constructor(n,e){this.id=iV++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),n&&this.start({default:!0,...n})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(n=>n.idle&&!n.isDelayed&&!n.isPaused)}get item(){return this._item}set item(n){this._item=n}get(){const n={};return this.each((e,t)=>n[t]=e.get()),n}set(n){for(const e in n){const t=n[e];et.und(t)||this.springs[e].set(t)}}update(n){return n&&this.queue.push(hm(n)),this}start(n){let{queue:e}=this;return n?e=ks(n).map(hm):this.queue=[],this._flush?this._flush(this,e):(CP(this,e),$x(this,e))}stop(n,e){if(n!==!!n&&(e=n),e){const t=this.springs;Cn(ks(e),i=>t[i].stop(!!n))}else dm(this._state,this._lastAsyncId),this.each(t=>t.stop(!!n));return this}pause(n){if(et.und(n))this.start({pause:!0});else{const e=this.springs;Cn(ks(n),t=>e[t].pause())}return this}resume(n){if(et.und(n))this.start({pause:!1});else{const e=this.springs;Cn(ks(n),t=>e[t].resume())}return this}each(n){nl(this.springs,n)}_onFrame(){const{onStart:n,onChange:e,onRest:t}=this._events,i=this._active.size>0,r=this._changed.size>0;(i&&!this._started||r&&!this._started)&&(this._started=!0,Np(n,([u,d])=>{d.value=this.get(),u(d,this,this._item)}));const s=!i&&this._started,a=r||s&&t.size?this.get():null;r&&e.size&&Np(e,([u,d])=>{d.value=a,u(d,this,this._item)}),s&&(this._started=!1,Np(t,([u,d])=>{d.value=a,u(d,this,this._item)}))}eventObserved(n){if(n.type=="change")this._changed.add(n.parent),n.idle||this._active.add(n.parent);else if(n.type=="idle")this._active.delete(n.parent);else return;qt.onFrame(this._onFrame)}};function $x(n,e){return Promise.all(e.map(t=>wP(n,t))).then(t=>B2(n,t))}async function wP(n,e,t){const{keys:i,to:r,from:s,loop:a,onRest:u,onResolve:d}=e,h=et.obj(e.default)&&e.default;a&&(e.loop=!1),r===!1&&(e.to=null),s===!1&&(e.from=null);const m=et.arr(r)||et.fun(r)?r:void 0;m?(e.to=void 0,e.onRest=void 0,h&&(h.onRest=void 0)):Cn(nV,T=>{const E=e[T];if(et.fun(E)){const S=n._events[T];e[T]=({finished:b,cancelled:C})=>{const I=S.get(E);I?(b||(I.finished=!1),C&&(I.cancelled=!0)):S.set(E,{value:null,finished:b||!1,cancelled:C||!1})},h&&(h[T]=e[T])}});const g=n._state;e.pause===!g.paused?(g.paused=e.pause,vp(e.pause?g.pauseQueue:g.resumeQueue)):g.paused&&(e.pause=!0);const y=(i||Object.keys(n.springs)).map(T=>n.springs[T].start(e)),_=e.cancel===!0||pP(e,"cancel")===!0;(m||_&&g.asyncId)&&y.push(gP(++n._lastAsyncId,{props:e,state:g,actions:{pause:jx,resume:jx,start(T,E){_?(dm(g,n._lastAsyncId),E(Pd(n))):(T.onRest=u,E(vP(m,T,g,n)))}}})),g.paused&&await new Promise(T=>{g.resumeQueue.add(T)});const M=B2(n,await Promise.all(y));if(a&&M.finished&&!(t&&M.noop)){const T=MP(e,a,r);if(T)return CP(n,[T]),wP(n,T,!0)}return d&&qt.batchedUpdates(()=>d(M,n,n.item)),M}function bT(n,e){const t={...n.springs};return e&&Cn(ks(e),i=>{et.und(i.keys)&&(i=hm(i)),et.obj(i.to)||(i={...i,to:void 0}),AP(t,i,r=>TP(r))}),EP(n,t),t}function EP(n,e){nl(e,(t,i)=>{n.springs[i]||(n.springs[i]=t,Nm(t,n))})}function TP(n,e){const t=new JB;return t.key=n,e&&Nm(t,e),t}function AP(n,e,t){e.keys&&Cn(e.keys,i=>{(n[i]||(n[i]=t(i)))._prepareNode(e)})}function CP(n,e){Cn(e,t=>{AP(n.springs,t,i=>TP(i,n))})}var Yv=({children:n,...e})=>{const t=Se.useContext(Ky),i=e.pause||!!t.pause,r=e.immediate||!!t.immediate;e=LB(()=>({pause:i,immediate:r}),[i,r]);const{Provider:s}=Ky;return Se.createElement(s,{value:e},n)},Ky=sV(Yv,{});Yv.Provider=Ky.Provider;Yv.Consumer=Ky.Consumer;function sV(n,e){return Object.assign(n,Se.createContext(e)),n.Provider._context=n,n.Consumer._context=n,n}var oV=()=>{const n=[],e=function(i){RB();const r=[];return Cn(n,(s,a)=>{if(et.und(i))r.push(s.start());else{const u=t(i,s,a);u&&r.push(s.start(u))}}),r};e.current=n,e.add=function(i){n.includes(i)||n.push(i)},e.delete=function(i){const r=n.indexOf(i);~r&&n.splice(r,1)},e.pause=function(){return Cn(n,i=>i.pause(...arguments)),this},e.resume=function(){return Cn(n,i=>i.resume(...arguments)),this},e.set=function(i){Cn(n,(r,s)=>{const a=et.fun(i)?i(s,r):i;a&&r.set(a)})},e.start=function(i){const r=[];return Cn(n,(s,a)=>{if(et.und(i))r.push(s.start());else{const u=this._getProps(i,s,a);u&&r.push(s.start(u))}}),r},e.stop=function(){return Cn(n,i=>i.stop(...arguments)),this},e.update=function(i){return Cn(n,(r,s)=>r.update(this._getProps(i,r,s))),this};const t=function(i,r,s){return et.fun(i)?i(s,r):i};return e._getProps=t,e};function aV(n,e,t){const i=et.fun(e)&&e;i&&!t&&(t=[]);const r=Se.useMemo(()=>i||arguments.length==3?oV():void 0,[]),s=Se.useRef(0),a=uP(),u=Se.useMemo(()=>({ctrls:[],queue:[],flush(S,b){const C=bT(S,b);return s.current>0&&!u.queue.length&&!Object.keys(C).some(U=>!S.springs[U])?$x(S,b):new Promise(U=>{EP(S,C),u.queue.push(()=>{U($x(S,b))}),a()})}}),[]),d=Se.useRef([...u.ctrls]),h=[],m=gT(n)||0;Se.useMemo(()=>{Cn(d.current.slice(n,m),S=>{XB(S,r),S.stop(!0)}),d.current.length=n,g(m,n)},[n]),Se.useMemo(()=>{g(0,Math.min(m,n))},t);function g(S,b){for(let C=S;C<b;C++){const I=d.current[C]||(d.current[C]=new rV(null,u.flush)),U=i?i(C,I):e[C];U&&(h[C]=eV(U))}}const y=d.current.map((S,b)=>bT(S,h[b])),_=Se.useContext(Yv),M=gT(_),T=_!==M&&jB(_);O2(()=>{s.current++,u.ctrls=d.current;const{queue:S}=u;S.length&&(u.queue=[],Cn(S,b=>b())),Cn(d.current,(b,C)=>{r==null||r.add(b),T&&b.start({default:_});const I=h[C];I&&(YB(b,I.ref),b.ref?b.queue.push(I):b.start(I))})}),cP(()=>()=>{Cn(u.ctrls,S=>S.stop(!0))});const E=y.map(S=>({...S}));return r?[E,r]:E}function lV(n,e){const t=et.fun(n),[[i],r]=aV(1,t?n:[n],t?[]:e);return t||arguments.length==2?[i,r]:i}var uV=class extends V2{constructor(n,e){super(),this.source=n,this.idle=!0,this._active=new Set,this.calc=am(...e);const t=this._get(),i=Yx(t);F2(this,i.create(t))}advance(n){const e=this._get(),t=this.get();Ha(e,t)||(Ho(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&PT(this._active)&&K_(this)}_get(){const n=et.arr(this.source)?this.source.map(Us):ks(Us(this.source));return this.calc(...n)}_start(){this.idle&&!PT(this._active)&&(this.idle=!1,Cn(Xv(this),n=>{n.done=!1}),Eo.skipAnimation?(qt.batchedUpdates(()=>this.advance()),K_(this)):Hv.start(this))}_attach(){let n=1;Cn(ks(this.source),e=>{Wo(e)&&Nm(e,this),Kx(e)&&(e.idle||this._active.add(e),n=Math.max(n,e.priority+1))}),this.priority=n,this._start()}_detach(){Cn(ks(this.source),n=>{Wo(n)&&qy(n,this)}),this._active.clear(),K_(this)}eventObserved(n){n.type=="change"?n.idle?this.advance():(this._active.add(n.parent),this._start()):n.type=="idle"?this._active.delete(n.parent):n.type=="priority"&&(this.priority=ks(this.source).reduce((e,t)=>Math.max(e,(Kx(t)?t.priority:0)+1),0))}};function cV(n){return n.idle!==!1}function PT(n){return!n.size||Array.from(n).every(cV)}function K_(n){n.idle||(n.idle=!0,Cn(Xv(n),e=>{e.done=!0}),Yy(n,{type:"idle",parent:n}))}Eo.assign({createStringInterpolator:aP,to:(n,e)=>new uV(n,e)});var fV=["primitive"].concat(Object.keys(I4).filter(n=>/^[A-Z]/.test(n)).map(n=>n[0].toLowerCase()+n.slice(1)));Eo.assign({createStringInterpolator:aP,colors:oB,frameLoop:"demand"});C9(()=>{qt.advance()});var dV=BB(fV,{applyAnimatedValues:fc}),hV=dV.animated,pV=Object.defineProperty,mV=(n,e,t)=>e in n?pV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gV=(n,e,t)=>(mV(n,e+"",t),t);class yV{constructor(){gV(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}var vV=Object.defineProperty,_V=(n,e,t)=>e in n?vV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,kt=(n,e,t)=>(_V(n,typeof e!="symbol"?e+"":e,t),t);const R0=new Oc,RT=new Ga,xV=Math.cos(70*(Math.PI/180)),IT=(n,e)=>(n%e+e)%e;let SV=class extends yV{constructor(e,t){super(),kt(this,"object"),kt(this,"domElement"),kt(this,"enabled",!0),kt(this,"target",new X),kt(this,"minDistance",0),kt(this,"maxDistance",1/0),kt(this,"minZoom",0),kt(this,"maxZoom",1/0),kt(this,"minPolarAngle",0),kt(this,"maxPolarAngle",Math.PI),kt(this,"minAzimuthAngle",-1/0),kt(this,"maxAzimuthAngle",1/0),kt(this,"enableDamping",!1),kt(this,"dampingFactor",.05),kt(this,"enableZoom",!0),kt(this,"zoomSpeed",1),kt(this,"enableRotate",!0),kt(this,"rotateSpeed",1),kt(this,"enablePan",!0),kt(this,"panSpeed",1),kt(this,"screenSpacePanning",!0),kt(this,"keyPanSpeed",7),kt(this,"zoomToCursor",!1),kt(this,"autoRotate",!1),kt(this,"autoRotateSpeed",2),kt(this,"reverseOrbit",!1),kt(this,"reverseHorizontalOrbit",!1),kt(this,"reverseVerticalOrbit",!1),kt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),kt(this,"mouseButtons",{LEFT:ac.ROTATE,MIDDLE:ac.DOLLY,RIGHT:ac.PAN}),kt(this,"touches",{ONE:lc.ROTATE,TWO:lc.DOLLY_PAN}),kt(this,"target0"),kt(this,"position0"),kt(this,"zoom0"),kt(this,"_domElementKeyEvents",null),kt(this,"getPolarAngle"),kt(this,"getAzimuthalAngle"),kt(this,"setPolarAngle"),kt(this,"setAzimuthalAngle"),kt(this,"getDistance"),kt(this,"getZoomScale"),kt(this,"listenToKeyEvents"),kt(this,"stopListenToKeyEvents"),kt(this,"saveState"),kt(this,"reset"),kt(this,"update"),kt(this,"connect"),kt(this,"dispose"),kt(this,"dollyIn"),kt(this,"dollyOut"),kt(this,"getScale"),kt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=Q=>{let Ce=IT(Q,2*Math.PI),tt=m.phi;tt<0&&(tt+=2*Math.PI),Ce<0&&(Ce+=2*Math.PI);let K=Math.abs(Ce-tt);2*Math.PI-K<K&&(Ce<tt?Ce+=2*Math.PI:tt+=2*Math.PI),g.phi=Ce-tt,i.update()},this.setAzimuthalAngle=Q=>{let Ce=IT(Q,2*Math.PI),tt=m.theta;tt<0&&(tt+=2*Math.PI),Ce<0&&(Ce+=2*Math.PI);let K=Math.abs(Ce-tt);2*Math.PI-K<K&&(Ce<tt?Ce+=2*Math.PI:tt+=2*Math.PI),g.theta=Ce-tt,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Q=>{Q.addEventListener("keydown",Qe),this._domElementKeyEvents=Q},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Qe),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),d=u.NONE},this.update=(()=>{const Q=new X,Ce=new X(0,1,0),tt=new pr().setFromUnitVectors(e.up,Ce),K=tt.clone().invert(),He=new X,xe=new pr,Pe=2*Math.PI;return function(){const nt=i.object.position;tt.setFromUnitVectors(e.up,Ce),K.copy(tt).invert(),Q.copy(nt).sub(i.target),Q.applyQuaternion(tt),m.setFromVector3(Q),i.autoRotate&&d===u.NONE&&pe(ne()),i.enableDamping?(m.theta+=g.theta*i.dampingFactor,m.phi+=g.phi*i.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);let It=i.minAzimuthAngle,hn=i.maxAzimuthAngle;isFinite(It)&&isFinite(hn)&&(It<-Math.PI?It+=Pe:It>Math.PI&&(It-=Pe),hn<-Math.PI?hn+=Pe:hn>Math.PI&&(hn-=Pe),It<=hn?m.theta=Math.max(It,Math.min(hn,m.theta)):m.theta=m.theta>(It+hn)/2?Math.max(It,m.theta):Math.min(hn,m.theta)),m.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,m.phi)),m.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(_,i.dampingFactor):i.target.add(_),i.zoomToCursor&&O||i.object.isOrthographicCamera?m.radius=Oe(m.radius):m.radius=Oe(m.radius*y),Q.setFromSpherical(m),Q.applyQuaternion(K),nt.copy(i.target).add(Q),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(g.theta*=1-i.dampingFactor,g.phi*=1-i.dampingFactor,_.multiplyScalar(1-i.dampingFactor)):(g.set(0,0,0),_.set(0,0,0));let Rn=!1;if(i.zoomToCursor&&O){let $t=null;if(i.object instanceof fi&&i.object.isPerspectiveCamera){const Yn=Q.length();$t=Oe(Yn*y);const Jn=Yn-$t;i.object.position.addScaledVector(F,Jn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Yn=new X(B.x,B.y,0);Yn.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix(),Rn=!0;const Jn=new X(B.x,B.y,0);Jn.unproject(i.object),i.object.position.sub(Jn).add(Yn),i.object.updateMatrixWorld(),$t=Q.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;$t!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar($t).add(i.object.position):(R0.origin.copy(i.object.position),R0.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(R0.direction))<xV?e.lookAt(i.target):(RT.setFromNormalAndCoplanarPoint(i.object.up,i.target),R0.intersectPlane(RT,i.target))))}else i.object instanceof Zl&&i.object.isOrthographicCamera&&(Rn=y!==1,Rn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix()));return y=1,O=!1,Rn||He.distanceToSquared(i.object.position)>h||8*(1-xe.dot(i.object.quaternion))>h?(i.dispatchEvent(r),He.copy(i.object.position),xe.copy(i.object.quaternion),Rn=!1,!0):!1}})(),this.connect=Q=>{i.domElement=Q,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",ze),i.domElement.addEventListener("pointerdown",z),i.domElement.addEventListener("pointercancel",Ae),i.domElement.addEventListener("wheel",yt)},this.dispose=()=>{var Q,Ce,tt,K,He,xe;i.domElement&&(i.domElement.style.touchAction="auto"),(Q=i.domElement)==null||Q.removeEventListener("contextmenu",ze),(Ce=i.domElement)==null||Ce.removeEventListener("pointerdown",z),(tt=i.domElement)==null||tt.removeEventListener("pointercancel",Ae),(K=i.domElement)==null||K.removeEventListener("wheel",yt),(He=i.domElement)==null||He.ownerDocument.removeEventListener("pointermove",de),(xe=i.domElement)==null||xe.ownerDocument.removeEventListener("pointerup",Ae),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Qe)};const i=this,r={type:"change"},s={type:"start"},a={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let d=u.NONE;const h=1e-6,m=new Hy,g=new Hy;let y=1;const _=new X,M=new Le,T=new Le,E=new Le,S=new Le,b=new Le,C=new Le,I=new Le,U=new Le,N=new Le,F=new X,B=new Le;let O=!1;const D=[],H={};function ne(){return 2*Math.PI/60/60*i.autoRotateSpeed}function ee(){return Math.pow(.95,i.zoomSpeed)}function pe(Q){i.reverseOrbit||i.reverseHorizontalOrbit?g.theta+=Q:g.theta-=Q}function Me(Q){i.reverseOrbit||i.reverseVerticalOrbit?g.phi+=Q:g.phi-=Q}const he=(()=>{const Q=new X;return function(tt,K){Q.setFromMatrixColumn(K,0),Q.multiplyScalar(-tt),_.add(Q)}})(),me=(()=>{const Q=new X;return function(tt,K){i.screenSpacePanning===!0?Q.setFromMatrixColumn(K,1):(Q.setFromMatrixColumn(K,0),Q.crossVectors(i.object.up,Q)),Q.multiplyScalar(tt),_.add(Q)}})(),G=(()=>{const Q=new X;return function(tt,K){const He=i.domElement;if(He&&i.object instanceof fi&&i.object.isPerspectiveCamera){const xe=i.object.position;Q.copy(xe).sub(i.target);let Pe=Q.length();Pe*=Math.tan(i.object.fov/2*Math.PI/180),he(2*tt*Pe/He.clientHeight,i.object.matrix),me(2*K*Pe/He.clientHeight,i.object.matrix)}else He&&i.object instanceof Zl&&i.object.isOrthographicCamera?(he(tt*(i.object.right-i.object.left)/i.object.zoom/He.clientWidth,i.object.matrix),me(K*(i.object.top-i.object.bottom)/i.object.zoom/He.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function te(Q){i.object instanceof fi&&i.object.isPerspectiveCamera||i.object instanceof Zl&&i.object.isOrthographicCamera?y=Q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function $(Q){te(y/Q)}function W(Q){te(y*Q)}function se(Q){if(!i.zoomToCursor||!i.domElement)return;O=!0;const Ce=i.domElement.getBoundingClientRect(),tt=Q.clientX-Ce.left,K=Q.clientY-Ce.top,He=Ce.width,xe=Ce.height;B.x=tt/He*2-1,B.y=-(K/xe)*2+1,F.set(B.x,B.y,1).unproject(i.object).sub(i.object.position).normalize()}function Oe(Q){return Math.max(i.minDistance,Math.min(i.maxDistance,Q))}function ue(Q){M.set(Q.clientX,Q.clientY)}function Ee(Q){se(Q),I.set(Q.clientX,Q.clientY)}function De(Q){S.set(Q.clientX,Q.clientY)}function Re(Q){T.set(Q.clientX,Q.clientY),E.subVectors(T,M).multiplyScalar(i.rotateSpeed);const Ce=i.domElement;Ce&&(pe(2*Math.PI*E.x/Ce.clientHeight),Me(2*Math.PI*E.y/Ce.clientHeight)),M.copy(T),i.update()}function We(Q){U.set(Q.clientX,Q.clientY),N.subVectors(U,I),N.y>0?$(ee()):N.y<0&&W(ee()),I.copy(U),i.update()}function Ke(Q){b.set(Q.clientX,Q.clientY),C.subVectors(b,S).multiplyScalar(i.panSpeed),G(C.x,C.y),S.copy(b),i.update()}function ct(Q){se(Q),Q.deltaY<0?W(ee()):Q.deltaY>0&&$(ee()),i.update()}function Pt(Q){let Ce=!1;switch(Q.code){case i.keys.UP:G(0,i.keyPanSpeed),Ce=!0;break;case i.keys.BOTTOM:G(0,-i.keyPanSpeed),Ce=!0;break;case i.keys.LEFT:G(i.keyPanSpeed,0),Ce=!0;break;case i.keys.RIGHT:G(-i.keyPanSpeed,0),Ce=!0;break}Ce&&(Q.preventDefault(),i.update())}function be(){if(D.length==1)M.set(D[0].pageX,D[0].pageY);else{const Q=.5*(D[0].pageX+D[1].pageX),Ce=.5*(D[0].pageY+D[1].pageY);M.set(Q,Ce)}}function Ne(){if(D.length==1)S.set(D[0].pageX,D[0].pageY);else{const Q=.5*(D[0].pageX+D[1].pageX),Ce=.5*(D[0].pageY+D[1].pageY);S.set(Q,Ce)}}function Y(){const Q=D[0].pageX-D[1].pageX,Ce=D[0].pageY-D[1].pageY,tt=Math.sqrt(Q*Q+Ce*Ce);I.set(0,tt)}function xt(){i.enableZoom&&Y(),i.enablePan&&Ne()}function Be(){i.enableZoom&&Y(),i.enableRotate&&be()}function at(Q){if(D.length==1)T.set(Q.pageX,Q.pageY);else{const tt=dt(Q),K=.5*(Q.pageX+tt.x),He=.5*(Q.pageY+tt.y);T.set(K,He)}E.subVectors(T,M).multiplyScalar(i.rotateSpeed);const Ce=i.domElement;Ce&&(pe(2*Math.PI*E.x/Ce.clientHeight),Me(2*Math.PI*E.y/Ce.clientHeight)),M.copy(T)}function Xe(Q){if(D.length==1)b.set(Q.pageX,Q.pageY);else{const Ce=dt(Q),tt=.5*(Q.pageX+Ce.x),K=.5*(Q.pageY+Ce.y);b.set(tt,K)}C.subVectors(b,S).multiplyScalar(i.panSpeed),G(C.x,C.y),S.copy(b)}function Rt(Q){const Ce=dt(Q),tt=Q.pageX-Ce.x,K=Q.pageY-Ce.y,He=Math.sqrt(tt*tt+K*K);U.set(0,He),N.set(0,Math.pow(U.y/I.y,i.zoomSpeed)),$(N.y),I.copy(U)}function $e(Q){i.enableZoom&&Rt(Q),i.enablePan&&Xe(Q)}function j(Q){i.enableZoom&&Rt(Q),i.enableRotate&&at(Q)}function z(Q){var Ce,tt;i.enabled!==!1&&(D.length===0&&((Ce=i.domElement)==null||Ce.ownerDocument.addEventListener("pointermove",de),(tt=i.domElement)==null||tt.ownerDocument.addEventListener("pointerup",Ae)),mt(Q),Q.pointerType==="touch"?lt(Q):Ue(Q))}function de(Q){i.enabled!==!1&&(Q.pointerType==="touch"?Gt(Q):Ie(Q))}function Ae(Q){var Ce,tt,K;Lt(Q),D.length===0&&((Ce=i.domElement)==null||Ce.releasePointerCapture(Q.pointerId),(tt=i.domElement)==null||tt.ownerDocument.removeEventListener("pointermove",de),(K=i.domElement)==null||K.ownerDocument.removeEventListener("pointerup",Ae)),i.dispatchEvent(a),d=u.NONE}function Ue(Q){let Ce;switch(Q.button){case 0:Ce=i.mouseButtons.LEFT;break;case 1:Ce=i.mouseButtons.MIDDLE;break;case 2:Ce=i.mouseButtons.RIGHT;break;default:Ce=-1}switch(Ce){case ac.DOLLY:if(i.enableZoom===!1)return;Ee(Q),d=u.DOLLY;break;case ac.ROTATE:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(i.enablePan===!1)return;De(Q),d=u.PAN}else{if(i.enableRotate===!1)return;ue(Q),d=u.ROTATE}break;case ac.PAN:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(i.enableRotate===!1)return;ue(Q),d=u.ROTATE}else{if(i.enablePan===!1)return;De(Q),d=u.PAN}break;default:d=u.NONE}d!==u.NONE&&i.dispatchEvent(s)}function Ie(Q){if(i.enabled!==!1)switch(d){case u.ROTATE:if(i.enableRotate===!1)return;Re(Q);break;case u.DOLLY:if(i.enableZoom===!1)return;We(Q);break;case u.PAN:if(i.enablePan===!1)return;Ke(Q);break}}function yt(Q){i.enabled===!1||i.enableZoom===!1||d!==u.NONE&&d!==u.ROTATE||(Q.preventDefault(),i.dispatchEvent(s),ct(Q),i.dispatchEvent(a))}function Qe(Q){i.enabled===!1||i.enablePan===!1||Pt(Q)}function lt(Q){switch(Ut(Q),D.length){case 1:switch(i.touches.ONE){case lc.ROTATE:if(i.enableRotate===!1)return;be(),d=u.TOUCH_ROTATE;break;case lc.PAN:if(i.enablePan===!1)return;Ne(),d=u.TOUCH_PAN;break;default:d=u.NONE}break;case 2:switch(i.touches.TWO){case lc.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;xt(),d=u.TOUCH_DOLLY_PAN;break;case lc.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Be(),d=u.TOUCH_DOLLY_ROTATE;break;default:d=u.NONE}break;default:d=u.NONE}d!==u.NONE&&i.dispatchEvent(s)}function Gt(Q){switch(Ut(Q),d){case u.TOUCH_ROTATE:if(i.enableRotate===!1)return;at(Q),i.update();break;case u.TOUCH_PAN:if(i.enablePan===!1)return;Xe(Q),i.update();break;case u.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;$e(Q),i.update();break;case u.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;j(Q),i.update();break;default:d=u.NONE}}function ze(Q){i.enabled!==!1&&Q.preventDefault()}function mt(Q){D.push(Q)}function Lt(Q){delete H[Q.pointerId];for(let Ce=0;Ce<D.length;Ce++)if(D[Ce].pointerId==Q.pointerId){D.splice(Ce,1);return}}function Ut(Q){let Ce=H[Q.pointerId];Ce===void 0&&(Ce=new Le,H[Q.pointerId]=Ce),Ce.set(Q.pageX,Q.pageY)}function dt(Q){const Ce=Q.pointerId===D[0].pointerId?D[1]:D[0];return H[Ce.pointerId]}this.dollyIn=(Q=ee())=>{W(Q),i.update()},this.dollyOut=(Q=ee())=>{$(Q),i.update()},this.getScale=()=>y,this.setScale=Q=>{te(Q),i.update()},this.getZoomScale=()=>ee(),t!==void 0&&this.connect(t),this.update()}};const MV=()=>parseInt(_m.replace(/\D+/g,"")),wV=MV(),EV=Se.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:a,onStart:u,onEnd:d,...h},m)=>{const g=Ba(N=>N.invalidate),y=Ba(N=>N.camera),_=Ba(N=>N.gl),M=Ba(N=>N.events),T=Ba(N=>N.setEvents),E=Ba(N=>N.set),S=Ba(N=>N.get),b=Ba(N=>N.performance),C=e||y,I=i||M.connected||_.domElement,U=Se.useMemo(()=>new SV(C),[C]);return T2(()=>{U.enabled&&U.update()},-1),Se.useEffect(()=>(s&&U.connect(s===!0?I:s),U.connect(I),()=>void U.dispose()),[s,I,t,U,g]),Se.useEffect(()=>{const N=O=>{g(),t&&b.regress(),a&&a(O)},F=O=>{u&&u(O)},B=O=>{d&&d(O)};return U.addEventListener("change",N),U.addEventListener("start",F),U.addEventListener("end",B),()=>{U.removeEventListener("start",F),U.removeEventListener("end",B),U.removeEventListener("change",N)}},[a,u,d,U,g,T]),Se.useEffect(()=>{if(n){const N=S().controls;return E({controls:U}),()=>E({controls:N})}},[n,U]),Se.createElement("primitive",Gx({ref:m,object:U,enableDamping:r},h))});class TV extends Vs{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${wV>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const AV=n=>new X().setFromSpherical(new Hy(n,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),CV=Se.forwardRef(({radius:n=100,depth:e=50,count:t=5e3,saturation:i=0,factor:r=4,fade:s=!1,speed:a=1},u)=>{const d=Se.useRef(),[h,m,g]=Se.useMemo(()=>{const _=[],M=[],T=Array.from({length:t},()=>(.5+.5*Math.random())*r),E=new pt;let S=n+e;const b=e/t;for(let C=0;C<t;C++)S-=b*Math.random(),_.push(...AV(S).toArray()),E.setHSL(C/t,i,.9),M.push(E.r,E.g,E.b);return[new Float32Array(_),new Float32Array(M),new Float32Array(T)]},[t,e,r,n,i]);T2(_=>d.current&&(d.current.uniforms.time.value=_.clock.getElapsedTime()*a));const[y]=Se.useState(()=>new TV);return Se.createElement("points",{ref:u},Se.createElement("bufferGeometry",null,Se.createElement("bufferAttribute",{attach:"attributes-position",args:[h,3]}),Se.createElement("bufferAttribute",{attach:"attributes-color",args:[m,3]}),Se.createElement("bufferAttribute",{attach:"attributes-size",args:[g,1]})),Se.createElement("primitive",{ref:d,object:y,attach:"material",blending:ny,"uniforms-fade-value":s,depthWrite:!1,transparent:!0,vertexColors:!0}))}),bV=()=>{const n=Se.useRef(),[e,t]=Se.useState(!1),{mouse:i}=Ba(),{scale:r}=lV({scale:e?1.1:1,config:{mass:1,tension:170,friction:26}});return T2(s=>{const a=s.clock.getElapsedTime();n.current.rotation.x=Math.sin(a*.2)*.2+i.y*.1,n.current.rotation.y=a*.2+i.x*.1}),je.jsxs(hV.mesh,{ref:n,scale:r,onPointerOver:()=>t(!0),onPointerOut:()=>t(!1),children:[je.jsx("sphereGeometry",{args:[2,64,64]}),je.jsx("meshPhongMaterial",{color:"#1a1a1a",emissive:"#0066cc",emissiveIntensity:.8,specular:"#4d94ff",shininess:50,wireframe:!0,transparent:!0,opacity:.6})]})},PV=()=>je.jsxs($9,{camera:{position:[0,0,10],fov:45},style:{background:"transparent",width:"100%",height:"100vh"},children:[je.jsx("color",{attach:"background",args:["#000000"]}),je.jsx(EV,{enableZoom:!1,enablePan:!1,autoRotate:!0,autoRotateSpeed:.5,maxPolarAngle:Math.PI/1.5,minPolarAngle:Math.PI/3}),je.jsx("ambientLight",{intensity:.3}),je.jsx("pointLight",{position:[10,10,10],intensity:.8,color:"#0066cc"}),je.jsx("pointLight",{position:[-10,-10,-10],intensity:.6,color:"#0050cc"}),je.jsx(CV,{radius:50,depth:50,count:2e3,factor:4,saturation:0,fade:!0,speed:1}),je.jsx(bV,{})]});function RV(n){return Lr({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.172 20.36c-.914-.72-1.89-1.41-2.556-2.38-1.402-1.712-2.482-3.694-3.22-5.777-.446-1.355-.6-2.808-1.174-4.11-.602-.944.103-1.978 1.138-2.28.46-.087 1.272-.522.293-.211-.878.644-.963-.585-.063-.662.615-.082.84-.585.63-1.037-.66-.43 1.6-.903.463-1.544C1.5 1.08 4.34.835 3.64 2.285 3.473 3.4 5.624 2.08 5.125 3.368c.507.619 1.9.14 1.865 1.009.74.05.993.672 1.687.72.72.325 2.022.58 2.266 1.39-.713.566-2.364-1.165-2.443.398.215 2.31.16 4.689 1.004 6.888.4 1.332 1.37 2.38 2.244 3.418.837 1.016 1.971 1.73 3.127 2.333 1.014.478 2.107.795 3.213.994.448-.343 1.24-1.617 1.938-1.08.033.604-1.388 1.263-.067 1.196.776-.234 1.314.6 1.953-.152.588.697 2.446-.446 2.027.98-.566.364-1.392.144-1.959.646-.935-.467-1.68.418-2.715.306a19.86 19.86 0 01-3.484.29c-1.912-.15-3.865-.214-5.684-.88-1.024-.297-2.023-.881-2.924-1.464zm1.615.7c1 .432 1.978.888 3.074 1.026 1.74.24 3.537.614 5.283.274-.79-.357-1.608.14-2.395-.255-.944.203-1.957-.052-2.917-.177-1.092-.486-2.27-.82-3.291-1.452-1.277-.466.66.598 1.005.685.798.453-.877-.233-1.114-.421-.668-.375-.754-.297-.066.084.139.08.276.166.42.235zm-1.904-1.346c.97.359-.004-.682-.45-.622-.196-.341-.751-.557-.36-.74-.704.244-.737-.93-1.07-.763-.744-.235-.29-1.07-1.176-1.58-.081-.54-.882-1.008-1.138-1.822-.113-.416-.905-1.613-.418-.5.414 1.072 1.143 1.99 1.75 2.907.47.873 1.027 1.786 1.885 2.33.29.278.568.703.977.79zM4.09 16.647c.033-.146.177.317 0 0zm3.954 3.497c.215-.096-.31-.12 0 0zm.526.192c-.054-.265-.24.148 0 0zm.66.275c.312-.3-.484-.188 0 0zm1.127.63c.191-.282-.61-.107 0 0zM8.19 19.728c.487-.315-.63-.004 0 0zm.494.246c-.014-.166-.176.075 0 0zm2.47 1.542c.397.25 2.32.55 1.115.103-.2.042-2.23-.574-1.116-.103zm-3.921-3.054c-.04-.167-.616-.185 0 0zm1.15.67c.3-.21-.621-.16 0 0zm.966.593c.43-.162-.696-.163 0 0zm-2.584-1.773c.466.358 1.88.046.714-.213-.53-.283-1.727-.476-.912.17zm3.24 1.978c.193-.33-.815-.19 0 0zm-.984-.783c1.14.323-.958-.72-.281-.118l.15.068.13.05zm1.973 1.14c1.08.01-.975-.147 0 0zm-4.644-2.96c-.042-.2-.266.018 0 0zm6.47 3.985c.028-.363-.353.27 0 0zm-4.63-2.856c-.064-.191-.336-.008 0 0zm-1.738-1.254c.62-.037-.848-.273 0 0zm-2.06-1.332c-.077-.297-.674-.534 0 0zm5.407 3.435c-.114-.13-.054.028 0 0zm3.366 2.065c-.01-.197-.183.075 0 0zm-3.664-2.373c.06-.255-.528-.077 0 0zm-2.506-1.592c.46-.05-.74-.311 0 0zm4.241 2.637c.718-.285-.7-.14 0 0zM9.03 18.545c.827.106-.985-.563-.181-.06zm2.876 1.768c.773-.462.518 1.082 1.311.13.782-.57-.675.707.29.103.696-.467 1.726.22 2.376.445.468-.023.923.405 1.403.145.923-.25-1.806-.37-1.09-.81-.845.245-1.47-.294-1.885-.835-.948-.22-2.044-.703-2.517-1.542-.192-.315.28.044-.166-.47-.57-.508-.856-1.085-1.24-1.702-.457-.244-.51-.963-.557-.024.004-.593-.553-.992-.688-.826-.002-.571.595-.285.176-.707-.09-.592-.386-1.21-.475-1.877-.138-.322-.02-1.011-.473-.282-.165.77-.055-.947.202-.38.337-.58-.12-.51-.14-.43.22-.488.14-1.18-.057-.916.117-.517.185-1.902-.175-1.656.218-.54.414-2.473-.534-1.736-.384.005-1.048.14-1.363.296.986.543-.1.196-.5.11-.052.502-.45.285-.946.29.793.098-.386.81-.841.534-.59.282.51.987.012 1.205.06.328-.905-.12-.83.64-.573-.241-.078.9.209.514.975.264.686.866.71 1.437-.158.333-.784-.783-.14-.731-.507-.827-.561-.3-.984.085-.1.028 1.079.547.34.803.65.1.668.67.8 1.03.39.407.31-.45.779.04-.296-.436-1.567-1.228-.544-.974-.005-.44-.185-.793.129-.784.31-.562-.325 1.387.375.672.193-.085.24-.563.59.045.505.498.182.858-.531.403.127.433.954.587.799 1.265.165.595.395.376.596.342.158.578.247.153.255-.123.72.155.552.58.778.88.497.224-.712-1.522.142-.526.898.81.337 1.15-.47 1.02.51-.041.675.69 1.313.664.582.277.975 1.34-.027.897-.348-.313-1.58-.7-.573-.104.929.43 1.665.688 2.561 1.227.64.458.918.982 1.16 1.086-.538.257-1.623-.206-.817-.348-.503-.091-1.068-.345-.587.28.41.343 1.45.306 1.637.345-.159.348-.43.376.006.403-.486.26.156.3.201.448zm-.994-2.808c-.296-.31-.373-.89-.053-.385.164.066.525.947.053.385zm3.238 2.057c.185-.011.006.14 0 0zm-3.706-2.816c-.01-.468.107.36 0 0zm-.322-.433c-.372-.72.47.204 0 0zm-3.9-2.692c.219-.06.108.374 0 0zm3.104 1.682c.134-.504.158.424 0 0zm-2.192-1.525c-.155-.278.323.26 0 0zm1.882.604c-.352-.79.25-.432.078.13zM5.77 12.217c-.158-.26-.418-1.02-.334-1.252.076.378.804 1.627.357.518-.494-.93.59.302.702.534.05.23-.305-.063-.064.478-.44-.617-.26.34-.661-.278zm-1.003-.691c.04-.603.23.413 0 0zm.45.155c.216-.455.366.634 0 0zm-1.084-.84c-.374-.37-.644-.713.017-.23.255.01-.566-.778.06-.25.66.12.327 1.082-.077.48zm.57-.015c.217-.215.115.212 0 0zm.35.113c-.328-.617.4.258 0 0zm-.697-.667c-1.086-.966 1.365.506.177.18zm3.11 1.808c-.47-.282-.123-1.984.037-.82.457-.148-.025.6.315.594-.053.473-.206.643-.35.226zm1.15.68c.048-.513.099.35 0 0zm-.2-.198c.054-.22.007.258 0 0zM4.57 9.955c-.697-.963 2.027.973.447.244-.165-.043-.364-.06-.447-.244zm2.216 1.175c-.066-.81.147.134 0 0zm1.682 1.079c.13-.462.01.305 0 0zM4.676 9.587c.415-.088 1.718.729.52.234-.132-.148-.416-.08-.52-.234zm3.56 1.775c.044-.83.248-.495.002.118zM4.985 9.299c.169-.248-.45-1.12.089-.313.232.185.672.31.283.387.61.539-.15.146-.372-.074zm3.075 1.804c.117-.944.103.553 0 0zM4.632 8.427c.129-.055.068.172 0 0zm.802.478c.206-.434.38.483 0 0zm2.263 1.259c-.002-.167.043.242 0 0zm-.131-.29c-.314-.776.292.41 0 0zm-.193-.51c-.053-.32.18.404 0 0zm.314-.51c-.216-.38.272-1.673.326-.87-.227.625-.065.975.093.136.293-.66-.063 1.303-.42.735zm.322-1.923c.094-.115.02.139 0 0zM7.47 17.544c-.128-.111.016.07 0 0zm1.11.56c.615.16.612-.095.055-.17-.3-.28-1.246-.575-.4-.035.057.142.235.139.344.206zM6.389 16.65c.34.253 1.28.719.484.096.269-.312-.514-.478-.254-.686-.66-.404-.52-.368-.058-.356-.794-.354.114-.328.07-.51-.305-.06-1.52-.54-.804.04-.726-.37-.173.138-.392.084-.743-.202.66.565-.118.375.425.337 1.146.864.18.357-.128.183.69.46.892.6zm1.16.667c1.41.454-.691-.556 0 0zm5.94 3.598c.02-.28-.193.24 0 0zm.611.257c.325-.315.013.503.54-.077.005-.415-.017-.66-.606-.156-.162.09-.234.473.066.233zm-9.692-6.087c-.1-.393-.7-.39 0 0zm.652.428c-.242-.402-.864-.364 0 0zm3.71 2.237c.362.32 1.662.236.44.04-.182-.27-1.151-.204-.44-.04zm5.097 3.149c.558-.468-.54.208 0 0zm1.16.796c.003-.15-.24.066 0 0zm.001-.21c.617-.654-.598.039 0 0zM2.805 13.743c-.526-.75-.327-1.088-.835-1.7-.096-.47-.87-1.533-.4-.406.43.659.558 1.679 1.235 2.106zm12.03 7.534c1.135-.734-.466-.32 0 0zm.866.34c.57-.488-.36-.102 0 0zM4.215 14.255c.163-.242-.42-.031 0 0zm11.305 7.129c.551-.355-.126-.3-.1.032zm-7.47-4.71c-.02-.24-.291.02 0 0zm.46.267c-.145-.297-.224.047 0 0zm7.894 4.684c.705-.51-.428-.098-.148.096zm-.27-.13c.574-.482-.607.213 0 0zm1.38.918c.386-.258-.469-.083 0 0zM4.57 14.08c.517.116 2.066 1.274 1.152.08-.468-.138-.187-1.283-.665-1.08.32.535.264.763-.41.426-.845-.413-.474.204-.31.374-.224.052.299.196.233.2zm-2.356-1.86c.092-.383-.853-2.107-.446-.864.146.26.13.754.446.864zm4.324 2.666c-.266-.223-.013-.032 0 0zm.656.152c0-.405-.725-.164 0 0zm5.681 3.583c-.108-.278-.428-.006 0 0zm.273.199c-.04-.155-.157.03 0 0zM15.4 20.24c.216-.16-.27-.02 0 0zM3.39 12.52c.62-.24-.664-.17 0 0zm8.984 5.662c-.007-.401-.395.1 0 0zm-9.23-6.231c.399-.135-.367-.09 0 0zm1.156.56c-.007-.133-.122.05 0 0zm14.09 8.64c.512-.104 1.678.26 1.866-.136-.62-.015-2.15-.438-2.222.1l.136.023.22.013zM4.667 12.603c.009-.407-.317-.015 0 0zM1.63 10.495c-.138-.775-.525-.118 0 0zm.724.182c.009-.25-.663-.224 0 0zm.414.203c-.12-.097-.094.122 0 0zm2.605 1.67c.122-.112-.29-.083 0 0zm-2.88-2.128c-.07-.585-.84-.088 0 0zm-1.486-.964c-.02-.27-.144.102 0 0zm.22-.167c-.035-.32-.19.04 0 0zm1.22.729c.518-.203-.94-.42-.104-.04zm16.334 10.089c.33-.303-.42-.094 0 0zm1.974 1.023c.132-.392-.334.05 0 0zM2.573 9.38c.055-.38-.41.075 0 0zM.837 8.218c-.093-.535-.08-1.474.812-1.156-1.191.236.824 1.48.57.498.5.024.98-.296.716.19.987-.11 1.67-.964 2.624-.845.742-.098 1.554-.172 2.354-.471.658-.048 1.29-.756.93-1.175-.896-.076-1.835.036-2.827.233-1.098.228-2.096.662-3.205.849-1.08.145.217.4-.092.456-.564.196.672.328-.073.534-.46-.088-.94-.246-.743-.73-1.035.133-1.945.563-1.127 1.616h.06zm2.494-1.27c.243-.894 1.3.735.398.118-.108-.08-.285-.146-.398-.12zm.047-.434c.35-.26.186.146 0 0zm.445.008c.032-.411 1.018.218.163.148zm.608-.245c.222-.26.064.23 0 0zm.156-.104c.37-.444 2.095-.283.832-.043-.338-.255-.598.15-.832.043zm2.25-.347c-.055-1.214 1.119.432 0 0zm.64-.004c.233-.612.906-.245.108-.123.017.065-.024.316-.108.123zM2.322 9.067c.697-.427-.741-.37 0 0zm.515.144c.245-.26-.531-.106 0 0zm-1.52-1.08c.399-.305-.471-.116 0 0zm20.602 12.89c.012-.355-.304.16 0 0zm-2.093-1.43c.06-.408-.27.037 0 0zm2.67 1.568c.557 0 1.688-.173.475-.173-.19.03-1.109.024-.476.173zM3.29 8.959c.45-.03.706-.497-.087-.47-1.23-.127 1.084.42-.158.264-.167.11.236.237.245.207zm.398.202c-.048-.29-.14.154 0 0zm.47-1.257c.197-.243-.27-.065 0 0zm-1.5-2.508c.806-.274 1.907-.581 2.287.135-.387-.466-.156-.924.21-.243.516.689.775-.313.438-.545.383.476.819.7.257.03.61-.734-1.223.097-1.64.088-.2.09-2.071.477-1.551.535zm.472-.903c.46-.347 1.588.206.864-.345-.07-.062-1.586.418-.864.345zm1.674.069c.538.013-.231-.722.409-.39-.105-.343-.746-.407-1.06-.544-.176.314.36.938.65.934zm-1.38-1.52c.186-.252-.326.128 0 0zm.684.164c.866-.115-.22-.373-.174-.01zm-1.277-1c-.61-.796 1.146.134.527-.7-.522-.415-1.023.468-.527.7zm7.824 4.215c.28-.496-1.155-.668-.188-.175.09.03.07.21.188.175z"},child:[]}]})(n)}function IV(n){return Lr({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M.38 10.377l-.272-.037c-.048.344-.082.695-.101 1.041l.275.016c.018-.34.051-.682.098-1.02zM4.136 3.289l-.184-.205c-.258.232-.509.48-.746.734l.202.188c.231-.248.476-.49.728-.717zM5.769 2.059l-.146-.235c-.296.186-.586.385-.863.594l.166.219c.27-.203.554-.399.843-.578zM1.824 18.369c.185.297.384.586.593.863l.22-.164c-.205-.271-.399-.555-.58-.844l-.233.145zM1.127 16.402l-.255.104c.129.318.274.635.431.943l.005.01.245-.125-.005-.01c-.153-.301-.295-.611-.421-.922zM.298 9.309l.269.063c.076-.332.168-.664.272-.986l-.261-.087c-.108.332-.202.672-.28 1.01zM.274 12.42l-.275.01c.012.348.04.699.083 1.043l.273-.033c-.042-.336-.069-.68-.081-1.02zM.256 14.506c.073.34.162.682.264 1.014l.263-.08c-.1-.326-.187-.658-.258-.99l-.269.056zM11.573.275L11.563 0c-.348.012-.699.039-1.044.082l.034.273c.338-.041.68-.068 1.02-.08zM23.221 8.566c.1.326.186.66.256.992l.27-.059c-.072-.34-.16-.682-.262-1.014l-.264.081zM17.621 1.389c-.309-.164-.627-.314-.947-.449l-.107.252c.314.133.625.281.926.439l.128-.242zM15.693.572c-.332-.105-.67-.199-1.01-.277l-.063.268c.332.076.664.168.988.273l.085-.264zM6.674 1.545c.298-.15.606-.291.916-.418L7.486.873c-.317.127-.632.272-.937.428l-.015.008.125.244.015-.008zM23.727 11.588l.275-.01a11.797 11.797 0 0 0-.082-1.045l-.273.033c.041.338.068.682.08 1.022zM13.654.105c-.346-.047-.696-.08-1.043-.098l-.014.273c.339.018.683.051 1.019.098l.038-.273zM9.544.527l-.058-.27c-.34.072-.681.16-1.014.264l.081.262c.325-.099.659-.185.991-.256zM1.921 5.469l.231.15c.185-.285.384-.566.592-.834l-.217-.17c-.213.276-.417.563-.606.854zM.943 7.318l.253.107c.132-.313.28-.625.439-.924l-.243-.128c-.163.307-.314.625-.449.945zM18.223 21.943l.145.234c.295-.186.586-.385.863-.594l-.164-.219c-.272.204-.557.4-.844.579zM21.248 19.219l.217.17c.215-.273.418-.561.607-.854l-.23-.148c-.186.285-.385.564-.594.832zM19.855 20.715l.184.203c.258-.23.51-.479.746-.732l-.201-.188c-.23.248-.477.488-.729.717zM22.359 17.504l.244.129c.162-.307.314-.625.449-.945l-.254-.107a11.27 11.27 0 0 1-.439.923zM23.617 13.629l.273.039c.049-.346.082-.695.102-1.043l-.275-.014c-.018.338-.051.682-.1 1.018zM23.156 15.621l.264.086c.107-.332.201-.67.279-1.01l-.268-.063c-.077.333-.169.665-.275.987zM22.453 6.672c.154.303.297.617.424.932l.256-.104c-.131-.322-.277-.643-.436-.953l-.244.125zM8.296 23.418c.331.107.67.201 1.009.279l.062-.268c-.331-.076-.663-.168-.986-.273l-.085.262zM10.335 23.889c.345.049.696.082 1.043.102l.014-.275c-.339-.018-.682-.051-1.019-.098l-.038.271zM17.326 22.449c-.303.154-.613.297-.926.424l.104.256c.318-.131.639-.275.947-.434l.004-.002-.123-.246-.006.002zM4.613 21.467c.274.213.562.418.854.605l.149-.23c-.285-.184-.565-.385-.833-.592l-.17.217zM12.417 23.725l.009.275c.348-.014.699-.041 1.045-.084l-.035-.271c-.336.041-.68.068-1.019.08zM6.37 22.604c.307.162.625.314.946.449l.107-.254c-.313-.133-.624-.279-.924-.439l-.129.244zM3.083 20.041c.233.258.48.51.734.746l.188-.201c-.249-.23-.49-.477-.717-.729l-.205.184zM14.445 23.475l.059.27c.34-.074.68-.162 1.014-.266l-.082-.262c-.325.099-.659.185-.991.258zM21.18.129A2.689 2.689 0 1 0 21.18 5.507 2.689 2.689 0 1 0 21.18.129zM15.324 15.447c0 .471.314.66.852.66.67 0 1.297-.396 1.297-1.016v-.645c-.23.107-.379.141-1.107.24-.735.109-1.042.306-1.042.761zM12 2.818c-5.07 0-9.18 4.109-9.18 9.18 0 5.068 4.11 9.18 9.18 9.18 5.07 0 9.18-4.111 9.18-9.18 0-5.07-4.11-9.18-9.18-9.18zm-2.487 13.77H5.771v-6.023h.769v5.346h2.974v.677zm4.13 0h-.619v-.67c-.405.57-.811.793-1.446.793-.843 0-1.38-.463-1.38-1.182v-3.271h.686v3c0 .52.347.85.893.85.719 0 1.181-.578 1.181-1.461v-2.389h.686v4.33zm-.53-8.393c0-1.484 1.205-2.689 2.689-2.689s2.688 1.205 2.688 2.689-1.203 2.688-2.688 2.688-2.689-1.203-2.689-2.688zm5.567 7.856v.52c-.223.059-.33.074-.471.074-.34 0-.637-.238-.711-.57-.381.406-.918.637-1.471.637-.877 0-1.422-.463-1.422-1.248 0-.527.256-.916.76-1.123.266-.107.414-.141 1.389-.264.545-.066.719-.191.719-.48v-.182c0-.412-.348-.645-.967-.645-.645 0-.957.24-1.016.77h-.693c.041-1 .686-1.404 1.734-1.404 1.066 0 1.627.412 1.627 1.182v2.412c0 .215.133.338.373.338.041-.002.074-.002.149-.017z"},child:[]}]})(n)}function LV(n){return Lr({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.5594 14.7228a.5269.5269 0 0 0-.0563-.1191c-.139-.2632-.4768-.3418-1.0074-.2321-1.6533.3411-2.2935.1312-2.5256-.0191 1.342-2.0482 2.445-4.522 3.0411-6.8297.2714-1.0507.7982-3.5237.1222-4.7316a1.5641 1.5641 0 0 0-.1509-.235C21.6931.9086 19.8007.0248 17.5099.0005c-1.4947-.0158-2.7705.3461-3.1161.4794a9.449 9.449 0 0 0-.5159-.0816 8.044 8.044 0 0 0-1.3114-.1278c-1.1822-.0184-2.2038.2642-3.0498.8406-.8573-.3211-4.7888-1.645-7.2219.0788C.9359 2.1526.3086 3.8733.4302 6.3043c.0409.818.5069 3.334 1.2423 5.7436.4598 1.5065.9387 2.7019 1.4334 3.582.553.9942 1.1259 1.5933 1.7143 1.7895.4474.1491 1.1327.1441 1.8581-.7279.8012-.9635 1.5903-1.8258 1.9446-2.2069.4351.2355.9064.3625 1.39.3772a.0569.0569 0 0 0 .0004.0041 11.0312 11.0312 0 0 0-.2472.3054c-.3389.4302-.4094.5197-1.5002.7443-.3102.064-1.1344.2339-1.1464.8115-.0025.1224.0329.2309.0919.3268.2269.4231.9216.6097 1.015.6331 1.3345.3335 2.5044.092 3.3714-.6787-.017 2.231.0775 4.4174.3454 5.0874.2212.5529.7618 1.9045 2.4692 1.9043.2505 0 .5263-.0291.8296-.0941 1.7819-.3821 2.5557-1.1696 2.855-2.9059.1503-.8707.4016-2.8753.5388-4.1012.0169-.0703.0357-.1207.057-.1362.0007-.0005.0697-.0471.4272.0307a.3673.3673 0 0 0 .0443.0068l.2539.0223.0149.001c.8468.0384 1.9114-.1426 2.5312-.4308.6438-.2988 1.8057-1.0323 1.5951-1.6698zM2.371 11.8765c-.7435-2.4358-1.1779-4.8851-1.2123-5.5719-.1086-2.1714.4171-3.6829 1.5623-4.4927 1.8367-1.2986 4.8398-.5408 6.108-.13-.0032.0032-.0066.0061-.0098.0094-2.0238 2.044-1.9758 5.536-1.9708 5.7495-.0002.0823.0066.1989.0162.3593.0348.5873.0996 1.6804-.0735 2.9184-.1609 1.1504.1937 2.2764.9728 3.0892.0806.0841.1648.1631.2518.2374-.3468.3714-1.1004 1.1926-1.9025 2.1576-.5677.6825-.9597.5517-1.0886.5087-.3919-.1307-.813-.5871-1.2381-1.3223-.4796-.839-.9635-2.0317-1.4155-3.5126zm6.0072 5.0871c-.1711-.0428-.3271-.1132-.4322-.1772.0889-.0394.2374-.0902.4833-.1409 1.2833-.2641 1.4815-.4506 1.9143-1.0002.0992-.126.2116-.2687.3673-.4426a.3549.3549 0 0 0 .0737-.1298c.1708-.1513.2724-.1099.4369-.0417.156.0646.3078.26.3695.4752.0291.1016.0619.2945-.0452.4444-.9043 1.2658-2.2216 1.2494-3.1676 1.0128zm2.094-3.988-.0525.141c-.133.3566-.2567.6881-.3334 1.003-.6674-.0021-1.3168-.2872-1.8105-.8024-.6279-.6551-.9131-1.5664-.7825-2.5004.1828-1.3079.1153-2.4468.079-3.0586-.005-.0857-.0095-.1607-.0122-.2199.2957-.2621 1.6659-.9962 2.6429-.7724.4459.1022.7176.4057.8305.928.5846 2.7038.0774 3.8307-.3302 4.7363-.084.1866-.1633.3629-.2311.5454zm7.3637 4.5725c-.0169.1768-.0358.376-.0618.5959l-.146.4383a.3547.3547 0 0 0-.0182.1077c-.0059.4747-.054.6489-.115.8693-.0634.2292-.1353.4891-.1794 1.0575-.11 1.4143-.8782 2.2267-2.4172 2.5565-1.5155.3251-1.7843-.4968-2.0212-1.2217a6.5824 6.5824 0 0 0-.0769-.2266c-.2154-.5858-.1911-1.4119-.1574-2.5551.0165-.5612-.0249-1.9013-.3302-2.6462.0044-.2932.0106-.5909.019-.8918a.3529.3529 0 0 0-.0153-.1126 1.4927 1.4927 0 0 0-.0439-.208c-.1226-.4283-.4213-.7866-.7797-.9351-.1424-.059-.4038-.1672-.7178-.0869.067-.276.1831-.5875.309-.9249l.0529-.142c.0595-.16.134-.3257.213-.5012.4265-.9476 1.0106-2.2453.3766-5.1772-.2374-1.0981-1.0304-1.6343-2.2324-1.5098-.7207.0746-1.3799.3654-1.7088.5321a5.6716 5.6716 0 0 0-.1958.1041c.0918-1.1064.4386-3.1741 1.7357-4.4823a4.0306 4.0306 0 0 1 .3033-.276.3532.3532 0 0 0 .1447-.0644c.7524-.5706 1.6945-.8506 2.802-.8325.4091.0067.8017.0339 1.1742.081 1.939.3544 3.2439 1.4468 4.0359 2.3827.8143.9623 1.2552 1.9315 1.4312 2.4543-1.3232-.1346-2.2234.1268-2.6797.779-.9926 1.4189.543 4.1729 1.2811 5.4964.1353.2426.2522.4522.2889.5413.2403.5825.5515.9713.7787 1.2552.0696.087.1372.1714.1885.245-.4008.1155-1.1208.3825-1.0552 1.717-.0123.1563-.0423.4469-.0834.8148-.0461.2077-.0702.4603-.0994.7662zm.8905-1.6211c-.0405-.8316.2691-.9185.5967-1.0105a2.8566 2.8566 0 0 0 .135-.0406 1.202 1.202 0 0 0 .1342.103c.5703.3765 1.5823.4213 3.0068.1344-.2016.1769-.5189.3994-.9533.6011-.4098.1903-1.0957.333-1.7473.3636-.7197.0336-1.0859-.0807-1.1721-.151zm.5695-9.2712c-.0059.3508-.0542.6692-.1054 1.0017-.055.3576-.112.7274-.1264 1.1762-.0142.4368.0404.8909.0932 1.3301.1066.887.216 1.8003-.2075 2.7014a3.5272 3.5272 0 0 1-.1876-.3856c-.0527-.1276-.1669-.3326-.3251-.6162-.6156-1.1041-2.0574-3.6896-1.3193-4.7446.3795-.5427 1.3408-.5661 2.1781-.463zm.2284 7.0137a12.3762 12.3762 0 0 0-.0853-.1074l-.0355-.0444c.7262-1.1995.5842-2.3862.4578-3.4385-.0519-.4318-.1009-.8396-.0885-1.2226.0129-.4061.0666-.7543.1185-1.0911.0639-.415.1288-.8443.1109-1.3505.0134-.0531.0188-.1158.0118-.1902-.0457-.4855-.5999-1.938-1.7294-3.253-.6076-.7073-1.4896-1.4972-2.6889-2.0395.5251-.1066 1.2328-.2035 2.0244-.1859 2.0515.0456 3.6746.8135 4.8242 2.2824a.908.908 0 0 1 .0667.1002c.7231 1.3556-.2762 6.2751-2.9867 10.5405zm-8.8166-6.1162c-.025.1794-.3089.4225-.6211.4225a.5821.5821 0 0 1-.0809-.0056c-.1873-.026-.3765-.144-.5059-.3156-.0458-.0605-.1203-.178-.1055-.2844.0055-.0401.0261-.0985.0925-.1488.1182-.0894.3518-.1226.6096-.0867.3163.0441.6426.1938.6113.4186zm7.9305-.4114c.0111.0792-.049.201-.1531.3102-.0683.0717-.212.1961-.4079.2232a.5456.5456 0 0 1-.075.0052c-.2935 0-.5414-.2344-.5607-.3717-.024-.1765.2641-.3106.5611-.352.297-.0414.6111.0088.6356.1851z"},child:[]}]})(n)}const DV=an(vs.div)`
  display: flex;
  flex-direction: column;
  gap: 2rem;
  width: 100%;
  max-width: 900px;
  margin: 0 auto;
  padding: 2rem;
`,NV=an(vs.h2)`
  font-size: clamp(1.8rem, 3vw, 2.2rem);
  font-weight: 700;
  color: #fff;
  text-align: center;
  margin-bottom: 1rem;
  background: linear-gradient(135deg, #0066cc 0%, #4d94ff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
`,UV=an(vs.div)`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 1.5rem;
  width: 100%;
`,bP=an(vs.div)`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  padding: 1.5rem;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-5px);
    background: rgba(0, 102, 204, 0.1);
    border-color: rgba(0, 102, 204, 0.3);
  }
`,OV=an.div`
  font-size: 2.5rem;
  color: #0066cc;
  transition: color 0.3s ease;

  ${bP}:hover & {
    color: #4d94ff;
  }
`,FV=an.h3`
  font-size: 1rem;
  font-weight: 500;
  color: #fff;
  text-align: center;
`,kV=an.div`
  width: 100%;
  height: 4px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
  overflow: hidden;
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: ${n=>n.level}%;
    background: linear-gradient(90deg, #0066cc, #4d94ff);
    border-radius: 2px;
  }
`,zV=[{name:"Docker",icon:GD,level:85},{name:"Python",icon:XD,level:90},{name:"SQL",icon:LV,level:85},{name:"Flask",icon:RV,level:80},{name:"Git",icon:WD,level:90},{name:"HTML",icon:jD,level:95},{name:"CSS",icon:HD,level:90},{name:"AWS",icon:VD,level:85},{name:"Lua",icon:IV,level:80},{name:"macOS",icon:BD,level:90}],BV=()=>{const n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:10}}};return je.jsxs(DV,{variants:n,initial:"hidden",animate:"visible",children:[je.jsx(NV,{variants:e,children:"Habilidades Técnicas"}),je.jsx(UV,{children:zV.map((t,i)=>je.jsxs(bP,{variants:e,whileHover:{scale:1.05},whileTap:{scale:.95},children:[je.jsx(OV,{as:t.icon}),je.jsx(FV,{children:t.name}),je.jsx(kV,{level:t.level})]},t.name))})]})},VV=an.footer`
  width: 100%;
  padding: 2rem 0;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.9), transparent);
  backdrop-filter: blur(10px);
`,HV=an.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2rem;
`,GV=an.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding-bottom: 2rem;
  border-bottom: 1px solid rgba(0, 102, 204, 0.2);

  @media (max-width: 768px) {
    flex-direction: column;
    gap: 2rem;
    text-align: center;
  }
`,WV=an.div`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
`,jV=an(vs.div)`
  font-size: 2rem;
  font-weight: 700;
  background: linear-gradient(90deg, #0066cc, #4d94ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
`,XV=an.p`
  color: rgba(255, 255, 255, 0.7);
  font-size: 1rem;
`,YV=an.div`
  display: flex;
  gap: 1.5rem;
`,qV=an(vs.a)`
  color: rgba(255, 255, 255, 0.8);
  font-size: 1.4rem;
  padding: 0.5rem;
  border-radius: 50%;
  background: rgba(0, 102, 204, 0.1);
  border: 1px solid rgba(0, 102, 204, 0.2);
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  
  &:hover {
    color: #fff;
    background: rgba(0, 102, 204, 0.2);
    border-color: rgba(0, 102, 204, 0.3);
    transform: translateY(-2px);
  }
`,ZV=an.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  text-align: center;
`,KV=an.nav`
  display: flex;
  gap: 2rem;
  flex-wrap: wrap;
  justify-content: center;
`,$V=an(vs.a)`
  color: rgba(255, 255, 255, 0.7);
  text-decoration: none;
  font-size: 0.9rem;
  transition: color 0.3s ease;

  &:hover {
    color: #fff;
  }
`,QV=an.p`
  color: rgba(255, 255, 255, 0.5);
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
`,JV=[{icon:je.jsx(Ex,{}),url:"https://github.com/Kzinnn",name:"GitHub"},{icon:je.jsx(Tx,{}),url:"https://www.linkedin.com/in/khayan-godinho-2a3a3a2b7/",name:"LinkedIn"},{icon:je.jsx(wx,{}),url:"https://discord.gg/7nQpgEBt88",name:"Discord"}],eH=[{name:"Sobre",href:"#about"},{name:"Projetos",href:"#projects"},{name:"Skills",href:"#skills"},{name:"Contato",href:"#contact"}],tH=()=>je.jsx(VV,{children:je.jsxs(HV,{children:[je.jsxs(GV,{children:[je.jsxs(WV,{children:[je.jsx(jV,{whileHover:{scale:1.05},whileTap:{scale:.95},children:"KG"}),je.jsx(XV,{children:"Transformando ideias em realidade através do código"})]}),je.jsx(YV,{children:JV.map((n,e)=>je.jsx(qV,{href:n.url,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1},whileTap:{scale:.95},initial:{opacity:0,y:-20},animate:{opacity:1,y:0,transition:{delay:e*.1}},children:n.icon},n.name))})]}),je.jsxs(ZV,{children:[je.jsx(KV,{children:eH.map(n=>je.jsx($V,{href:n.href,whileHover:{y:-2},whileTap:{y:0},children:n.name},n.name))}),je.jsxs(QV,{children:[je.jsx("span",{children:" 2024 Khayan G."}),je.jsx("span",{children:"Feito com"}),je.jsx(qD,{style:{color:"#0066cc"}})]})]})]})}),nH=an.div`
  position: fixed;
  bottom: 20px;
  right: 20px;
  color: #0066cc;
  cursor: pointer;
  opacity: 0.5;
  transition: all 0.3s ease;
  z-index: 1000;
  padding: 10px;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 50%;

  &:hover {
    opacity: 1;
    transform: scale(1.1);
  }
`,iH=an.div`
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.95);
  padding: 2rem;
  border-radius: 1rem;
  border: 1px solid #0066cc;
  display: ${n=>n.show?"block":"none"};
  z-index: 1000;
`,rH=an.canvas`
  border: 1px solid #0066cc;
  background: rgba(0, 0, 0, 0.5);
  cursor: crosshair;
`,sH=an.button`
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: none;
  border: none;
  color: #0066cc;
  cursor: pointer;
  font-size: 1.5rem;
  
  &:hover {
    color: #4d94ff;
  }
`,oH=an.div`
  color: #0066cc;
  text-align: center;
  margin-top: 1rem;
  font-size: 1.2rem;
`,aH=an.p`
  color: #4d94ff;
  text-align: center;
  margin: 1rem 0;
  font-size: 0.9rem;
  opacity: 0.8;
`,lH=()=>{const[n,e]=Se.useState(!1),[t,i]=Se.useState(0),r=Se.useRef(null),s=()=>{const a=r.current,u=a.getContext("2d"),d=(h,m)=>{u.fillStyle="#0066cc",u.beginPath(),u.arc(h,m,3,0,Math.PI*2),u.fill()};u.clearRect(0,0,a.width,a.height),a.onclick=h=>{const m=a.getBoundingClientRect(),g=h.clientX-m.left,y=h.clientY-m.top;d(g,y),i(_=>_+1)}};return Se.useEffect(()=>(n&&r.current&&s(),()=>{r.current&&(r.current.onclick=null)}),[n]),je.jsxs(je.Fragment,{children:[je.jsx(nH,{onClick:()=>{e(!0),i(0)},children:je.jsx(YD,{size:24})}),je.jsxs(iH,{show:n,children:[je.jsx(sH,{onClick:()=>{e(!1),i(0)},children:"×"}),je.jsx("h3",{style:{color:"#0066cc",marginBottom:"1rem",textAlign:"center"},children:"Star Maker!"}),je.jsxs(aH,{children:["Clique em qualquer lugar para criar estrelas!",je.jsx("br",{}),"Veja quantas estrelas você consegue criar."]}),je.jsx(rH,{ref:r,width:300,height:400}),je.jsxs(oH,{children:["Estrelas criadas: ",t]})]})]})},uH=an.div`
  width: 100%;
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
  background: #000000;
`,cH=an.div`
  width: 100%;
  min-height: 100vh;
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  padding: 1rem;

  @media (max-width: 768px) {
    padding: 0.5rem;
  }
`,fH=an.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  padding-top: 26vh;
  gap: 3rem;
  max-width: 1200px;
  margin: 0 auto;
  width: 100%;
`,dH=an.header`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem 0;
  margin-bottom: 1rem;
`,hH=an.div`
  font-size: 2rem;
  font-weight: 800;
  font-family: 'Space Grotesk', sans-serif;
  letter-spacing: -1px;
  cursor: pointer;
  transition: all 0.3s ease;
  background: linear-gradient(135deg, #fff 0%, #0066cc 50%, #4d94ff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 20px rgba(0, 102, 204, 0.3);
  padding: 0.5rem;
  border-radius: 8px;
  position: relative;
  
  &:hover {
    transform: translateY(-2px);
    text-shadow: 0 0 30px rgba(0, 102, 204, 0.5);
    
    &:after {
      opacity: 1;
      transform: scale(1.05);
    }
  }
  
  &:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 8px;
    background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(0,102,204,0.1) 100%);
    opacity: 0;
    transform: scale(0.95);
    transition: all 0.3s ease;
  }

  span {
    background: linear-gradient(135deg, #4d94ff 0%, #0066cc 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 0 20px rgba(77, 148, 255, 0.3);
  }
`,pH=an.nav`
  display: flex;
  gap: 1.5rem;
  align-items: center;
`,$_=an.a`
  color: #fff;
  font-size: 1.5rem;
  transition: all 0.3s ease;

  &:hover {
    color: #0066cc;
    transform: translateY(-2px);
  }
`,mH=an(vs.div)`
  display: flex;
  flex-direction: column;
  gap: 2rem;
  text-align: center;
`,gH=an(vs.div)`
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
  margin-bottom: 2rem;
`,yH=an(vs.h1)`
  font-size: 2.5rem;
  font-weight: 700;
  color: #fff;
  line-height: 1.3;
  font-family: 'Space Grotesk', sans-serif;
  max-width: 800px;
  margin: 0 auto;
  background: linear-gradient(135deg, #fff 0%, #0066cc 50%, #4d94ff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 40px rgba(0, 102, 204, 0.4);

  @media (max-width: 768px) {
    font-size: 2rem;
  }
`,vH=an(vs.p)`
  font-size: 1.3rem;
  background: linear-gradient(135deg, #fff 0%, #0066cc 50%, #4d94ff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  max-width: 600px;
  margin: 0 auto;
  line-height: 1.6;
  font-weight: 500;
  text-shadow: 0 0 25px rgba(0, 102, 204, 0.3);
  opacity: 0.9;

  @media (max-width: 768px) {
    font-size: 1.1rem;
  }
`,_H=an(vs.div)`
  display: flex;
  gap: 2rem;
  justify-content: center;
  margin-top: 2rem;
`,Q_=an(vs.a)`
  color: #fff;
  font-size: 2rem;
  transition: all 0.3s ease;

  &:hover {
    color: #0066cc;
    transform: translateY(-3px);
  }
`,xH=an.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
  pointer-events: none;
`;function SH(){const n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:10}}};return je.jsxs(uH,{children:[je.jsx(lH,{}),je.jsx(xH,{children:je.jsx(PV,{})}),je.jsxs(cH,{children:[je.jsxs(dH,{children:[je.jsxs(hH,{children:["K",je.jsx("span",{children:"G"})]}),je.jsxs(pH,{children:[je.jsx($_,{href:"https://github.com/Kzinnn",target:"_blank",rel:"noopener noreferrer",children:je.jsx(Ex,{})}),je.jsx($_,{href:"https://www.linkedin.com/in/khayan-g-59442719b",target:"_blank",rel:"noopener noreferrer",children:je.jsx(Tx,{})}),je.jsx($_,{href:"https://discord.gg/7nQpgEBt88",target:"_blank",rel:"noopener noreferrer",children:je.jsx(wx,{})})]})]}),je.jsx(fH,{children:je.jsxs(mH,{variants:n,initial:"hidden",animate:"visible",children:[je.jsxs(gH,{children:[je.jsx(yH,{variants:e,children:"Transformando ideias em código com paixão pela tecnologia e inovação"}),je.jsx(vH,{variants:e,children:"Combinando criatividade e tecnologia para criar soluções que impactam positivamente a vida das pessoas"}),je.jsxs(_H,{variants:e,children:[je.jsx(Q_,{href:"https://github.com/Kzinnn",target:"_blank",rel:"noopener noreferrer",children:je.jsx(Ex,{})}),je.jsx(Q_,{href:"https://www.linkedin.com/in/khayan-g-59442719b",target:"_blank",rel:"noopener noreferrer",children:je.jsx(Tx,{})}),je.jsx(Q_,{href:"https://discord.gg/7nQpgEBt88",target:"_blank",rel:"noopener noreferrer",children:je.jsx(wx,{})})]})]}),je.jsx(BV,{})]})}),je.jsx(tH,{})]})]})}oR.createRoot(document.getElementById("root")).render(je.jsx(Se.StrictMode,{children:je.jsx(SH,{})}));
